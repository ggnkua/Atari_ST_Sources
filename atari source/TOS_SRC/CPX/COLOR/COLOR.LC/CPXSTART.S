; cpxstart.asm
;=============================================================================
; Startup file for COLOR.CPX
;



; Globals
	xdef	    cpxstart
	xdef	    _saved
	xdef	    _usr_vals
	xdef	    _def_vals
	
; Externs
	xref	    _cpx_init
	
	text

cpxstart:
   	  jmp _cpx_init

	data


_saved:	dc.w	0			; 0: no user-preference saved yet
					; non-zero: user-preference saved
							
_usr_vals:					; saved user-preference
		dc.w	$03E8, $03E8, $03E8	; Pen 0
		dc.w	$0000, $0000, $0000	; Pen 1
		dc.w	$03E8, $0000, $0000	; 2
		dc.w	$0000, $03E8, $0000	; 3
		dc.w	$0000, $0000, $03E8	; 4
		dc.w	$0000, $03E8, $03E8	; 5
		dc.w	$03E8, $03E8, $0000	; 6
		dc.w	$03E8, $0000, $03E8	; 7
		dc.w	$0320, $0320, $0320	; 8  - NEW
		dc.w	$01F4, $01F4, $01F4	; 9  - NEW
		dc.w	$01F4, $0000, $0000	; 10 - NEW
		dc.w	$0000, $01F4, $0000	; 11 - NEW
		dc.w	$0000, $0000, $01F4	; 12 - NEW
		dc.w	$0000, $01F4, $01F4	; 13 - NEW
		dc.w	$01F4, $01F4, $0000	; 14 - NEW
		dc.w	$01F4, $0000, $01F4	; 15 - NEW
		dc.w	$03E8, $03E8, $03E8	
		dc.w	$03A5, $03A5, $03A5
		dc.w	$0363, $0363, $0363
		dc.w	$0320, $0320, $0320
		dc.w	$02DD, $02DD, $02DD
		dc.w	$029B, $029B, $029B
		dc.w	$0258, $0258, $0258
		dc.w	$0215, $0215, $0215
		dc.w	$01D3, $01D3, $01D3
		dc.w	$0190, $0190, $0190
		dc.w	$014D, $014D, $014D
		dc.w	$010B, $010B, $010B
		dc.w	$00C8, $00C8, $00C8
		dc.w	$0085, $0085, $0085
		dc.w	$0043, $0043, $0043
		dc.w	$0000, $0000, $0000
		dc.w	$03E8, $0000, $0000
		dc.w	$03E8, $0000, $0043
		dc.w	$03E8, $0000, $0085
		dc.w	$03E8, $0000, $00C8
		dc.w	$03E8, $0000, $010B
		dc.w	$03E8, $0000, $014D
		dc.w	$03E8, $0000, $0190
		dc.w	$03E8, $0000, $01D3
		dc.w	$03E8, $0000, $0215
		dc.w	$03E8, $0000, $0258
		dc.w	$03E8, $0000, $029B
		dc.w	$03E8, $0000, $02DD
		dc.w	$03E8, $0000, $0320
		dc.w	$03E8, $0000, $0363
		dc.w	$03E8, $0000, $03A5
		dc.w	$03E8, $0000, $03E8
		dc.w	$03A5, $0000, $03E8
		dc.w	$0363, $0000, $03E8
		dc.w	$0320, $0000, $03E8
		dc.w	$02DD, $0000, $03E8
		dc.w	$029B, $0000, $03E8
		dc.w	$0258, $0000, $03E8
		dc.w	$0215, $0000, $03E8
		dc.w	$01D3, $0000, $03E8
		dc.w	$0190, $0000, $03E8
		dc.w	$014D, $0000, $03E8
		dc.w	$010B, $0000, $03E8
		dc.w	$00C8, $0000, $03E8
		dc.w	$0085, $0000, $03E8
		dc.w	$0043, $0000, $03E8
		dc.w	$0000, $0000, $03E8
		dc.w	$0000, $0043, $03E8
		dc.w	$0000, $0085, $03E8
		dc.w	$0000, $00C8, $03E8
		dc.w	$0000, $010B, $03E8
		dc.w	$0000, $014D, $03E8
		dc.w	$0000, $0190, $03E8
		dc.w	$0000, $01D3, $03E8
		dc.w	$0000, $0215, $03E8
		dc.w	$0000, $0258, $03E8
		dc.w	$0000, $029B, $03E8
		dc.w	$0000, $02DD, $03E8
		dc.w	$0000, $0320, $03E8
		dc.w	$0000, $0363, $03E8
		dc.w	$0000, $03A5, $03E8
		dc.w	$0000, $03E8, $03E8
		dc.w	$0000, $03E8, $03A5
		dc.w	$0000, $03E8, $0363
		dc.w	$0000, $03E8, $0320
		dc.w	$0000, $03E8, $02DD
		dc.w	$0000, $03E8, $029B
		dc.w	$0000, $03E8, $0258
		dc.w	$0000, $03E8, $0215
		dc.w	$0000, $03E8, $01D3
		dc.w	$0000, $03E8, $0190
		dc.w	$0000, $03E8, $014D
		dc.w	$0000, $03E8, $010B
		dc.w	$0000, $03E8, $00C8
		dc.w	$0000, $03E8, $0085
		dc.w	$0000, $03E8, $0043
		dc.w	$0000, $03E8, $0000
		dc.w	$0043, $03E8, $0000
		dc.w	$0085, $03E8, $0000
		dc.w	$00C8, $03E8, $0000
		dc.w	$010B, $03E8, $0000
		dc.w	$014D, $03E8, $0000
		dc.w	$0190, $03E8, $0000
		dc.w	$01D3, $03E8, $0000
		dc.w	$0215, $03E8, $0000
		dc.w	$0258, $03E8, $0000
		dc.w	$029B, $03E8, $0000
		dc.w	$02DD, $03E8, $0000
		dc.w	$0320, $03E8, $0000
		dc.w	$0363, $03E8, $0000
		dc.w	$03A5, $03E8, $0000
		dc.w	$03E8, $03E8, $0000
		dc.w	$03E8, $03A5, $0000
		dc.w	$03E8, $0363, $0000
		dc.w	$03E8, $0320, $0000
		dc.w	$03E8, $02DD, $0000
		dc.w	$03E8, $029B, $0000
		dc.w	$03E8, $0258, $0000
		dc.w	$03E8, $0215, $0000
		dc.w	$03E8, $01D3, $0000
		dc.w	$03E8, $0190, $0000
		dc.w	$03E8, $014D, $0000
		dc.w	$03E8, $010B, $0000
		dc.w	$03E8, $00C8, $0000
		dc.w	$03E8, $0085, $0000
		dc.w	$03E8, $0043, $0000
		dc.w	$02DD, $0000, $0000
		dc.w	$02DD, $0000, $0043
		dc.w	$02DD, $0000, $0085
		dc.w	$02DD, $0000, $00C8
		dc.w	$02DD, $0000, $010B
		dc.w	$02DD, $0000, $014D
		dc.w	$02DD, $0000, $0190
		dc.w	$02DD, $0000, $01D3
		dc.w	$02DD, $0000, $0215
		dc.w	$02DD, $0000, $0258
		dc.w	$02DD, $0000, $029B
		dc.w	$02DD, $0000, $02DD
		dc.w	$029B, $0000, $02DD
		dc.w	$0258, $0000, $02DD
		dc.w	$0215, $0000, $02DD
		dc.w	$01D3, $0000, $02DD
		dc.w	$0190, $0000, $02DD
		dc.w	$014D, $0000, $02DD
		dc.w	$010B, $0000, $02DD
		dc.w	$00C8, $0000, $02DD
		dc.w	$0085, $0000, $02DD
		dc.w	$0043, $0000, $02DD
		dc.w	$0000, $0000, $02DD
		dc.w	$0000, $0043, $02DD
		dc.w	$0000, $0085, $02DD
		dc.w	$0000, $00C8, $02DD
		dc.w	$0000, $010B, $02DD
		dc.w	$0000, $014D, $02DD
		dc.w	$0000, $0190, $02DD
		dc.w	$0000, $01D3, $02DD
		dc.w	$0000, $0215, $02DD
		dc.w	$0000, $0258, $02DD
		dc.w	$0000, $029B, $02DD
		dc.w	$0000, $02DD, $02DD
		dc.w	$0000, $02DD, $029B
		dc.w	$0000, $02DD, $0258
		dc.w	$0000, $02DD, $0215
		dc.w	$0000, $02DD, $01D3
		dc.w	$0000, $02DD, $0190
		dc.w	$0000, $02DD, $014D
		dc.w	$0000, $02DD, $010B
		dc.w	$0000, $02DD, $00C8
		dc.w	$0000, $02DD, $0085
		dc.w	$0000, $02DD, $0043
		dc.w	$0000, $02DD, $0000
		dc.w	$0043, $02DD, $0000
		dc.w	$0085, $02DD, $0000
		dc.w	$00C8, $02DD, $0000
		dc.w	$010B, $02DD, $0000
		dc.w	$014D, $02DD, $0000
		dc.w	$0190, $02DD, $0000
		dc.w	$01D3, $02DD, $0000
		dc.w	$0215, $02DD, $0000
		dc.w	$0258, $02DD, $0000
		dc.w	$029B, $02DD, $0000
		dc.w	$02DD, $02DD, $0000
		dc.w	$02DD, $029B, $0000
		dc.w	$02DD, $0258, $0000
		dc.w	$02DD, $0215, $0000
		dc.w	$02DD, $01D3, $0000
		dc.w	$02DD, $0190, $0000
		dc.w	$02DD, $014D, $0000
		dc.w	$02DD, $010B, $0000
		dc.w	$02DD, $00C8, $0000
		dc.w	$02DD, $0085, $0000
		dc.w	$02DD, $0043, $0000
		dc.w	$01D3, $0000, $0000
		dc.w	$01D3, $0000, $0043
		dc.w	$01D3, $0000, $0085
		dc.w	$01D3, $0000, $00C8
		dc.w	$01D3, $0000, $010B
		dc.w	$01D3, $0000, $014D
		dc.w	$01D3, $0000, $0190
		dc.w	$01D3, $0000, $01D3
		dc.w	$0190, $0000, $01D3
		dc.w	$014D, $0000, $01D3
		dc.w	$010B, $0000, $01D3
		dc.w	$00C8, $0000, $01D3
		dc.w	$0085, $0000, $01D3
		dc.w	$0043, $0000, $01D3
		dc.w	$0000, $0000, $01D3
		dc.w	$0000, $0043, $01D3
		dc.w	$0000, $0085, $01D3
		dc.w	$0000, $00C8, $01D3
		dc.w	$0000, $010B, $01D3
		dc.w	$0000, $014D, $01D3
		dc.w	$0000, $0190, $01D3
		dc.w	$0000, $01D3, $01D3
		dc.w	$0000, $01D3, $0190
		dc.w	$0000, $01D3, $014D
		dc.w	$0000, $01D3, $010B
		dc.w	$0000, $01D3, $00C8
		dc.w	$0000, $01D3, $0085
		dc.w	$0000, $01D3, $0043
		dc.w	$0000, $01D3, $0000
		dc.w	$0043, $01D3, $0000
		dc.w	$0085, $01D3, $0000
		dc.w	$00C8, $01D3, $0000
		dc.w	$010B, $01D3, $0000
		dc.w	$014D, $01D3, $0000
		dc.w	$0190, $01D3, $0000
		dc.w	$01D3, $01D3, $0000
		dc.w	$01D3, $0190, $0000
		dc.w	$01D3, $014D, $0000
		dc.w	$01D3, $010B, $0000
		dc.w	$01D3, $00C8, $0000
		dc.w	$01D3, $0085, $0000
		dc.w	$01D3, $0043, $0000
		dc.w	$010B, $0000, $0000
		dc.w	$010B, $0000, $0043
		dc.w	$010B, $0000, $0085
		dc.w	$010B, $0000, $00C8
		dc.w	$010B, $0000, $010B
		dc.w	$00C8, $0000, $010B
		dc.w	$0085, $0000, $010B
		dc.w	$0043, $0000, $010B
		dc.w	$0000, $0000, $010B
		dc.w	$0000, $0043, $010B
		dc.w	$0000, $0085, $010B
		dc.w	$0000, $00C8, $010B
		dc.w	$0000, $010B, $010B
		dc.w	$0000, $010B, $00C8
		dc.w	$0000, $010B, $0085
		dc.w	$0000, $010B, $0043
		dc.w	$0000, $010B, $0000
		dc.w	$0043, $010B, $0000
		dc.w	$0085, $010B, $0000
		dc.w	$00C8, $010B, $0000
		dc.w	$010B, $010B, $0000
		dc.w	$010B, $00C8, $0000
		dc.w	$010B, $0085, $0000
		dc.w	$010B, $0043, $0000
		dc.w	$03E8, $03E8, $03E8
		dc.w	$0000, $0000, $0000

_def_vals:					; system defaults
		dc.w	$03E8, $03E8, $03E8	; Pen 0
		dc.w	$0000, $0000, $0000	; Pen 1
		dc.w	$03E8, $0000, $0000	; 2
		dc.w	$0000, $03E8, $0000	; 3
		dc.w	$0000, $0000, $03E8	; 4
		dc.w	$0000, $03E8, $03E8	; 5
		dc.w	$03E8, $03E8, $0000	; 6
		dc.w	$03E8, $0000, $03E8	; 7
		dc.w	$0320, $0320, $0320	; 8  - NEW
		dc.w	$01F4, $01F4, $01F4	; 9  - NEW
		dc.w	$01F4, $0000, $0000	; 10 - NEW
		dc.w	$0000, $01F4, $0000	; 11 - NEW
		dc.w	$0000, $0000, $01F4	; 12 - NEW
		dc.w	$0000, $01F4, $01F4	; 13 - NEW
		dc.w	$01F4, $01F4, $0000	; 14 - NEW
		dc.w	$01F4, $0000, $01F4	; 15 - NEW
		dc.w	$03E8, $03E8, $03E8	
		dc.w	$03A5, $03A5, $03A5
		dc.w	$0363, $0363, $0363
		dc.w	$0320, $0320, $0320
		dc.w	$02DD, $02DD, $02DD
		dc.w	$029B, $029B, $029B
		dc.w	$0258, $0258, $0258
		dc.w	$0215, $0215, $0215
		dc.w	$01D3, $01D3, $01D3
		dc.w	$0190, $0190, $0190
		dc.w	$014D, $014D, $014D
		dc.w	$010B, $010B, $010B
		dc.w	$00C8, $00C8, $00C8
		dc.w	$0085, $0085, $0085
		dc.w	$0043, $0043, $0043
		dc.w	$0000, $0000, $0000
		dc.w	$03E8, $0000, $0000
		dc.w	$03E8, $0000, $0043
		dc.w	$03E8, $0000, $0085
		dc.w	$03E8, $0000, $00C8
		dc.w	$03E8, $0000, $010B
		dc.w	$03E8, $0000, $014D
		dc.w	$03E8, $0000, $0190
		dc.w	$03E8, $0000, $01D3
		dc.w	$03E8, $0000, $0215
		dc.w	$03E8, $0000, $0258
		dc.w	$03E8, $0000, $029B
		dc.w	$03E8, $0000, $02DD
		dc.w	$03E8, $0000, $0320
		dc.w	$03E8, $0000, $0363
		dc.w	$03E8, $0000, $03A5
		dc.w	$03E8, $0000, $03E8
		dc.w	$03A5, $0000, $03E8
		dc.w	$0363, $0000, $03E8
		dc.w	$0320, $0000, $03E8
		dc.w	$02DD, $0000, $03E8
		dc.w	$029B, $0000, $03E8
		dc.w	$0258, $0000, $03E8
		dc.w	$0215, $0000, $03E8
		dc.w	$01D3, $0000, $03E8
		dc.w	$0190, $0000, $03E8
		dc.w	$014D, $0000, $03E8
		dc.w	$010B, $0000, $03E8
		dc.w	$00C8, $0000, $03E8
		dc.w	$0085, $0000, $03E8
		dc.w	$0043, $0000, $03E8
		dc.w	$0000, $0000, $03E8
		dc.w	$0000, $0043, $03E8
		dc.w	$0000, $0085, $03E8
		dc.w	$0000, $00C8, $03E8
		dc.w	$0000, $010B, $03E8
		dc.w	$0000, $014D, $03E8
		dc.w	$0000, $0190, $03E8
		dc.w	$0000, $01D3, $03E8
		dc.w	$0000, $0215, $03E8
		dc.w	$0000, $0258, $03E8
		dc.w	$0000, $029B, $03E8
		dc.w	$0000, $02DD, $03E8
		dc.w	$0000, $0320, $03E8
		dc.w	$0000, $0363, $03E8
		dc.w	$0000, $03A5, $03E8
		dc.w	$0000, $03E8, $03E8
		dc.w	$0000, $03E8, $03A5
		dc.w	$0000, $03E8, $0363
		dc.w	$0000, $03E8, $0320
		dc.w	$0000, $03E8, $02DD
		dc.w	$0000, $03E8, $029B
		dc.w	$0000, $03E8, $0258
		dc.w	$0000, $03E8, $0215
		dc.w	$0000, $03E8, $01D3
		dc.w	$0000, $03E8, $0190
		dc.w	$0000, $03E8, $014D
		dc.w	$0000, $03E8, $010B
		dc.w	$0000, $03E8, $00C8
		dc.w	$0000, $03E8, $0085
		dc.w	$0000, $03E8, $0043
		dc.w	$0000, $03E8, $0000
		dc.w	$0043, $03E8, $0000
		dc.w	$0085, $03E8, $0000
		dc.w	$00C8, $03E8, $0000
		dc.w	$010B, $03E8, $0000
		dc.w	$014D, $03E8, $0000
		dc.w	$0190, $03E8, $0000
		dc.w	$01D3, $03E8, $0000
		dc.w	$0215, $03E8, $0000
		dc.w	$0258, $03E8, $0000
		dc.w	$029B, $03E8, $0000
		dc.w	$02DD, $03E8, $0000
		dc.w	$0320, $03E8, $0000
		dc.w	$0363, $03E8, $0000
		dc.w	$03A5, $03E8, $0000
		dc.w	$03E8, $03E8, $0000
		dc.w	$03E8, $03A5, $0000
		dc.w	$03E8, $0363, $0000
		dc.w	$03E8, $0320, $0000
		dc.w	$03E8, $02DD, $0000
		dc.w	$03E8, $029B, $0000
		dc.w	$03E8, $0258, $0000
		dc.w	$03E8, $0215, $0000
		dc.w	$03E8, $01D3, $0000
		dc.w	$03E8, $0190, $0000
		dc.w	$03E8, $014D, $0000
		dc.w	$03E8, $010B, $0000
		dc.w	$03E8, $00C8, $0000
		dc.w	$03E8, $0085, $0000
		dc.w	$03E8, $0043, $0000
		dc.w	$02DD, $0000, $0000
		dc.w	$02DD, $0000, $0043
		dc.w	$02DD, $0000, $0085
		dc.w	$02DD, $0000, $00C8
		dc.w	$02DD, $0000, $010B
		dc.w	$02DD, $0000, $014D
		dc.w	$02DD, $0000, $0190
		dc.w	$02DD, $0000, $01D3
		dc.w	$02DD, $0000, $0215
		dc.w	$02DD, $0000, $0258
		dc.w	$02DD, $0000, $029B
		dc.w	$02DD, $0000, $02DD
		dc.w	$029B, $0000, $02DD
		dc.w	$0258, $0000, $02DD
		dc.w	$0215, $0000, $02DD
		dc.w	$01D3, $0000, $02DD
		dc.w	$0190, $0000, $02DD
		dc.w	$014D, $0000, $02DD
		dc.w	$010B, $0000, $02DD
		dc.w	$00C8, $0000, $02DD
		dc.w	$0085, $0000, $02DD
		dc.w	$0043, $0000, $02DD
		dc.w	$0000, $0000, $02DD
		dc.w	$0000, $0043, $02DD
		dc.w	$0000, $0085, $02DD
		dc.w	$0000, $00C8, $02DD
		dc.w	$0000, $010B, $02DD
		dc.w	$0000, $014D, $02DD
		dc.w	$0000, $0190, $02DD
		dc.w	$0000, $01D3, $02DD
		dc.w	$0000, $0215, $02DD
		dc.w	$0000, $0258, $02DD
		dc.w	$0000, $029B, $02DD
		dc.w	$0000, $02DD, $02DD
		dc.w	$0000, $02DD, $029B
		dc.w	$0000, $02DD, $0258
		dc.w	$0000, $02DD, $0215
		dc.w	$0000, $02DD, $01D3
		dc.w	$0000, $02DD, $0190
		dc.w	$0000, $02DD, $014D
		dc.w	$0000, $02DD, $010B
		dc.w	$0000, $02DD, $00C8
		dc.w	$0000, $02DD, $0085
		dc.w	$0000, $02DD, $0043
		dc.w	$0000, $02DD, $0000
		dc.w	$0043, $02DD, $0000
		dc.w	$0085, $02DD, $0000
		dc.w	$00C8, $02DD, $0000
		dc.w	$010B, $02DD, $0000
		dc.w	$014D, $02DD, $0000
		dc.w	$0190, $02DD, $0000
		dc.w	$01D3, $02DD, $0000
		dc.w	$0215, $02DD, $0000
		dc.w	$0258, $02DD, $0000
		dc.w	$029B, $02DD, $0000
		dc.w	$02DD, $02DD, $0000
		dc.w	$02DD, $029B, $0000
		dc.w	$02DD, $0258, $0000
		dc.w	$02DD, $0215, $0000
		dc.w	$02DD, $01D3, $0000
		dc.w	$02DD, $0190, $0000
		dc.w	$02DD, $014D, $0000
		dc.w	$02DD, $010B, $0000
		dc.w	$02DD, $00C8, $0000
		dc.w	$02DD, $0085, $0000
		dc.w	$02DD, $0043, $0000
		dc.w	$01D3, $0000, $0000
		dc.w	$01D3, $0000, $0043
		dc.w	$01D3, $0000, $0085
		dc.w	$01D3, $0000, $00C8
		dc.w	$01D3, $0000, $010B
		dc.w	$01D3, $0000, $014D
		dc.w	$01D3, $0000, $0190
		dc.w	$01D3, $0000, $01D3
		dc.w	$0190, $0000, $01D3
		dc.w	$014D, $0000, $01D3
		dc.w	$010B, $0000, $01D3
		dc.w	$00C8, $0000, $01D3
		dc.w	$0085, $0000, $01D3
		dc.w	$0043, $0000, $01D3
		dc.w	$0000, $0000, $01D3
		dc.w	$0000, $0043, $01D3
		dc.w	$0000, $0085, $01D3
		dc.w	$0000, $00C8, $01D3
		dc.w	$0000, $010B, $01D3
		dc.w	$0000, $014D, $01D3
		dc.w	$0000, $0190, $01D3
		dc.w	$0000, $01D3, $01D3
		dc.w	$0000, $01D3, $0190
		dc.w	$0000, $01D3, $014D
		dc.w	$0000, $01D3, $010B
		dc.w	$0000, $01D3, $00C8
		dc.w	$0000, $01D3, $0085
		dc.w	$0000, $01D3, $0043
		dc.w	$0000, $01D3, $0000
		dc.w	$0043, $01D3, $0000
		dc.w	$0085, $01D3, $0000
		dc.w	$00C8, $01D3, $0000
		dc.w	$010B, $01D3, $0000
		dc.w	$014D, $01D3, $0000
		dc.w	$0190, $01D3, $0000
		dc.w	$01D3, $01D3, $0000
		dc.w	$01D3, $0190, $0000
		dc.w	$01D3, $014D, $0000
		dc.w	$01D3, $010B, $0000
		dc.w	$01D3, $00C8, $0000
		dc.w	$01D3, $0085, $0000
		dc.w	$01D3, $0043, $0000
		dc.w	$010B, $0000, $0000
		dc.w	$010B, $0000, $0043
		dc.w	$010B, $0000, $0085
		dc.w	$010B, $0000, $00C8
		dc.w	$010B, $0000, $010B
		dc.w	$00C8, $0000, $010B
		dc.w	$0085, $0000, $010B
		dc.w	$0043, $0000, $010B
		dc.w	$0000, $0000, $010B
		dc.w	$0000, $0043, $010B
		dc.w	$0000, $0085, $010B
		dc.w	$0000, $00C8, $010B
		dc.w	$0000, $010B, $010B
		dc.w	$0000, $010B, $00C8
		dc.w	$0000, $010B, $0085
		dc.w	$0000, $010B, $0043
		dc.w	$0000, $010B, $0000
		dc.w	$0043, $010B, $0000
		dc.w	$0085, $010B, $0000
		dc.w	$00C8, $010B, $0000
		dc.w	$010B, $010B, $0000
		dc.w	$010B, $00C8, $0000
		dc.w	$010B, $0085, $0000
		dc.w	$010B, $0043, $0000
		dc.w	$03E8, $03E8, $03E8
		dc.w	$0000, $0000, $0000
	end
