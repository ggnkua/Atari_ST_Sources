	9 .	Le fichier objet du V.A. 
(.OBJ)



Apräs avoir crÇÇ votre ressource, et votre projet.HS, vient le temps 
d'attaquer le fichier projet.OBJ. Ce fichier est l'interface entre le ressour-
ce graphique et vos routines Çvänementielles. Ce fichier ne contient au-
cun code : uniquement du DATA. De màme que le projet.DEF, il ne de-
vrait, en principe, pas changer une fois crÇÇ jusqu'Ö la fin du projet ; mais 
däs que vous ajouterez un objet ou un Çvänement, vous serez amenÇ Ö le 
modifier. Comme il contient beaucoup d'objets de diffÇrents types, on 
laisse en principe un commentaire sur chaque ligne, correspondant Ö la 
fin du nom de la structure. Faites du copier/coller depuis des applications 
qui contiennent dÇjÖ l'objet que vous dÇsirez crÇer pour que ce soit plus 
simple au dÇbut.

exemple :

window_main_specs:	dc.w FORM_MAIN		; FORM_IDX
			dc.l 0				; FORM_PTR
			dc.l 0				; CLICK_ROUTINE
			dc.w TEXTE_TIMER		; FOCUSED_TXT
			dcb.w 7,0				; CURSOR_POS, L_SCULPT, 
T_SCULPT, R_SCULPT, 
								; B_SCULPT, W_SCULPT, 
H_SCULPT
			dc.w 0				; IS_CLONE_FORM
			dc.l 0				; CLONE_FORM_SAVE
			dc.l 0				; CLONE_MAIN_PTR

			dc.w BTON_PARK_NOW	; obj idx
			dc.w $08*256+'p'		; shortcut(0=no)
			dc.w 2				; 1:txt 2:bton 3:pop 4:radio
			dc.l struct_bton_park		; ptr struct

			dc.w -1

struct_bton_park:	dc.w 0				; STATE
			dc.w GWVA_EVNT_CLICK	; START_EVNT_LIST
			dc.l bton_park_now_clicked
			dc.w -1


	9.1 L'objet "application principale"


Cet objet reprÇsente votre application, ses propriÇtÇs, ses Çvänements.
Voyons les propriÇtÇs en question :


		9.1.1 Les propriÇtÇs de l'objet


GWVA_APP_OBJ_FLAGS:						1 octet
	bit 0 : (0) le ressource doit àtre chargÇ, (1) il est en mÇmoire (si 1, n'ou-
bliez pas :
		MDL_RELOCATE_RSC)
	bit 1 : (0) un seul ressource (1) liste de ressources en fonction de la rÇ-
solution.
		(cf. GWVA_APP_OBJ_RSC_INFO)
	bit 2 : (0) pas de background (1) image de fond si APP
		(cf. GWVA_APP_OBJ_BACKGROUND_OBJ)
	bit 3 : (0) background normal (1) centrage auto dans l'Çcran de l'objet 
n¯1 de l'arbre spÇcifiÇ.

GWVA_APP_OBJ_STATUS:					1 octet
	(en lecture uniquement pour le programmeur)
	bit 0 : (0) application non iconifiÇe (1) iconifiÇe
	bits 1-7 : rÇservÇs (0)

GWVA_APP_OBJ_TSR_SIZE:					1 mot 
long
	longueur Ö sauvegarder (page de base y compris) pour les TSR, 0.L si 
pas TSR

GWVA_APP_OBJ_REG_NAME:					1 mot 
long
	pointeur sur le nom pour le MENU_REGISTER (REG_NEWNAME).
	La chaåne doit toujours comportÇ 8 caractäres (Ö complÇter avec des 
espaces si besoin est) et doit àtre terminÇe par un 0.

GWVA_APP_OBJ_ACC_NAME:					1 mot 
long
	pointeur sur le nom pour le MENU_REGISTER (terminÇ par un 0)

GWVA_APP_OBJ_RSC_INFO:					1 mot 
long
	pointeur soit sur le pathname (si sur disque) soit sur l'adresse du res-
source (si en mÇmoire) ou 0.L si pas de ressource.
Si le bit de GWVA_APP_OBJ_FLAGS dÇfinissant un ressource par 
rÇsolution est mis, alors c'est un pointeur sur un tableau de 5 pointeurs en 
fonction de la rÇsolution (2, 4, 16, 256, pas de palette). Les pointeur sont 
soit des pathnames soit des adresses (si  ressources en mÇmoire)

GWVA_APP_OBJ_BACKGROUND_OBJ:			1 mot
	index l'arbre objet Ö mettre en fond si APP (la taille du päre (objet 0) 
sera ajustÇe Ö la taille du bureau)

GWVA_APP_OBJ_MAIN_MENU_PTR:			1 mot 
long
	0.L si pas de menu ou 1 pointeur sur une structure menu 
(GWVA_MENU_STRUCT)

La structure d'un menu est la suivante (c'est la màme que pour un me-
nu attachÇ dans une fenàtre) :
	Dans le cas de sous-menus attachÇs, les attachements sont effectuÇs 
par le V.A au dÇbut du programme.

GWVA_MENU_STRUCT_INDEX:				1 mot
	index de l'arbre du menu dans le ressource

GWVA_MENU_STRUCT_PTR:					1 mot 
long
	pointeur sur l'arbre du menu dans le ressource (calculÇ par le V.A)

GWVA_MENU_STRUCT_SCROLL_INDEX:		1 mot
	numÇro du top menu le plus Ö gauche (-1 pour tout)
	Pour le moment, mettez la valeur -1 !

GWVA_MENU_STRUCT_LIST_ATTACH_PTR:		1 mot 
long
	0.L si aucun sous menu
	ou, dans le cas contraire, 1 pointeur sur un tableau de pointeurs sur des 
structures GWVA_SUB_MENU, terminÇ par 0.L.

GWVA_MENU_STRUCT_START_LIST:
	dÇbut de la liste des index de menus et leurs routines correspondantes Ö 
exÇcuter en cas de sÇlection ; la liste est ainsi constituÇe :
	Pour chaque dÇclaration (8 octets) :
		1 mot : numÇro du menu
		1 mot : le raccourci clavier Çventuel (0 si pas) constituÇ de 
			1 octet pour le masque de bits des touches spÇciales
				rappel :  bit 0=Rshift, bit 1=Lshift, bit 2=Ctrl, bit 
3=Alt
			1 octet pour le scancode US !!! Il sera converti en langue 
locale
			Si code ascii, ne pas mettre de ctrl ni alt ...
			Si scancode sans valeur ascii, ajouter $80 au 2äme octet.
			Tout raccourci utilisant Alt et une touche strictement Ö 
droite
			de la touche [8 !] ne marchera pas partout
			Ainsi :
				CTRL+I	donne : dc.b 0,'i'-'a'+1
				ALT + I	donne : dc.b $8,'a'
				F1	donne : dc.b 0,$80+$3B
		1 mot long : pointeur sur votre routine associÇe

		1 mot=-1 Ö la fin de la liste

	La structure d'un sous-menu est la suivante :

	GWVA_SUB_MENU_TREE_OBJ_ATTACHED:	1 mot
		arbre menu contenant le menu auquel on veut attacher un sous 
menu

	GWVA_SUB_MENU_OBJ_IDX_ATTACHED:		1 mot
		index du menu auquel on va attacher un sous menu

	GWVA_SUB_MENU_TREE:					1 mot
		index de l'arbre qui contient le dessin du sous menu

	GWVA_SUB_MENU_INDEX:					1 mot
		index du dessin päre dans le ressource

	GWVA_SUB_MENU_WHICH_ALIGN:			1 mot
		quel fils du päre ci-dessus doit àtre alignÇ avec le menu de dÇ-
part

	GWVA_SUB_MENU_SCROLL:				1 mot
		le menu est-il scrollable ? (0) non (1) oui

	GWVA_SUB_MENU_STRUCT_START_LIST:
		cf. GWVA_MENU_STRUCT_START_LIST plus haut.


GWVA_APP_OBJ_ALL_ICON_PTR:				1 mot 
long
	pointeur sur une structure de fenàtre reprÇsentant l'application iconi-
fiÇe.
	Pas implantÇ : 0.L

	Viennent ensuite les paramätres pour la boucle EVNT_MULTI prin-
cipale :
	N.B : ces paramätres gÇnärent des Çvänements.

GWVA_APP_OBJ_M1FLAG:					1 mot
	entrÇe  (0) ou sortie (1) de la zone 1
GWVA_APP_OBJ_M1X:						1 mot
	position de la zone 1 : x,y
GWVA_APP_OBJ_M1Y:						1 mot
GWVA_APP_OBJ_M1W:						1 mot
	taille de la zone 1 : largeur, hauteur (0.L pour pas d'ÇvÇnement)
GWVA_APP_OBJ_M1H:						1 mot

GWVA_APP_OBJ_M2FLAG:					1 mot
	entrÇe (0) ou sortie (1) de la zone 2
GWVA_APP_OBJ_M2X:						1 mot
	position de la zone 2 : x,y
GWVA_APP_OBJ_M2Y:						1 mot
GWVA_APP_OBJ_M2W:						1 mot
	taille de la zone 2 : largeur, hauteur (0.L pour pas d'ÇvÇnement)
GWVA_APP_OBJ_M2H:						1 mot

GWVA_APP_OBJ_COUNT:						1 mot 
long
	valeur du timer en milli-secondes , si 0.L : inactif !


		9.1.2 Les Çvänements


Les Çvänements relatifs Ö l'objet application principale dÇcoulent de 
l'EVNT_MULTI, donc des propriÇtÇs de votre objet application (zone1, 
souris, zone2, timer) mais aussi du fait que vous ayez ou non des fenàtres 
(EVNT_BUTTON) ou des menus (EVNT_MENU). Enfin les messa-
ges systämes arrivent aussi ici (AP_TERM...).

GWVA_APP_OBJ_CUSTOM_INITS:				1 mot 
long
	pointeur sur une Çventuelle initialisation personnelle avant la boucle 
GEM principale d'attente

	Pour tous les messages qui vont suivre (jusqu'Ö 
GWVA_APP_OBJ_ALL_OTHER ), les paramätres passÇes aux routines 
associÇes sont :
	d0.w	:	numÇro du message (mot 0 du buffer de message)
	a0.l	:	pointeur sur le buffer de message (16 octets)
	a1.l	:	pointeur sur le buffer Çtendu : 256 octets au maximum.

GWVA_APP_OBJ_AC_OPEN:					1 mot 
long
	Çvänement ouverture d'accessoire ; Ö ce stade la station de travail vir-
tuelle est ouverte.

GWVA_APP_OBJ_AC_CLOSE:					1 mot 
long
	Çvänement fermeture d'accessoire ; la station de travail virtuelle sera 
fermÇe par le V.A.

GWVA_APP_OBJ_AP_TERM:					1 mot 
long
	dans d1.w on retrouve le 5äme mot du buffer de message (la raison de 
l'AP_TERM)

GWVA_APP_OBJ_AP_TFAIL:					1 mot 
long
	aucun paramätre supplÇmentaire

GWVA_APP_OBJ_SHUT_COMPLETED:			1 mot 
long
	aucun paramätre supplÇmentaire

GWVA_APP_OBJ_RESCH_COMPLETED:			1 mot 
long
	aucun paramätre supplÇmentaire

GWVA_APP_OBJ_AP_DRAG_DROP:				1 mot 
long
	aucun paramätre supplÇmentaire

GWVA_APP_OBJ_SH_WDRAW:					1 mot 
long
	aucun paramätre supplÇmentaire

GWVA_APP_OBJ_CH_EXIT:					1 mot 
long
	aucun paramätre supplÇmentaire

GWVA_APP_OBJ_ALL_OTHER:					1 mot 
long
	tout message ayant un numÇro non reconnu dans l'un de ceux qui prÇ-
cädent sera dirigÇ ici. Entre autre le message VA_START.

	Voici la liste des messages gÇnÇrÇs par l'EVNT_MULTI :

GWVA_APP_OBJ_EVNT_KEYBD:				1 mot 
long
	Notez que si la touche arrive jusqu'ici c'est qu'elle n'a ÇtÇ interceptÇe ni 
par un raccourci menu, ni par un raccourci d'un formulaire dÇclenchant 
une action.
	d0.w	= code clavier ; octet haut = scancode, octet bas = code ASCII 
Çventuelle
	a0.l	= pointeur fenàtre sous la souris ou 0.L si aucun ou pas Ö nous.

GWVA_APP_OBJ_EVNT_BUTTON:				1 mot 
long
	Notez que si le click arrive jusqu'ici c'est qu'il n'a ÇtÇ interceptÇ ni par 
un menu, ni par un click dans un objet d'un formulaire dÇclenchant une 
action.
	d0.w	= handle GEM de la fenàtre sous la souris trouvÇ par la fonc-
tion WIND_FIND
	d1.w & d2.w : x,y du click souris
	d3.w	= bouton ayant entrainÇ le click (gauche, droit, milieu ...)
	d4.w	= nombre  de click(s)
	a0.l	= pointeur sur l'objet application.

	GWVA_APP_OBJ_EVNT_MOUSE1:				1 mot 
long
&	GWVA_APP_OBJ_EVNT_MOUSE2:				1 mot 
long
	d0.w & d1.w : x,y de la souris
	d2.w	= Çtat des boutons
	d3.w	= nombre de clicks Çventuels
	a0.l	= pointeur sur l'objet application.

GWVA_APP_OBJ_EVNT_TIMER:				1 mot 
long
	aucun paramätre supplÇmentaire

Vous recevrez en plus, via vos dÇclarations de menus et de raccourcis 
claviers, des Çvänements menus ; les registres seront alors :
	d0.w	= top menu sÇlectionnÇ
	d1.w	= index de l'item sÇlectionnÇe
	d2.w	= index du menu
	a0.l	= adresse de l'arbre

Remarque : le menu sera automatiquement repassÇ en vidÇo normale Ö 
la fin de votre routine.


		9.1.3 Les mÇthodes


VISUAL40_START:
	Ce label ne devrait pas vous servir sauf pour dÇbugger les routines 
d'initialisation du Visual,ce qui n'est pas votre rìle ... sauf pour voir com-
ment on fait.

GWVA_MAIN_EVENTS_LOOP:
	Ce label ne devrait pas vous servir sauf pour dÇbugger les routines 
d'appel EVNT_MULTI du Visual, ce qui n'est pas votre rìle ... sauf 
pour voir comment on fait.

GWVA_APP_OBJ_PRG_EVNT_TIMER:
	Ce label ne devrait pas vous servir sauf pour dÇbugger les routines de 
traitement en retour des messages EVNT_TIMER en retour de l'appel 
EVNT_MULTI du Visual, ce qui n'est pas votre rìle ... sauf pour voir 
comment on fait.

GWVA_APP_OBJ_PRG_EVNT_KEYBOARD:
	Ce label ne devrait pas vous servir sauf pour dÇbugger les routines de 
traitement en retour des messages EVNT_KEYBOARD en retour de 
l'appel EVNT_MULTI du Visual, ce qui n'est pas votre rìle ... sauf 
pour voir comment on fait.

GWVA_WIND_OBJ_PRG_SEARCH_EVNT:
	d0.w	= n¯ objet,
	d7.w	= Çvänement,
	a2.l	= pointeur liste
	Label Interne

GWVA_APP_OBJ_PRG_EVNT_BUTTON:
	Ce label ne devrait pas vous servir sauf pour dÇbugger les routines de 
traitement en retour des messages EVNT_BUTTON en retour de l'appel 
EVNT_MULTI du Visual, ce qui n'est pas votre rìle ... sauf pour voir 
comment on fait.

GWVA_APP_OBJ_PRG_EVNT_MOUSE1:
	Ce label ne devrait pas vous servir sauf pour dÇbugger les routines de 
traitement en retour des messages EVNT_MOUSE1 en retour de l'appel 
EVNT_MULTI du Visual, ce qui n'est pas votre rìle ... sauf pour voir 
comment on fait.

GWVA_APP_OBJ_PRG_EVNT_MOUSE2:
	Ce label ne devrait pas vous servir sauf pour dÇbugger les routines de 
traitement en retour des messages EVNT_MOUSE2 en retour de l'appel 
EVNT_MULTI du Visual, ce qui n'est pas votre rìle ... sauf pour voir 
comment on fait.

GWVA_APP_OBJ_PRG_EVNT_MESSAGE:
	Ce label ne devrait pas vous servir sauf pour dÇbugger les routines de 
traitement en retour des messages EVNT_MESSAGE en retour de l'ap-
pel EVNT_MULTI du Visual, ce qui n'est pas votre rìle ... sauf pour 
voir comment on fait.

GWVA_APP_OBJ_PRG_CLEAR_EVNT_BIT:
	Label Interne

GWVA_CONVERT_KC_IN_OBJECT_IDX:
	d0.w	= KC (scan code + ascii)
	a0.l	= adresse 1er objet dans la table de comparaison
	d1.w	= longeur de la structure
		Donc si l'ikbd.bas est non nul on se fiche du shift car il est dÇjÖ 
compris dans le code : ex. ctrl+4=shift/ctrl+' <> ctrl+'
		Donc Çvitez ctrl ou alt + touches qui varient avec le shift selon 
les pays autres que A-Z
	Label Interne

GWVA_EXEC_MENU_ROUTINE_FROM_KC:
	a0.l	= pointeur sur une structure GWVA_MENU_STRUCT
	d0.w	= KC
	d1.w	= taille de la table de recherche (CONVERT_KC_IN_OB-
JECT_IDX)
	Label Interne

GWVA_EXEC_MENU_ROUTINE_FROM_ME-
NU_AD_AND_IDX:
	a0.l	= pointeur sur une structure GWVA_MENU_STRUCT
	d0.w	= Index du menu
	d1.l	= Adresse de l'arbre contenant le menu
	Label Interne

GWVA_EXEC_MENU_ROUTINE_FROM_MENU_IDX:
	a0.l	= pointeur sur une structure _STRUCT_START_LIST
	d0.w	= Index du menu
	Label Interne

GWVA_INFINITE_LOOP:
	Vous devez sauter dans cette routine quand vous àtes en situation de 
plantage (votre programme ne peut plus fonctionner correctement) et que 
vous ne voulez pas sortir pour une raison quelconque ou bien si vous àtes 
en accessoire (vous ne devez jamais sortir dans ce cas). Votre pro-
gramme ne continuera plus, mais laissera les autres programmes fonc-
tionner correctement.

GWVA_APP_OBJ_PRG_WAIT_EVENTS:
	Cette routine permet d'attendre un temps minimum avant de continuer 
un programme, sans bloquer les autres processus :
	EntrÇe		d0.l : timer en 1/1000äme de secondes
	Si d0 = 2000 alors la main vous sera rendue apräs 2 secondes mini-
mum, cela peut träs bien àtre 4 secondes si beaucoup de processus sont 
en train de travailler Ö ce moment.

VISUAL40_END:
	Vous sauterez Ö ce label quand vous dÇsirerez quitter et retourner au 
bureau. Tout sera fermÇ correctement mais libÇrez vous-màme les res-
sources (vecteurs, interruptions ...) que vous aurez dÇtournÇes.

GWVA_APP_RSC_LOAD_FAILED:
	Label Interne

GWVA_BRANCH_IF_OPEN_WORKSTATION_FAILED:
	Label Interne

GWVA_BRANCH_IF_APPL_INIT_FAILED:
	Label Interne

GWVA_APP_OBJ_PRG_ACC_OPEN_VSTATION:
	Label Interne

GWVA_APP_OBJ_PRG_ACC_CLOSE_VSTATION:
	Label Interne

GWVA_APP_OBJ_PRG_OPEN_VSTATION:
	Label Interne

GWVA_APP_OBJ_PRG_CLOSE_VSTATION:
	Uniquement pour les accessoires
	Label Interne

GWVA_OPEN_WORKSTATION_FAILED:
	Label Interne

GWVA_APPL_INIT_FAILED:
	Label Interne


	9.2 L'objet "fenàtre"


L'objet fenàtre est Ö la base du concept Visual Assembleur. Il vous per-
met d'afficher et d'interagir avec l'opÇrateur dans les rägles du systäme.
Cette objet est constituÇ d'une liste de propriÇtÇs de base communes Ö 
toutes le fenàtres (sliders, titre ...) et d'un pointeur Çventuel sur une struc-
ture dÇcrivant son contenu Visual et comment le traiter (fenàtre bitmap 
par exemple : nombre de couleurs ...)
	Il possäde enfin une liste d'Çvänements que vous aurez dÇclarÇs com-
me vous intÇressant plus particuliärement, et auxquels vous aurez assignÇ 
des routines (par exemple àtre averti d'une demande de redimensionne-
ment pour l'ajuster Ö un critäre spÇcial ...)


		9.2.1 Les propriÇtÇs de base


GWVA_WIND_OBJ_FLAGS:					1 mot
	Ce sont les bits de propriÇtÇ, les màmes que le GEM.
	0 : name
	1 : close
	2 : full
	3 : move
	4 : info
	5 : size
	6 : up arrow		 7 : down arrow		 8 : vertical slide
	9 : left arrow		10 : right arrow		11 : horizontal slide
	14 : smaller

GWVA_WIND_OBJ_STATUS:					1 mot
	Ce sont les bits de status, modifiÇs par le V.A au cours de l'exÇcution
	0 : GWVA_WIN_BIT_FULL		: 1=fulled
	1 : GWVA_WIN_BIT_OPEN		: 0=fermÇe, 1=ouverte
	2 : GWVA_WIN_BIT_CURS		: 1=curseur du champ Çditable 
affichÇ
	3 : GWVA_WIN_BIT_ICON		: 1=iconifiÇe
	4 : GWVA_WIN_NAMIFIED		: 1=fenàtre rÇduite Ö un titre (et 
une info)
	5 : ReservÇ, doit àtre 0
	6 : ReservÇ, doit àtre 0
	7 : ReservÇ, doit àtre 0
	8-15 : libre pour le concepteur

GWVA_WIND_OBJ_PROPERTIES:				1 mot
	Ce sont les bits de propriÇtÇ, fixÇs par vous, concepteur
	0 : GWVA_WIN_BIT_ATOOLBAR	: 1=la fenàtre contient une tool-
bar
	1 : GWVA_WIN_BIT_AMENU	: 1=la fenàtre contient un menu
	2 : GWVA_WIN_BIT_CTRLC	: 1=supporte CTRL+C (Non im-
plantÇ)
	3 : GWVA_WIN_BIT_CTRLV	: 1=supporte CTRL+V (Non im-
plantÇ)
	4 : GWVA_WIN_BIT_CTRLX	: 1=supporte CTRL+X (Non im-
plantÇ)
	5 : RÇservÇ, doit àtre 0
	6 : RÇservÇ, doit àtre 0
	7 : RÇservÇ, doit àtre 0
	8 : GWVA_WIN_BIT_COPYXY	: 1=copie automatique des x,y 
dans FIRST_X,Y
							quand elle est fermÇe
	9 : GWVA_WIN_BIT_AUTODEL	: 1=dÇtruit automatiquement la 
fenàtre quand 
							elle est fermÇe
	10 : GWVA_WIN_BIT_FREEPTR1	: 1=libäre automatiquement 
USER_PTR1 en tant 
							que MALLOC quand la fenàtre 
est dÇtruite
	11 : GWVA_WIN_BIT_FREEPTR2	: 1=libäre automatiquement 
USER_PTR2 en tant
							que MALLOC quand la fenàtre 
est dÇtruite
	12 : GWVA_WIN_BIT_FREEDATA: 1=libäre automatiquement 
DATA_PTR en tant 
							que MALLOC quand la fenàtre 
bitmap est dÇtruite
	13 : GWVA_WIN_BIT_FREEPAL	: 1=libäre automatiquement 
PAL_PTR en tant que
							MALLOC quand la fenàtre bit-
map est dÇtruite
	14 : GWVA_WIN_BIT_FREEFORM : 1= libäre automatiquement 
							CLONE_FORM_SAVE en tant 
que MALLOC quand
							la fenàtre FORM est dÇtruite
	15 : RÇservÇ, doit àtre 0

GWVA_WIND_OBJ_TOPABLE_STATE:			1 mot
	InitialisÇ Ö 0.
	IncrÇmentÇ pour rendre votre fenàtre "non-toppable", dÇcrÇmentÇ pour 
lui rendre son Çtat original.
	DÇcrÇmentÇ pour rendre votre fenàtre "non-dÇtoppable", incrÇmentÇ 
pour lui rendre son Çtat original.
	Ce sÇmaphore peut donc àtre utilisÇ par plusieurs routines, agissant sur 
le màme fenàtre, sans blocage sachant que l'on ne peut vouloir qu'une fe-
nàtre soit "non-toppable" et "non-dÇtoppable" en màme temps.

GWVA_WIND_OBJ_NAME:					1 mot 
long
	pointeur sur une chaåne terminÇe par 0 donnant le titre de la fenàtre ou 
bien 0.L

GWVA_WIND_OBJ_INFO:						1 mot 
long
	pointeur sur une chaåne terminÇe par 0 donnant l'info de la fenàtre ou 
bien 0.L

GWVA_WIND_OBJ_ICON_WIND_PTR:			1 mot 
long
	0.L ou pointeur sur une structure fenàtre dÇcrivant la fenàtre iconifiÇe
	Pas implantÇ.

GWVA_WIND_OBJ_TOOLBAR_SPEC_PTR:		1 mot 
long
	0.L ou pointeur sur l'objet toolbar : màme structure qu'un formulaire

GWVA_WIND_OBJ_TOOLBAR_HEIGHT:			1 mot
	hauteur de la toolbar (calculÇ par le V.A) 0.w si aucune

GWVA_WIND_OBJ_MENU_SPEC_PTR:			1 mot 
long
	0.L ou pointeur sur un objet menu (GWVA_MENU_STRUCT)

GWVA_WIND_OBJ_MENU_HEIGHT:				1 mot
	hauteur du menu (calculÇ par le V.A) 0.w si aucun

GWVA_WIND_OBJ_KEY_TABLE:				1 mot 
long
	pointeur sur une table de touches et de routines associÇes pour cette fe-
nàtre prÇcisÇment. Voici le format de la table :
	. 1 mot pour le type de raccourci : -1=fin de liste, 0=raccourci normal, 
1=ctrl+C, 2=ctrl+V, 3=ctrl+X.
	. 1 mot pour dÇsigner le raccourci (cf. crÇation des raccourcis menus)
	. 1 mot long pour le pointeur sur la routine.

GWVA_WIND_OBJ_FIRST_X:					1 mot
	premiäre coordonnÇe x externe de la fenàtre (-1 pour centrer) non mo-
difiÇ par V.A

GWVA_WIND_OBJ_FIRST_Y:					1 mot
	premiäre coordonnÇe y externe de la fenàtre (-1 pour centrer) non mo-
difiÇ par V.A

GWVA_WIND_OBJ_FIRST_W:					1 mot
	premiäre largeur interne de la fenàtre non modifiÇ par V.A en unitÇ de 
la fenàtre (pixels ou caractäres)

GWVA_WIND_OBJ_FIRST_H:					1 mot
	premiäre hauteur interne de la fenàtre non modifiÇ par V.A en unitÇ de 
la fenàtre (pixels ou caractäres)
	Attention : il y a une taille minimale Ö respecter pour une fenàtre sans 
quoi le GEM va vous changer la taille Ö la premiäre opÇration sur la fenà-
tre sans vous en avertir ~64*64 pixels

GWVA_WIND_OBJ_INTERNAL_MAX_W:			1 mot
	largeur maximale interne en unitÇ de la fenàtre (pixels ou caractäres) 
pour un resize ou full. Si c'est une fenàtre bitmap, cette taille est fixÇe par 
la taille de l'image.

GWVA_WIND_OBJ_INTERNAL_MAX_H:			1 mot
	hauteur maximale interne en unitÇ de la fenàtre (pixels ou caractäres) 
pour un resize ou full . Si c'est une fenàtre bitmap, cette taille est fixÇe 
par la taille de l'image. Si c'est une fenàtre text, cette taille est fixÇe par 
NB_COL, NB_LIGNE : elle sera recalculÇ en pixel par le V.A..
	Attention : le hauteur de la toolbar n'est pas Ö prendre en compte.
	Attention : tout sera de toute faáon vÇrifiÇs Ö l'initialisation de la fenà-
tre (taille infÇrieur Ö celle du bureau et position dans le bureau).

GWVA_WIND_OBJ_GEM_HANDLE:				1 mot
	handle GEM. Mettre -1 au dÇbut !
	S'il y a -1 ici c'est que la fenàtre n'a pas encore ÇtÇ crÇÇe.

	Les variables suivantes sont en lecture uniquement (mettez 0 au dÇbut) 
:
GWVA_WIND_OBJ_EXTERNAL_X:				1 mot
GWVA_WIND_OBJ_EXTERNAL_Y:				1 mot
GWVA_WIND_OBJ_EXTERNAL_W:				1 mot
GWVA_WIND_OBJ_EXTERNAL_H:				1 mot
	GWVA_WIND_OBJ_INTERNAL_X:				1 mot
&	GWVA_WIND_OBJ_INTERNAL_Y:				1 mot
	ces deux variables donnent la position du premier pixel utile de la fe-
nàtre en tenant compte d'un Çventuel menu ou toolbar !
GWVA_WIND_OBJ_INTERNAL_W:				1 mot
GWVA_WIND_OBJ_INTERNAL_H:				1 mot
	idem que ci-dessus pour largeur et hauteur
GWVA_WIND_OBJ_EXTERNAL_MAX_W:		1 mot
GWVA_WIND_OBJ_EXTERNAL_MAX_H:			1 mot

GWVA_WIND_OBJ_SLIDER_V_POS:				1 mot
	position verticale du slider de 1 Ö 1000
GWVA_WIND_OBJ_SLIDER_V_SIZE:			1 mot
	taille verticale du slider de 1 Ö 1000 (-1 : taille minimale)
GWVA_WIND_OBJ_SLIDER_H_POS:				1 mot
	position horizontale du slider de 1 Ö 1000
GWVA_WIND_OBJ_SLIDER_H_SIZE:			1 mot
	taille horizontale du slider de 1 Ö 1000 (-1 : taille minimale)

GWVA_WIND_OBJ_TYPE:						1 mot
	1 : GWVA_WIND_TYPE_CUSTOM : fenàtre custom sans rien Ö l'in-
tÇrieur, juste les
	     bords,
	2 : GWVA_WIND_TYPE_TEXT : fenàtre pour afficher du texte,
	3 : GWVA_WIND_TYPE_FORM : fenàtre contenant un formulaire,
	4 : GWVA_WIND_TYPE_BITMAP : fenàtre contenant du une ima-
ge.

	Pour une fenàtre contenant une toolbox, faites un formulaire.

GWVA_WIND_OBJ_SPEC_PTR:					1 mot 
long
	pointeur sur une structure spÇcifique en fonction du type de fenàtre.

GWVA_WIND_OBJ_USER_PTR1:				1 mot 
long
	pointeurs 1 pour usage du programmeur.
GWVA_WIND_OBJ_USER_PTR2:				1 mot 
long
	pointeurs 2 pour usage du programmeur.

GWVA_WIND_OBJ_START_EVNT_LIST:
	suit la liste des Çvänements dont souhaite àtre averti l'utilisateur. Elle 
est constituÇe d'un mot pour le numÇro du message, incrÇmentÇ soit de 
WM_BEFORE soit de WM_AFTER (sauf pour 
WM_GWVA_NEWIND) puis d'un pointeur sur une routine. Mettez -1.w Ö la fin de la liste.
	ex. :	dc.w WM_CLOSED+WM_BEFORE
		dc.l fenetre_fermee (l'utilisateur renverra d7=-1 pour empàcher 
l'action)
		dc.w -1


		9.2.2 Les mÇthodes


GWVA_WIND_OBJ_PRG_RETURN_PTR_FROM_HANDLE:
	EntrÇe		d0.w	= handle de la fenàtre 
	Sortie		a0.l	= pointeur sur la structure Visual de la fenàtre
			d7.w	= code d'erreur Çventuelle ou 0

	Retourne un pointeur sur la structure Visual de la fenàtre dont le hand-
le est donnÇ en entrÇe.
	d7.w vaut zÇro en retour si pas d'erreur.

GWVA_WIND_OBJ_PRG_TEST_IF_WIND_CREATED:
	EntrÇe		a0.l	= pointeur sur une structure de fenàtre Visual
	Sortie		d7.w	= 0 si fenàtre dÇjÖ crÇÇe

	Test si une fenàtre Visual a dÇjÖ ÇtÇ crÇÇe.

GWVA_WIND_OBJ_PRG_TEST_IF_WIND_OPENED:
	EntrÇe		a0.l	= pointeur sur une structure de fenàtre Visual
	Sortie		d7.w	= 0 si fenàtre dÇjÖ ouverte

	Test si une fenàtre Visual a dÇjÖ ÇtÇ ouverte.

GWVA_WIND_OBJ_PRG_RETURN_TOP_WINDOW:
	EntrÇe	
	Sortie		a0.l	= pointeur structure fenàtre Visual
			d0.w	= handle GEM de la fenàtre
			d7.w	= 0 si la fenàtre TOP est une fenàtre GEM

	DÇtermine quelle est la fenàtre TOP, et si c'est une fenàtre Visual.

GWVA_FORM_WIND_OBJ_PRG_REDRAW_PART:
	EntrÇe		a0.l	= pointeur structure fenàtre Visual
			a1.l	= pointeur d'une liste objet /profondeur si d2.w = 3
			d0.w	= numÇro de l'objet (0 pour tout)
			d1.w	= profondeur du redraw (7 pour tout)
			d2.w =	.-1= toute la fenàtre,
					. 0= contenu,
					. 1= toolbar,
					. 2= menu,
					. 3= a1.l pointe sur une liste d'objet/profon-
deur terminÇe par  -1

	Cette fonction permet de re-dessiner tout ou partie du formulaire con-
tenue dans une fenàtre.
	d0.w est le numÇro de l'objet du päre des objets Ö re-dessiner et d1.w 
donne la profondeur (le nombre de niveau de fils) du redraw. Le couple 
(0,7) permet de re-dessiner tout le formulaire Ö partir de sa racine.
	d2.w permet de localiser le redraw. d2 = -1 permet par exemple un re-
draw complet de la fenàtre, toolbar et menu compris. Bien sñr, cela n'a 
de sens que si (d0,d1)=(0,7) ! Ce que l'on appelle "contenu" est la fenàtre 
utile, toolbar et  menu enlevÇs.
	L'option d2 = 3 permet non plus de dÇfinir seulement un päre et une 
profondeur mais permet de dÇfinir une liste de päres et de profondeurs 
qui seront re-dessinÇs lors du màme message de redraw. En effet, cette 
fonction, au lieu de rÇaliser directement le redraw, crÇe un message GEM 
de redraw. Ce fonctionnement nous parait plus propre : unicitÇ des routi-
nes de redraw, respect des autres messages de redraw, etc. La contrepar-
tie, c'est la longueur des buffers de messages du GEM. Il ne faut pas que 
vos listes soient trop grandes, car cela surchargerait le systäme et le blo-
querait.
	Vous ne devez pas non plus envoyer trop de message d'un seul coup. 
Pensez Ö regrouper vos redraws dans une màme liste.

GWVA_WIND_OBJ_PRG_DELETE_ALL_WIND:
	EntrÇe
	Sortie

	Ferme et efface du systäme toutes les fenàtres prÇcÇdemment crÇÇes.

GWVA_WIND_OBJ_PRG_DELETE_ONE_WIND:
	EntrÇe		a0.l	= pointeur structure fenàtre Visual,
	Sortie

	Ferme et efface du systäme une fenàtre.

GWVA_WIND_OBJ_PRG_UNALLOCATE_MEMORY:
	EntrÇe		a0.l	= pointeur structure fenàtre Visual,
	Sortie

	Permet de dÇs-allouer d'Çventuels buffers internes plus ceux de l'utili-
sateur (cf. USR_PTR1 & 2 et ceux pour les fenàtres Bitmap) Ö n'utiliser 
qu'en cas de destruction de la fenàtre. Vous ne deviez pas y faire appel !

GWVA_WIND_OBJ_PRG_CLOSE_ALL_WIND:
	EntrÇe
	Sortie

	Ferme toutes les fenàtres prÇcÇdemment ouvertes.

GWVA_WIND_OBJ_PRG_CLOSE_ONE_WIND:
	EntrÇe		a0.l	= pointeur structure fenàtre Visual,
	Sortie

	Ferme une fenàtre. 

GWVA_WIND_OBJ_PRG_OPEN_ALL_WIND:
	EntrÇe
	Sortie

	Ouvre toutes les fenàtres prÇcÇdemment crÇÇes.

GWVA_WIND_OBJ_PRG_CREATE_OPEN_ONE_WIND:
	EntrÇe		a0.l	= pointeur structure fenàtre Visual,
	Sortie		d7.w	= 0 si pas d'erreur.

	CrÇÇe et ouvre une fenàtre.
	Les codes d'erreur possibles sont ceux des mÇthode 
GWVA_WIND_OBJ_PRG_CREATE_WINDOW et 
GWVA_WIND_OBJ_PRG_OPEN_ONE_WIND.

GWVA_WIND_OBJ_PRG_OPEN_ONE_WIND:
	EntrÇe		a0.l	= pointeur structure fenàtre Visual,
	Sortie		d7.w	= 0 si pas d'erreur.

	Sous-programme d'ouverture d'une fenàtre Visual. L'ouverture gÇnäre 
le message WM_GWVA_OPEN (WM_BEFORE et WM_AFTER). 
L'ouverture d'une fenàtre dÇjÖ ouverte provoque un TOP de cette derniäre 
(mise en avant plan).
	Les messages d'erreur possibles sont :
	GWVA_ERROR_WIND_BAD_HANDLE			: mauvais 
handle GEM dans la structure V.A. de la fenàtre
	GWVA_ERROR_WIND_OPEN				: la fenàtre n'a 
pu àtre ouverte
	GWVA_ERROR_WIND_USER_CANCEL_OPEN	: la fenàtre a 
ÇtÇ interdite d'ouverture en retour du message WM_GWVA_OPE-
NED+WM_BEFORE.

GWVA_WIND_OBJ_PRG_CALC_SIZE_WIND:
	EntrÇe		a0.l	= pointeur structure fenàtre Visual,
			d0.w, d1.w, d2.w, d3.w = X, Y, W, H externes dÇsirÇs.
	Sortie

	A partir d'un X, Y, W, H externe en pixels dÇsirÇs, cette fonction remet 
toutes les infos de la fenàtre Ö jour.
	ATTENTION A LA CREATION DES FENETRES : ELLES DOI-
VENT AVOIR UNE TAILLE MINIMALE A L'OUVERTURE ; SI-
NON LE GEM LES REDIMMENSIONNE A SA CONVENANCE AU 
PREMIER 'MOVE'

GWVA_WIND_OBJ_PRG_UPDA-
TE_TOOLB_AND_FORM_POS:
	EntrÇe		a0.l	= pointeur structure fenàtre Visual,
	Sortie

	Actualise les positions des objets d'une fenàtre (formulaire et toolbar).

GWVA_WIND_OBJ_PRG_ICONIFY_ONE_WIND:
	EntrÇe		a0.l	= pointeur structure fenàtre Visual,
	Sortie

	Iconifie une fenàtre Visual.
	Pas encore implantÇe.

GWVA_WIND_OBJ_PRG_UNICONIFY_ONE_WIND:
	EntrÇe		a0.l	= pointeur structure fenàtre Visual,
	Sortie

	Desiconifie une fenàtre prÇcÇdemment iconifiÇe.
	Pas encore implantÇe.

GWVA_WIND_OBJ_PRG_BOTTOM_ONE_WIND:
	EntrÇe		a0.l	= pointeur structure fenàtre Visual,
	Sortie

	Place une fenàtre Visual en arriäre plan.
	Disponible Ö partir de l'AES 4.0.

GWVA_WIND_OBJ_PRG_ONTOP_ONE_WIND:
	Routine interne.

GWVA_WIND_OBJ_PRG_NEWTOP_ONE_WIND:
	Routine interne.

GWVA_WIND_OBJ_PRG_TOP_ONE_WIND:
	EntrÇe		a0.l	= pointeur structure fenàtre Visual,
	Sortie

	Place une fenàtre en position TOP (avant-plan).

GWVA_WIND_OBJ_PRG_UNTOP_ONE_WIND:
	Routine interne.

GWVA_WIND_OBJ_PRG_FULL_ONE_WIND:
	EntrÇe		a0.l	= pointeur structure fenàtre Visual,
	Sortie

	Rend une fenàtre FULL (taille maximale permise).

GWVA_WIND_OBJ_PRG_SIZE_ONE_WIND:
	Routine Interne.

GWVA_WIND_OBJ_PRG_MOVE_ONE_WIND:
	Routine Interne.

GWVA_WIND_OBJ_PRG_CREATE_ONE_WIND:
	EntrÇe		a0.l	= pointeur structure fenàtre Visual,
	Sortie		d7.w	= 0 si pas d'erreur

	CrÇation d'une fenàtre Ö partir de la structure Visual.
	GÇnäre le message WM_GWVA_NEWIND (BEFORE et AFTER).
	Les codes d'erreur possibles sont :
	GWVA_ERROR_WIND_GEM_CREATE			: crÇation im-
possible
	GWVA_ERROR_WIND_USER_CANCEL_CREATE	: crÇation 
impossible sur retour du message WM_GWVA_NEWIND+WM_BE-
FORE.

GWVA_WIND_OBJ_PRG_UPDATE_WIND_TITLE:
	EntrÇe		a0.l	= pointeur structure fenàtre Visual,
	Sortie

	Actualise la barre de titre de la fenàtre.

GWVA_WIND_OBJ_PRG_UPDATE_WIND_INFO:
	EntrÇe		a0.l	= pointeur structure fenàtre Visual,
	Sortie

	Actualise la barre d'info de la fenàtre.

GWVA_WIND_OBJ_PRG_UPDATE_WIND_VSLIDE:
	EntrÇe		a0.l	= pointeur structure fenàtre Visual,
	Sortie

	Actualise la position et la taille graphique du slider vertical de la fe-
nàtre en fonction des valeurs contenues dans la structure Visual.

GWVA_WIND_OBJ_PRG_UPDATE_WIND_HSLIDE:
	EntrÇe		a0.l	= pointeur structure fenàtre Visual,
	Sortie

	Actualise la position et la taille graphique du slider horizontal de la 
fenàtre en fonction des valeurs contenues dans la structure Visual.

GWVA_WIND_OBJ_PRG_CALC_SLIDES_SIZE:
	EntrÇe		a0.l	= pointeur structure fenàtre Visual,
	Sortie

	Recalcule la position et la taille des sliders de la fenàtre.

GWVA_WIND_OBJ_PRG_NAMIFY_UNAMI-
FY_ONE_WIND:
	EntrÇe		a0.l	= pointeur structure fenàtre Visual,
	Sortie

	Namification et un-namification de la fenàtre Visual (ne fait plus appa-
raåtre que le titre de la fenàtre).
	La fenàtre ne doit avoir pas d'autres gadgets que ceux de la la partie 
haute de la fenàtre (titre, info, close, full, iconify, ...).

GWVA_APP_OBJ_CREATE_WINDOW:
	EntrÇe		a0.l	= pointeur structure fenàtre Visual,
	Sortie		d7.w	= 0 si pas d'erreur.

	CrÇation d'une fenàtre Visual Ö partir de sa structure. Les codes d'erreur 
possibles en retour sont
	GWVA_ERROR_MALLOC					: erreur lors de 
la crÇation d'une fenàtre texte
	GWVA_ERROR_WIND_ALREADY_CREATED	: la fenàtre Vi-
sual est dÇjÖ crÇÇe
	GWVA_ERROR_WIND_VA_BUFF_FULL		: le nombre 
maximum de fenàtre V.A. est atteint
	GWVA_ERROR_WIND_BAD_STRUCTURE		: la structure 
de la fenàtre V.A. est mauvaise
	GWVA_ERROR_WIND_BAD_COLOR_NBR		: la fenàtre bit-
map V.A. a un nombre de couleur diffÇrent de celui disponible en affi-
chage
	GWVA_ERROR_WIND_BAD_INC_DEF			: il manque 
des dÇfinitions dans le fichier .DEF pour la fenàtre V.A. voulue.
	GWVA_ERROR_WIND_GEM_CREATE			: le GEM n'a 
pas voulu crÇer la fenàtre
	GWVA_ERROR_WIND_USER_CANCEL_CREATE	: crÇation 
impossible sur retour du message WM_GWVA_NEWIND+WM_BE-
FORE.

GWVA_WIND_OBJ_PRG_WM_REDRAW:
	Routine interne.

GWVA_WIND_OBJ_PRG_INTERSEC_REC:
	Routine interne.

GWVA_WIND_OBJ_PRG_WM_TOPPED:
	Routine interne.

GWVA_WIND_OBJ_PRG_WM_CLOSED:
	Routine interne.

GWVA_WIND_OBJ_PRG_WM_FULLED:
	Routine interne.

GWVA_WIND_OBJ_PRG_WM_ARROWED:
	Routine interne.

GWVA_WIND_OBJ_PRG_WM_HSLID:
	Routine interne.

GWVA_WIND_OBJ_PRG_WM_VSLID:
	Routine interne.

GWVA_WIND_OBJ_PRG_WM_SIZED:
	Routine interne.

GWVA_WIND_OBJ_PRG_WM_MOVED:
	Routine interne.

GWVA_WIND_OBJ_PRG_WM_NEWTOP:
	Routine interne.

GWVA_WIND_OBJ_PRG_WM_UNTOPPED:
	Routine interne.

GWVA_WIND_OBJ_PRG_WM_ONTOP:
	Routine interne.

GWVA_WIND_OBJ_PRG_WM_BOTTOM:
	Routine interne.

GWVA_WIND_OBJ_PRG_WM_ICONIFY:
	Routine interne.

GWVA_WIND_OBJ_PRG_WM_UNICONIFY:
	Routine interne.

GWVA_WIND_OBJ_PRG_WM_ALLICONIFY:
	Routine interne.

GWVA_WIND_OBJ_PRG_WM_TOOLBAR:
	Routine interne.

GWVA_JUMP_TO_USER_EVENT_ROUTINE:
	Routine interne.

GWVA_JUMP_TO_USER_REDRAW_ROUTINE:
	Routine interne.

GWVA_WTEXT_OBJ_PRG_CALCULATE_PVSLIDE:
	EntrÇe		a0.l	= pointeur structure fenàtre Visual.
	Sortie

 Recalcule la position du curseur ligne d'affichage, ainsi que la position 
du slider vertical (si prÇsent) et l'affiche.
	Pour les fenàtres text et bitmap.

GWVA_WTEXT_OBJ_PRG_CALCULATE_HVSLIDE:
	EntrÇe		a0.l	= pointeur structure fenàtre Visual.
	Sortie

	Recalcule la taille du slider vertical et l'affiche.
	Pour les fenàtres text et bitmap.

GWVA_WTEXT_OBJ_PRG_CALCULATE_WHSLIDE:
	EntrÇe		a0.l	= pointeur structure fenàtre Visual.
	Sortie

	Recalcule la taille du slider horizontal et l'affiche.
	Pour les fenàtres text et bitmap.

GWVA_WTEXT_OBJ_PRG_CALCULATE_PHSLIDE:
	EntrÇe		a0.l	= pointeur structure fenàtre Visual.
	Sortie

	Recalcule la position du curseur colonne d'affichage, ainsi que la posi-
tion du slider horizontal (si prÇsent) et l'affiche.
	Pour les fenàtres text et bitmap.


		9.2.3 Les Çvänements


Les messages que peut recevoir une fenàtre sont nombreux. En plus 
des messages de base du GEM, il y en a des spÇcifiques V.A qui sont lÖ 
pour faciliter votre programmation.
Pour la plus part des messages il y a deux variantes : une avant que le 
V.A ne fasse l'action (par ex. un WM_MOVED) ou bien apräs : pour 
àtre informÇ d'une fermeture par exemple, áa peut àtre utile pour la dÇ-
truire pour de bon !
Si vous optez pour àtre prÇvenu avant, vous ajouterez WM_BEFO-
RE Ö votre numÇro de message et vous pourrez dans ce cas prÇcis empà-
cher l'action en renvoyant un d7.w nÇgatif (-1) ou bien autoriser l'ac-
tion avec d7=0.
Si vous optez pour àtre prÇvenu apräs, alors l'action aura eu lieu et 
vous pourrez faire des traitements qui prennent ce fait en compte : ajou-
tez WM_AFTER Ö votre numÇro de message.
Vous pouvez d'ailleurs demander Ö àtre prÇvenu des deux Çvänements 
!

	Pour tous ces messages, nous avons :
	d0.w	= numÇro du message (avec WM_BEFORE ou WM_AFTER 
Çventuellement ajoutÇ)
	a0.l	= pointeur sur la fenàtre pour qui est le message
	a1.l	= pointeur sur le buffer de message GEM pour rÇcupÇrer les 
donnÇes dans le
		  cas d'un message classique de 16 octets. (Pour rÇcupÇrer le 
Handle de
		  l'application qui a Çmis le message par exemple.

	Les messages sont :
		. WM_REDRAW	
		. WM_TOPPED
		. WM_CLOSED
		. WM_FULLED
		. WM_ARROWED
		. WM_HSLID
		. WM_VSLID
		. WM_SIZED
		. WM_MOVED
		. WM_NEWTOP
		. WM_UNTOPPED
		. WM_ONTOP
		. WM_BOTTOM
		. WM_ICONIFY
		. WM_UNICONIFY
		. WM_ALLICONIFY
		. WM_TOOLBAR

	Les messages spÇcifiques au V.A sont :
		. WM_GWVA_NEWIND	Message reáu Ö la crÇation d'une 
nouvelle
							fenàtre, avant màme son alloca-
tion de handle si
							WM_BEFORE ajouttÇ. Donc 
avant son 1er redraw
							quoi qu'il arrive. Si vous ajoutez 
WM_BEFORE :
							Renvoyer d7=0 ou d7=-1 pour 
annuler la
							crÇation.
		. WM_GWVA_OPEN		Message reáu Ö l'ouverture d'une 
fenàtre,
							juste avant/apräs son 1er redraw 
(apräs si vous
							ajoutez WM_AFTER).
							Si vous ajoutez WM_BEFORE : 
Retourner d7=0
							ou d7=-1 pour annuler son ou-
verture.

	Quelques prÇcisions sur le message WM_REDRAW :

Pour ce message, notons qu'il rÇagit diffÇremment en fonction du type de 
fenàtre: :

	. bitmap : message avant et apräs.
	. texte : pas de message BEFORE puisque de toute faáon il y a un rec-
tangle blanc
	. formulaire : un message avant et apräs.
	. custom : un seul message.

	Pour tous, vous aurez dans d0-d3.w la zone x1,y1 x2,y2 en pixels in-
clus Ö re-dessiner (dÇjÖ clippÇe)

C'est le message le plus important pour une fenàtre custom puisqu'il va 
permettre de re-dessiner son contenu. Pour cet objet, WM_AFTER & 
BEFORE n'ont aucun sens vu que le V.A n'effectue aucun dessin.


	9.3 L'objet "fenàtre texte"


		9.3.1 Les propriÇtÇs


GWVA_WTEXT_OBJ_NB_COLONNES:			1 mot
	largeur de la fenàtre en nombre de caractäre.
	Attention : TAILLE MINIMALE =  64 PIXELS (6-8 caractäres de la 
font systäme)

GWVA_WTEXT_OBJ_NB_LIGNES:				1 mot
	hauteur de la fenàtre en nombre de caractäre.

GWVA_WTEXT_OBJ_FNT_SIZE:				1 mot
	taille voulue de la font systäme en pixels (peut àtre modifiÇ par le Vi-
sual si la taille n'est pas disponible).

GWVA_WTEXT_OBJ_CELL_WIDTH:				1 mot
	largeur d'une cellule de caractäre de la font.

GWVA_WTEXT_OBJ_CELL_HEIGHT:			1 mot
	hauteur d'une cellule de caractäre de la font.

GWVA_WTEXT_OBJ_MALOC:					1 mot 
long
	pointeur sur le buffer de texte. PositionnÇ par le Visual.
	Dans ce buffer, le texte est stockÇ Ö la suite, sans line-feed, ni carriage 
return.

GWVA_WTEXT_OBJ_CUR_BUF_COL:			1 mot
	Variable interne

GWVA_WTEXT_OBJ_CUR_BUF_LIGN:			1 mot
	Variable interne

GWVA_WTEXT_OBJ_CUR_AFF_COL:			1 mot
	Variable interne

GWVA_WTEXT_OBJ_CUR_AFF_LIGN:			1 mot
	Variable interne

GWVA_WTEXT_OBJ_BUF_COLONNE:			1 mot
	Variable interne

GWVA_WTEXT_OBJ_BUF_LIGNE:				1 mot
	Variable interne

GWVA_WTEXT_OBJ_AFF_COLONNE:			1 mot
	Variable interne

GWVA_WTEXT_OBJ_AFF_LIGNE:				1 mot
	Variable interne


		9.3.2 Les mÇthodes


GWVA_WTEXT_OBJ_PRG_CALC_PARAM_TEXT:
	Routine interne.

GWVA_WTEXT_OBJ_PRG_WRITE_TEXT_IN_WINDOW:
	Routine interne.

GWVA_WIND_OBJ_PRG_ARROWED_WINDOW_TEXT:
	Routine interne.

GWVA_WIND_OBJ_PRG_HSLIDE_WINDOW_TEXT:
	Routine interne.

GWVA_WIND_OBJ_PRG_VSLIDE_WINDOW_TEXT:
	Routine interne.

GWVA_WTEXT_OBJ_PRG_WRITE_IN_WINDOW:
	EntrÇe		a0.l	= pointeur structure fenàtre Visual,
			a1.l	= pointeur sur le texte (terminÇ par 0).
	Sortie

	Affiche une chaåne de caractäre dans une fenàtre texte.

GWVA_WTEXT_OBJ_PRG_WRITE_IN_BUFFER:
	EntrÇe		a0.l	= pointeur structure fenàtre Visual,
			a1.l	= pointeur sur le texte (terminÇ par 0).
	Sortie

	Ecrit une chaåne de caractäre dans le buffer de la fenàtre, mais sans rÇ-actualiser l'affichage.

GWVA_WTEXT_OBJ_PRG_WRITE_BUFFER_IN_WIN-
DOW:
	EntrÇe		a0.l	= pointeur structure fenàtre Visual.
	Sortie

	Actualise l'affichage du buffer de la fenàtre texte.

GWVA_WTEXT_OBJ_PRG_SCROLL_WINDOW:
	Routine interne.

GWVA_WTEXT_OBJ_PRG_CALC_PARAM_TEXT2:
	Routine interne.

GWVA_WTEXT_OBJ_PRG_SCROLL_VERT:
	Routine interne.

GWVA_WTEXT_OBJ_PRG_SCROLL_HORI:
	Routine interne.

GWVA_WTEXT_OBJ_PRG_CALCULATE_PHSLIDE2:
	Routine interne.

GWVA_WTEXT_OBJ_PRG_CALCULATE_PVSLIDE2:
	Routine interne.


	9.4 Les objet "fenàtre formulaire"


		9.4.1 Les propriÇtÇs


Voici le descriptif de l'objet formulaire qui sert aussi pour les toolbar et 
les toolbox :

GWVA_WFORM_OBJ_FORM_IDX:				1 mot
	numÇro de l'arbre servant de dessin au formulaire

GWVA_WFORM_OBJ_FORM_PTR:				1 mot 
long
	adresse du formulaire calculÇe par le V.A

GWVA_WFORM_OBJ_CLICK_ROUTINE:			1 mot 
long
	routine pour tout click dans le formulaire ou 0.L Ceci permet de crÇer 
toute une famille d'objets cliquables sans dÇfinir une liste monstrueuse 
d'objets dÇpendant du formulaire.

GWVA_WFORM_OBJ_FOCUSED_TXT:			1 mot
	Le champs de texte Çditable qui aura le curseur au dÇbut
	(0.w si pas de texte Çditable)

	Les variables suivantes sont en lecture uniquement (mettez 0 au dÇbut) 
:

GWVA_WFORM_OBJ_CURSOR_POS:			1 mot
	position du curseur ?

GWVA_WFORM_OBJ_L_SCULPT:				1 mot
	largeur additionnelle Ö gauche

GWVA_WFORM_OBJ_T_SCULPT:				1 mot
	" en haut

GWVA_WFORM_OBJ_R_SCULPT:				1 mot
	" Ö droite

GWVA_WFORM_OBJ_B_SCULPT:				1 mot
	" en bas

GWVA_WFORM_OBJ_W_SCULPT:				1 mot
	largeur en tenant compte du 'relief'

GWVA_WFORM_OBJ_H_SCULPT:				1 mot
	hauteur "

GWVA_WFORM_OBJ_IS_CLONE_FORM:			1 mot
	champ de bits servant Ö la sauvegarde automatique des objets d'un for-
mulaire associÇ Ö une fenàtre. DÇfinition du champ :
	bit 0 : sauve l'Çtat des objets et le caractäre des BOXCHAR
	bit 1 : sauve les TEDINFO
	bit 2 : sauve les textes non Çditables sauf le caractäre des icones
	bit 3 : sauve les textes Çditables (texte + mise en forme + champ de 
saisie)
	bit 4 : sauve les BITBLK
	bit 5 : sauve les ICONBLK
	bit 6 : sauve les CICONBLK
	bit 7 : sauve les APPLBLK
	Ce champ est utilisÇ par le V.A. lors d'applications se servant d'un mà-
me formulaire dans plusieurs fenàtres simultanÇment.
	Ces bits sont Ö dÇfinir par le programmeur.

GWVA_WFORM_OBJ_CLONE_FORM_SAVE:		1 mot 
long
	pointeur sur une sauvegarde du contenu du formulaire de la fenàtre.
	Ce mot long est utilisÇ par le V.A. lors d'applications se servant d'un 
màme formulaire dans plusieurs fenàtres simultanÇment.
	La premiäre sauvegarde est Ö effectuer par le programmeur, lors de 
l'ouverture de la fenàtre par exemple. Voir la mÇthodes 
GWVA_WFORM_OBJ_PRG_SAVE_FORM.
	Vous pouvez programmer la libÇration automatique de ce pointeur si 
c'est un malloc (cf. propriÇtÇs de la fenàtre : GWVA_WIN_BIT_FREE-
FORM )

GWVA_WFORM_OBJ_CLONE_MAIN_PTR:		1 mot 
long
	pointeur sur un mot long pointant lui màme en permanence sur la 
structure de la fenàtre clone active.
	Le pointeur pointÇ par lui est Ö mettre Ö zÇro Ö l'initialisation du pro-
gramme.
	Ce mot long est utilisÇ par le V.A. lors d'applications se servant d'un 
màme formulaire dans plusieurs fenàtres simultanÇment.

	Pour plus d'information sur ces champs, rÇfÇrez-vous Ö l'exemple VI-
SUAL40\SAMPLES\MULTIDOC\FORM\PROJECT.OBJ

GWVA_WFORM_OBJ_START_OBJ_LIST:
	vient ensuite la liste des objets dÇpendant du formulaire, constituÇe de :
	. 1 mot : le numÇro de l'objet
	. 1 mot : son raccourci (0 si aucun) cf. racourcis pour les menus
	. 1 mot :  son type
		1 : GWVA_FORM_WIND_OBJECT_TEXT 		: 
champs de texte (Çditable
			ou pas)
		2 : GWVA_FORM_WIND_OBJECT_BUTTON	 : bou-
ton
		3 : GWVA_FORM_WIND_OBJECT_MENU_POPUP : menu 
popup
		4 : GWVA_FORM_WIND_OBJECT_RADIO_BUTTON : 
bouton radio :
			mettre comme numÇro d'objet celui du päre des 
boutons
			radio.
		*5 : GWVA_FORM_WIND_OBJECT_ROLL_POPUP : roll 
over popup object
			(pointeur sur une structure du popup associÇ) : pas encore 
supportÇ
		*6 : GWVA_FORM_WIND_OBJECT_ROLL_RADIO_B : 
roll over radio-button 
			object (pointeur sur structure du radio bouton associÇ) : 
pas encore
			supportÇ
		*7 : GWVA_FORM_WIND_OBJECT_PROGRESS_BAR : 
percent-progress 
			graphic object
		8 : GWVA_FORM_WIND_OBJECT_SLIDER	 : slider gra-
phic object

		* : pas d'Çvänements pour ces objets
	. 1 mot long : un pointeur sur sa structure

	fin de la liste par -1.w

Attention : un bouton exit ou touchexit sera re-dessinÇ dÇsÇlectionnÇ s'il 
est enfoncÇ.


		9.4.2 Les mÇthodes


Trois mÇthodes pour ces objets. Elles concernent la sauvegarde, la res-
tauration et la copie du contenu d'un formulaire, en vu soit de l'utilisation 
du màme formulaire dans plusieurs fenàtres, soit de l'implantation d'une 
fonction Annuler dans un formulaire. L'utilisation de ces mÇthodes pour 
ces deux cas peut àtre vu respectivement dans VISUAL40\SAM-
PLES\MULTIDOC\FORM\ et dans VISUAL40\START\

GWVA_WFORM_OBJ_PRG_SAVE_FORM:
	EntrÇe		d0.w	= numÇro de l'arbre
			d1.w	= paramÇtrage de la sauvegarde
				bit 0 : sauve l'Çtat des objets et le caractäre des 
BOXCHAR
				bit 1 : sauve les TEDINFO
				bit 2 : sauve les textes non Çditables sauf le caractä-
re des icones
				bit 3 : sauve les textes Çditables (texte+mise en for-
me+champ de saisie)
				bit 4 : sauve les BITBLK
				bit 5 : sauve les ICONBLK
				bit 6 : sauve les CICONBLK
				bit 7 : sauve les APPLBLK
			a0.l	= 0 (MALLOC automatique) ou pointeur sur un 
prÇcÇdent champ de sauvegarde
	Sortie		a0.l	= pointeur sur le champ de sauvegarde
			d7.w	= code d'erreur ou 0 si non

	Sauvegarde paramÇtrable d'un formulaire.

GWVA_WFORM_OBJ_PRG_RESTORE_FORM:
	EntrÇe		d0.w	= numÇro de l'arbre
			d1.w	= paramÇtrage (voir sauvegarde)
			a0.l	= pointeur sur le champ de sauvegarde
	Sortie		d7.w	= code d'erreur ou 0 si non

 Restauration d'un formulaire prÇcÇdemment sauvegardÇ. On peut ne res-
taurer qu'une partie d'un formulaire sauvÇ.

GWVA_WFORM_OBJ_PRG_COPY_SAVED_FORM:
	EntrÇe		a0.l	= pointeur sur le champ de sauvegarde source
			a1.l	= 0 (crÇation de la copie - malloc) ou adresse d'un 
buffer de destination
	Sortie		a0.l	= pointeur de la sauvegarde de destination
			d7.w	= code d'erreur ou 0 si non

	Copie d'une sauvegarde de formulaire.


		9.4.3 Les Çvänements spÇcifiques


	Les Çvänements sont les suivants et s'appliquent aux objets du formu-
laires. Pour les avoir il faut avoir dÇcrit l'objet dans la liste des objets du 
formulaire.

	. GWVA_EVNT_CLICK		boutons (exit, touch-exit)
							textes (touch-exit) mais pas pour 
textes Çditables
	. GWVA_EVNT_DCLICK		"" idem sauf pour les champs 
texte Çditables pour
							lesquels le seul Çvänement est le 
double click
	. GWVA_EVNT_GOTFOCUS		champs Çditable (pas encore 
supportÇ)
	. GWVA_EVNT_LOSTFOCUS	champs Çditable (pas encore 
supportÇ)
	. GWVA_EVNT_SELECTED		radio bouton, bouton selectable 
mais non exit
	. GWVA_EVNT_UNSELECTED	"" idem
	. GWVA_EVNT_CHANGED		popup, champs Çditable, drop-
down list


		9.4.4 Les objets graphiques


			9.4.4.1 L'objet texte


	Aucune propriÇtÇ pour cet objet, juste une liste d'Çvänements :

GWVA_FORM_TXT_OBJ_START_EVNT_LIST:
	La liste des Çvänements est constituÇe de : 
	. 1 mot : l'Çvänement
	. 1 mot long : le pointeur sur la routine
	.-1.w Ö la fin de la liste


			9.4.4.2 L'objet bouton


	La structure de l'objet bouton est la suivante :
GWVA_FORM_BTON_OBJ_STATE:				1 mot
	êtat du bouton identique Ö celui du GEM (bit 0 = sÇlectionnÇ ...)

GWVA_FORM_BTON_OBJ_START_EVNT_LIST:	1 mot
	La liste des Çvänements est constituÇe de : 
	. 1 mot : l'Çvänement
	. 1 mot long : le pointeur sur la routine
	. -1.w Ö la fin de la liste

		En cas de retour vous avez dans les registres :
		d0.w	= numÇro de l'objet du formulaire cliquÇ
		d1.w	= Çtat du bouton (bit 0 : selected ...)
		a0.l	= pointeur sur la structure de la fenàtre
		a1.l	= pointeur sur la structure formulaire
		a2.l	= pointeur structure Çvänement (pointeur sur objet dans 
la liste des objets)
		a3.l	= pointeur sur la structure de l'objet bouton


			9.4.4.3 L'objet popup


	La structure de l'objet popup est la suivante :

GWVA_FORM_POP_OBJ_TREE_FORM:			1 mot
	numÇro de l'"arbre" du ressource .RSC (formulaire) contenant le po-
pup

GWVA_FORM_POP_OBJ_FORM_IDX:			1 mot
	numÇro de l'objet dans l'arbre qui sera le popup

GWVA_FORM_POP_OBJ_SELECTION:			1 mot
	numÇro de l'objet sÇlectionnÇ au dÇbut (Ö initialiser par l'utilisateur)

GWVA_FORM_POP_OBJ_CHANGE_ROUTINE:	1 mot long
	pointeur sur la routine CHANGED (0.L si aucune)

	En cas de retour vous avez dans les registres :
		d0.w	= N¯ objet du formulaire cliquÇ qui a entraånÇ l'activation 
du popup
		d1.w	= nouvelle sÇlection
		d2.w	= ancienne sÇlection
		a0.l	= pointeur sur la structure de la fenàtre
		a1.l	= pointeur sur la structure formulaire
		a2.l	= pointeur structure Çvänement (pointeur sur objet dans 
la liste des objets)
		a3.l	= pointeur sur la structure de l'objet popup


			9.4.4.4 L'objet radio-bouton


	La structure de l'objet radio-bouton est la suivante :

GWVA_FORM_RADIO_OBJ_SELECTION:			1 mot
	numÇro de l'objet sÇlectionnÇ au dÇbut (Ö initialiser par le program-
meur)

GWVA_FORM_RADIO_OBJ_CHANGE_ROUTINE:	1 mot 
long
	pointeur sur la routine CHANGED (0 si aucune)

	En cas de retour vous avez dans les registres :
		d0.w	= nouvelle sÇlection
		d1.w	= ancienne sÇlection
		a0.l	= pointeur sur la structure de la fenàtre
		a1.l	= pointeur sur la structure formulaire
		a2.l	= pointeur structure Çvänement (pointeur sur objet dans 
la liste des objets)
		a3.l	= pointeur sur la structure de l'objet radio-bouton


			9.4.4.5 L'objet barre de 
progression


	Cet objet a des propriÇtÇs, des mÇthodes mais pas d'Çvänements puis-
qu'il est visuel uniquement et que son Çtat est changÇ par le program-
meur.

GWVA_FORM_PROGRESS_OBJ_PERCENT:		1 mot
	pourcentage 0 <= percent <= 100 sinon infini "oo"

GWVA_FORM_PROGRESS_OBJ_TEXT_IDX:		1 mot
	index du texte ASCII ou sera recopiÇ la valeur en ASCII 0 si vous n'en 
dÇsirez pas

GWVA_FORM_PROGRESS_OBJ_GRAPHIC_FIDX:	1 mot
	index du graphique päre fixe contenant l'autre variable (0 si pas de gra-
phique)

GWVA_FORM_PROGRESS_OBJ_GRAPHIC_SIDX:	1 mot
	index du graphique dont la taille va varier de 0 Ö celle du päre ci des-
sus

	Ses mÇthodes sont les suivantes :

GWVA_PROGRESS_OBJ_PRG_SET_PERCENT:
	EntrÇe		a0.l	= pointeur sur l'objet barre de progression
			d0.w	= pourcentage
	Sortie

	Pour mettre Ö jour le pourcentage dans l'objet sans rÇafficher.

GWVA_PROGRESS_OBJ_PRG_UPDATE_PERCENT:
	EntrÇe		a0.l	= pointeur sur la fenàtre du formulaire contenant la 
barre
			a1.l	= pointeur sur l'objet barre de progression
			d0.w	= pourcentage
			d1.w	= (0) si la barre est dans le formulaire (1) si elle est 
dans la toolbar
	Sortie

	Pour changer le pourcentage et rÇafficher la barre.

GWVA_PROGRESS_OBJ_PRG_PRINT_PERCENT:
	EntrÇe		a0.l	= pointeur sur la fenàtre du formulaire contenant la 
barre
			a1.l	= pointeur sur l'objet barre de progression
			d0.w	= (0) si la barre est dans le formulaire (1) si elle est 
dans la toolbar
	Sortie

	Pour rÇafficher la barre.


			9.4.4.6 L'objet slider


Cet objet est composÇ d'au moins 2 objets : la glissiäre (le päre) et le 
coulisseau (le fils). Quatre autres objets (optionnels) peuvent leur àtre ad-
joints : un objet pour dÇplacer le coulisseau de +1 ÇlÇment, un objet pour 
dÇplacer le coulisseau de -1 ÇlÇment, un objet pour dÇplacer le coulisseau 
de +1 "page" et un objet pour dÇplacer le coulisseau de -1 "page".
Ces objets doivent àtre dÇfinit normalement dans la liste des objets et 
tous pointÇs sur la structure suivante :

GWVA_FORM_SLIDER_OBJ_POS:				1 mot 
long
	Position du coulisseau (en nombre d'ÇlÇment : 0 -> (LENGTH-SIZE)

GWVA_FORM_SLIDER_OBJ_SIZE:				1 mot 
long
	Nombre d'ÇlÇments reprÇsentant le coulisseau (une page)

GWVA_FORM_SLIDER_OBJ_LENGTH:			1 mot 
long
	Nombre d'ÇlÇments reprÇsentant la glissiäre

GWVA_FORM_SLIDER_OBJ_ORIENT:   			1 mot
	Direction du slider (0 horizontal, 1 vertical)

GWVA_FORM_SLIDER_OBJ_GRAPHIC_FIDX:   	1 mot
	Index du graphique de la glissiäre

GWVA_FORM_SLIDER_OBJ_GRAPHIC_SIDX:  	1 mot
	Index du graphique du coulisseau en lui màme

GWVA_FORM_SLIDER_OBJ_GRAPHIC_P1_IDX:	1 mot
	Index de l'objet provoquant l'addition d'un ÇlÇment (0 si pas)

GWVA_FORM_SLIDER_OBJ_GRAPHIC_M1_IDX:	1 mot
	Index de l'objet provoquant la soustraction d'un ÇlÇment (0 si pas)

GWVA_FORM_SLIDER_OBJ_GRAPHIC_P1P_IDX:	1 mot
	Index de l'objet provoquant l'addition d'une page (0 si pas)

GWVA_FORM_SLIDER_OBJ_GRAPHIC_M1P_IDX:	1 mot
	Index de l'objet provoquant la soustraction d'une page (0 si pas)

GWVA_FORM_SLIDER_OBJ_CHANGE_ROUTINE:	1 mot 
long
	Pointeur sur la routine CHANGED (0 si pas)

	En cas de retour vous avez dans les registres :
		a0.l=pointeur sur la structure de la fenàtre Visual,
		a1.l=pointeur sur le formulaire contenant le slider,
		a2.l=pointeur structure Çvänement (pointeur sur l'objet dans la 
liste des objets)
		a3.l= pointeur sur la structure de l'objet slider
		d0.l=nouvelle position du slider
		d1.l=dÇplacement effectuÇ (signÇ)

	Sa seule mÇthode est la suivante :

GWVA_SLIDER_OBJ_PRG_SET_SLIDER:
	EntrÇ		a0.l	= pointeur structure fenàtre Visual,
			a1.l	= pointeur sur la structure du formulaire contenant 
l'objet,
			a2.l	= pointeur sur la structure de l'objet slider.
	Sortie		d7.l	= dÇplacement Çventuel du silder (structure et affi-
chage actualisÇs).

	Recalcule et actualise la position et la taille de l'objet slider en fonction 
de sa structure.


	9.5 L'objet fenàtre bitmap


Les fenàtres bitmap permettent d'afficher simplement et proprement 
des images Ö l'Çcran.
Actuellement, il n'existe aucune fonction de dithering (rÇduction du 
nombre de couleur d'une image) implantÇe dans le V.A.. Par consÇquent, 
seules les images de màme rÇsolution couleur que celle du bureau peu-
vent àtre affichÇes pour le moment.


		9.5.1 Les propriÇtÇs


GWVA_WBITM_OBJ_IMG_WIDTH:				1 mot
	largeur de l'image (pixels)

GWVA_WBITM_OBJ_IMG_HEIGHT:				1 mot
	hauteur de l'image (pixels)

GWVA_WBITM_OBJ_DATA_PTR:				1 mot 
long
	pointeur sur l'image en elle-màme

GWVA_WBITM_OBJ_PAL_PTR:					1 mot 
long
	pointeur sur la palette (4/16/256 couleurs)

GWVA_WBITM_OBJ_NBR_BITPLANES:			1 mot
	nombre de plans de l'image : 1, 2, 4, 8, 16 (true color)

GWVA_WBITM_OBJ_AFF_DX:					1 mot
GWVA_WBITM_OBJ_AFF_DY:					1 mot
	position (X,Y) dans l'image du pixel du coin supÇrieur gauche de la fe-
nàtre


		9.5.2 Les mÇthodes


GWVA_WIND_OBJ_PRG_ARROWED_WINDOW_BITMAP:
	Routine interne.

GWVA_WIND_OBJ_PRG_HSLIDE_WINDOW_BITMAP:
	Routine interne.

GWVA_WIND_OBJ_PRG_VSLIDE_WINDOW_BITMAP:
	Routine interne.

GWVA_WBITM_OBJ_PRG_SET_RIGHT_PALETTE:
	EntrÇe
	Sortie

	Actualise la palette systäme en fonction de la fenàtre TOP (en avant 
plan).
	Pour une fenàtre bitmap, c'est la palette de l'image qui est utilisÇe. Pour 
les autres types de fenàtre, c'est la palette systäme (celle disponible au 
lancement du programme) qui est utilisÇe.

GWVA_WBITM_OBJ_PRG_RESET_DESK_PALETTE:
	EntrÇe
	Sortie

	Repositionne la palette systäme.


	9.6 L'objet fenàtre custom


Cette fenàtre est la seule Ö n'avoir aucune propriÇtÇ spÇciale ; c'est vous 
qui gÇrez son contenu : d'ailleurs son pointeur sur structure doit àtre 0.L.
Par contre elle peut träs bien avoir une toolbar ou un menu attachÇ !
Elle n'a aucune mÇthode particuliäre, hormis celles d'une fenàtre clas-
sique : move, namify ...


	9.7 L'ÇlÇment toolbar


L'ÇlÇment toolbar n'est ni plus ni moins qu'un formulaire qui serait af-
fichÇ en haut d'une fenàtre. Il supporte les màmes Çvänements et objets 
qu'un formulaire classique, mais ne pourra jamais avoir de raccourcis ! Il 
est en fait dÇjÖ une sorte de raccourci souris Ö une fonction courante qui 
se trouve dans un menu.


	9.8 L'ÇlÇment menu


La ligne de menu dans une fenàtre n'est pas implÇmentÇe dans le V.A. 
4.0. Mais tout est prÇvu pour, il suffira de placer un pointeur sur une 
structure de menu.


		9.8.1 Les propriÇtÇs


		9.8.2 Les mÇthodes


		9.8.3 Les Çvänements


	9.9 Les raccourcis claviers


N'importe quel objet clickable peut se voir assigner un raccourci qui 
reviendra en fait Ö un simple click sur cet objet. On rÇserve en gÇnÇral 
l'emploi des ctrl+? au raccourcis pour les menus et les alt+? aux raccour-
cis pour les boåtes de dialogue ...

	Un raccourci est dÇfini sur 1 mot :
. 0.w si pas de raccourci
. autrement, la dÇfinition est comme suit :
. 1.b pour le masque de bits des touches spÇciales
bit 0=Rshift, bit 1=Lshift, bit 2=Ctrl, bit 3=Alt
. 1.b pour la valeur ASCII ou le scan-code US

Exemples :
CTRL+i = dc.w $00*256+'i'-'a'+1
Les combinaisons de touches avec CTRL+une lettre de l'alphabet ont 
une reprÇsentation ASCII : CTRL+a = valeur ASCII 1, ... CTRL+z = va-
leur ASCII 26
ALT+a = dc.w $08*256+'a'

MÇthode pour dÇterminer le raccourci clavier :
Prendre son Compendium prÇfÇrÇ,
Regarder l'ikbd.w donnÇ pour la combinaison de touche sans shift
si l'octet bas est non nul : valeur ASCII : on se fiche des touches 
spÇciales
s'il est nul, c'est un scancode. On tient compte alors des touches 
spÇciales :
1) si la touche correspond Ö quelque chose d'ASCII, le mettre
2) sinon, (par ex. F1) mettre le scancode +$80

Note : däs que l'on a pas $80+..., le masque de touches spÇciales 
est indiffÇrent
Attention : Pas de raccourcis utilisant ALT et une touche stricte-
ment Ö droite de 8 sur le clavier (scancode supÇrieur Ö $80 !!).
