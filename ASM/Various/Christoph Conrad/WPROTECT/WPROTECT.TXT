///////////////////////////////////////////////////////////////////////////////
/                                                                             /
/         >>  WProtect  <<                             V1.03      10.02.1993  /
/                                                                             /
/     PD ½ by                                                                 /
/     P*ST:                                                                   /
/           Christoph Conrad                                                  /
/           Adalbertsteinweg 113                                              /
/           5100 Aachen                                                       /
/                                                                             /
/ E-Mail Direkt:                                                              /
/     MAUS: Christoph Conrad @ AC3                                            /
/                                                                             /
/ E-Mail Gateways:                                                            /
/     FIDO: Christoph Conrad % Maus AC3 2:242/2.6                             /
/   USEnet: Christoph_Conrad@ac3.maus.de                                      /
/ Zerberus: Christoph_Conrad%ac3@zermaus.zer                                  /
/   Pronet: MAUS:AC3:Christoph_Conrad                                         /
/ Internet: conrad@rama.Informatik.RWTH-Aachen.DE                             /
/           (selten, bitte keine ueberlangen Mails!)                          /
/      BTX: Seite *35008024#, im Formular ausfllen                           /
/           Christoph_Conrad@AC3.MAUS.DE.UUCP                                 /
/           (kostet 90 Pfennig)                                               /
/                                                                             /
/ Falls Sie irgendetwas entdecken, was Sie st”rt, oder Verbesserungsvorschl„ge/
/ haben, nur zu: schreiben Sie mir ber EMail (vorzugsweise) oder P*ST.       /
/                                                                             /
/ Dieses Programm liegt auch dem VIRENDETEKTOR bei, _DEM_ Virensuchprogramm   /
/ auf dem ATARI ST/TT von Volker Soehnitz @ AC. Keiner bietet mehr!           /
/ Lassen Sie sich registrieren und geniessen Schutz vor allen aktuellen       /
/ Viren durch den Updateservice.                                              /
/                                                                             /
/ Eine Weitergabe des VIRENDETEKTOR ohne diese Dateien ist nicht gestattet!   /
/                                                                             /
/ WProtect kann und soll weiterkopiert werden, allerdings nur                 /
/ _MIT_                                                                       /
/ WPROTECT.S                                                                  /
/ WPRORSC.S                                                                   /
/ Ver„nderungen an Source/Programm NUR zu privaten Zwecken!!                  /
/ Wer ver„nderte Versionen von Source oder Programm ”ffentlich zug„nglich     /
/ macht, wird von mir ganz sch”nen Žrger bekommen!                            /
/ WPROTECT.PRG                                                                /
/ WPROTECT.RSC                                                                /
/ WPROTECT.RSD                                                                /
/ WPROTECT.TXT                                                                /
/                                                                             /
///////////////////////////////////////////////////////////////////////////////


  WICHTIG:  Unbedingt zumindest Kapitel I und den Anhang lesen!


      Inhalt:     0.    Das (etwas l„ngere) Vorwort
      ÿÿÿÿÿÿÿ             a) Danksagungen
                          b) Was ist WProtect?
                          c) Ver„nderungen gegenber alten Versionen

                   I.   Installation

                  II.   Bedienung des
                          a) Autoordnerprogramms
                          b) 'Normalen' Programms
                          c) Accessory's

                 III.   Schlužwort

              Anhang:   Bekannte Programmfehler, Inkompatibilit„ten und
                        Unsch”nheiten (auch MetaDOS!)

            Ausblick:   Was gibt's in der n„chsten WProtect Version?

                        Registrierungsformular


----------------------
0. Das (etwas l„ngere) Vorwort

----------------------
0.a)  Danksagungen
- Jankowski/Rabich/Reschke fr ihr "Profibuch", eine unverzichtbare Fundgrube.

- Karsten Isakovic fr seinen 'SysMon', sowie
  Thomas Tempelmann sowie Johannes Hill fr den 'TempleMon'
  beide Tools bekannt als 'The Programmers best friends' :-)

- ATARI / Landon Dyer fr den 'MadMac'.

- GENESIS fr 'Selling England by the pound' sowie 'Foxtrot'
  THE CURE fr 'Disintegrations'
  THE RED HOT CHILI PEPPERS fr 'Blood sugar sex magik'
  KING'S X ½ 1992 (mit 'Black Flag')
  TEMPLE OF THE DOG fr ihr Debtalbum
  RAGE AGAINST THE MACHINE fr ihr Debtalbum

- Barbara fr die Erkenntnis, dass es ein Leben ohne Rechner gibt =:^}

----------------------
0.b)  Was ist WProtect?
WProtect steht fr 'Write Protect', also Schreibschutz. Bei Disketten k”nnen
Sie ja einen Schreibschutz aktivieren, aber was machen bei Ramdisks oder
Festplattenpartitionen? WProtect bietet die M”glichkeit, ein beliebiges
logisches Laufwerk schreibzuschtzen. Es k”nnen die Laufwerke 'A' bis 'Z'
geschtzt werden.

Die Programme wurden auf den TOS-Versionen 1.00, 1.02 1.04, 2.05, 3.01 und
3.05, mit diversen RAM-Disks sowie mit den Festplatten SH204, SH205,
Megafile 30 und einigen SCSI-Platten getestet. Es l„uft mit dem AHDI von
Atari ebenso zusammen, wie mit dem CBHD vom Scheibenkleister und Julian
Reschkes HUSHI. TROTZDEM empfehle ich bei der Verwendung eines anderen
Treibers (insbesondere bei VORTEX-Treibern) Vorsicht walten zu lassen.

Ich habe alle Sorgfalt walten lassen, um ein fehlerfreies Programm zu
erstellen. Trotzdem sind Fehler nie ganz auszuschliessen. Deshalb kann
weder die juristische Verantwortung noch irgendeine Haftung von Seiten
des Autors fr eventuelle Sch„den an Daten oder Programmen, die direkt
oder indirekt auf die Benutzung dieses Programms zurckzufhren sind,
bernommen werden!

----------------------
0.c)  Ver„nderungen gegenber alten Versionen
WProtect 1.01 wurde komplett berarbeitet gegenber 0.97/f, der letzten
ausgelieferten Version. Die wesentlichste Neuerung betrifft die Oberfl„che,
die jetzt ber eine GEM-Dialogbox wesentlich komfortabler als vorher zu
bedienen ist. Weitere Neuerungen entnehmen Sie bitte der History am Anfang
des Quelltextes WPROTECT.S.

Ab WProtect 1.02 werden die zu sichernden Laufwerke in einem INF-File in
der Wurzel des Bootlaufwerkes vermerkt, anstatt im Programm selbst.

WProtect befindet sich nach einem kurzen Intermezzo ab 1.02 wieder im PD
(Public Domain) Status.

Ab WProtect 1.03:
Bei nachtr„glich installiertem Programm (Kein Autoordnerprogramm,
WPROTECT.PRG als GEM-Programm gestartet und mindestens ein Laufwerk
zum Schutz angemeldet) wurde immer versucht auf A:\WPROTECT.INF
zu sichern, ausserdem blieb das komplette Programm resident. Behoben.

----------------------
I.    Installation
Ganz einfach: WPROTECT.PRG geh”rt in den Autoordner. Es installiert sich
resident. WPROTECT.ACC geh”rt auf die Wurzel des Bootlaufwerks. Es dient
dem Konfigurieren des Schreibschutzes. Es kann, muss aber nicht installiert
sein, da genausogut mit WPROTECT.PRG, als normales GEM-Programm gestartet,
konfiguriert werden kann. WPROTECT.PRG als GEM-Programm gestartet installiert
sich brigens resident (wie das Autoordnerprogramm), falls das
Autoordnerprogramm mal vergessen wurde und vor dem Verlassen von WPROTECT.PRG
mindestens ein Laufwerk schreibgeschtzt wurde.

Autoordnerprogramm, GEM-Programm und Accessory sind v”llig identisch
und k”nnen durch Kopieren/Umbenennen neu erzeugt werden.

----------------------
II.   Bedienung der Programme

----------------------
II.a) Autoordnerprogramm: WPROTECT.PRG
Da gibt's nichts weiter zu bedienen. Ab in den Autoordner und vergessen.
Das Autoordnerprogramm gibt eine kurze Meldung aus, das es sich installiert
hat, und evt. eine Liste der geschtzen Laufwerke. Falls kein Cookie
angelegt werden konnte, wird ebenfalls eine entsprechende Meldung ausgegeben,
und das Autoordnerprogramm bleibt NICHT resident.

Das Autoordnerprogramm belegt 468 Byte Hauptspeicher (plus Environment).

----------------------
II.b) 'Normales' Programm: WPROTECT.PRG
Nach dem Start sehen Sie eine Dialogbox mit 26 kleinen Kn”pfchen 'A'-'Z'
sowie drei Buttons 'Abbruch', 'Sichern' und 'Ok'. 'A'-'Z' stehen fr die
logischen Laufwerke. Nicht vorhandene Laufwerke sind disabled, also grau
und nicht anw„hlbar. Vorhandene Laufwerke sind entweder weiss (nicht geschtzt)
oder invertiert (geschtzt). Durch Mausklick auf einen solchen Knopf wird
der Schutzstatus ge„ndert, aus einem geschtzten Laufwerk wird ein ungeschtztes
und aus einem ungeschtzten ein geschtztes.

'Sichern' sichert in 'X:\WPROTECT.INF' die aktuellen Schutzeinstellungen,
wobei X das Bootlaufwerk darstellt. Falls das Bootlaufwerk geschtzt werden
soll, wird eine Warnbox ausgegeben und noch einmal nachgefragt, ob wirklich
gesichert werden soll.

'Abbruch' bel„sst alle Einstellungen so, wie Sie beim Start von WProtect
waren, das heisst alle Žnderungen werden verworfen (wenn Sie zwischenzeitlich
gesichert haben, dann bleibt die Sicherung erhalten, das heisst beim n„chsten
Booten gelten immer die bei einer erfolgreichen Sicherung zum Zeitpunkt des
Sicherns eingestellten Werte, EBENSO GELTEN NACH 'Abbruch' DIE ZUM ZEITPUNKT
DES SICHERNS EINGESTELLTEN WERTE!).

Falls Sie Letemfly von Oliver Scheel installiert und aktiviert haben
(einschliesslich 'Key Dials'), k”nnen Sie die Kn”pfe auch mit
ALTERNATE+Laufwerksbuchstabe (gleichzeitig gedrckt) selektieren
(als h„tten Sie mit der Maus draufgeklickt). 'Abbruch' ist dann mit der
Taste UNDO aktivierbar, 'Sichern' mit HELP.

!!! Ist ein Schutz installiert und wird bei der Alertbox
!!! 'Die Diskette in Laufwerk X: ist schreibgeschtzt' bei 'Nochmal'
!!! die linke Shifttaste gedrckt, wird der Schreibschutz fr das
!!! entsprechende Laufwerk aufgehoben.

----------------------
II.c) Accessory: WPROTECT.ACC
Die grunds„tzliche Bedienung aller Elemente der Dialogbox funktioniert
exakt wie im vorigen Abschnitt ('Normales' Programm) beschrieben. Kein
Wunder, es handelt sich schliesslich um dieselbe Dialogbox.

Falls das Accessory beim Start feststellt, dass kein residentes Programm
installiert ist, wird eine Meldung ausgegeben. Entweder Sie booten nach
Kopieren von WPROTECT.PRG in den Autoordner des Bootlaufwerks neu ODER
starten WPROTECT.PRG als GEM-Programm, schtzen irgendein Laufwerk und
verlassen das Programm. Es installiert sich dann resident.

Falls Sie GEMINI benutzen, wird seit 0.97/f das VA-Protokoll mit der Message
VA_START untersttzt. Das heisst, Sie k”nnen WPROTECT.ACC in einem Fenster
anklicken oder als auf dem Desktop abgelegtes Icon und GEMINI schickt
eine Message an ein evt. installiertes Accessory, das daraufhin gestartet
wird.

Das Accessory arbeitet auch wunderbar mit 'The Chameleon' von Karsten
Isakovic zusammen, l„sst sich also nachtr„glich nachladen und wieder
entladen.

Das Accessory belegt 5748 Byte Hauptspeicher (plus Environment + ca. 2 KByte
AES-Block).

----------------------
III.   Schlužwort

Ich hoffe, das Sie sich von der Leistungsf„higkeit von WProtect berzeugen
konnten und wnsche Ihnen wenig Begegnungen mit Viren auf dem ST, nicht zuletzt
durch den Schutz durch dieses Programm.

----------------------
Anhang:   Bekannte Programmfehler (P), Inkompatibilit„ten (I) und
          Unsch”nheiten (U)

- (U)
  Die Laufwerke 'Q' bis 'Z' sind MetaDOS-Laufwerke. Ob der Schreibschutz
  bei diesen Ger„ten funktioniert, ist von IHNEN zu berprfen. Mir fehlen
  leider genauere Unterlagen ber MetaDOS. Ein erstes Disassembly des CD-Rom
  Treibers spricht allerdings stark gegen die Funktionstchtigkeit von
  WProtect bei MetaDOS-Laufwerken.

- (U)
  Nach 'Sichern' gelten auch bei nachfolgendem 'Abbruch' die zum Zeitpunkt
  des Sicherns aktiven Schutzwerte.

Falls Sie irgendetwas entdecken, was Sie st”rt, oder Verbesserungsvorschl„ge
haben, nur zu: schreiben Sie mir ber EMail (vorzugsweise) oder P*ST.

----------------------
Ausblick: Was gibt's in der n„chsten WProtect Version?

(* = Nur bei ausreichender Motivation des Programmierers)

 * CPX-Modul (wenn es dazu ein vernnftiges Assembler-Toolkit gibt)
 * Kommandozeile a la
   WPROTECT +ABC-EFG schtzt A/B/C, entschtzt E/F/G
   und l„sst den Schutzstatus aller anderen Laufwerke unangetastet
   WPROTECT ++-EF schtze alle ausser E und F
   WPROTECT --+EF entschtze alle, schtze E und F
 * Buttons [ Schtze alle ] / [ Entschtze alle ]
 + aufger„umterer Source
 + bessere Dokumentation

Vielen Dank fr Ihre Aufmerksamkeit, bis demn„chst,
tschuesssschen, chris.
