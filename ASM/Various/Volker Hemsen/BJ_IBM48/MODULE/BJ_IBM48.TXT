BJ_IBM48.MOD - papyrus-Modul
papyrus ist eine DTP-Textverarbeitung der Firma R.O.M.

Dieses Modul wurde programmiert von Volker Hemsen, Oktober 1993.

rechtlicher Status des Programmes: Public Domain

Die Quelltexte liegen bei. Es wird hiermit ausdrcklich erlaubt, die
Quelltexte fr eigene Anpassungen zu ver„ndern.

Mit diesem externen Modul ist es m”glich auf einem Canon BJ 300 mit
vollen 360 dpi (horizontal 360 dpi * vertikal 48 Dsen) zu drucken.
Dieses ist mit den papyrus-internen Druckroutinen nicht m”glich, weil
diese keinen 48 Dsen-/Nadeldruck untersttzen. Eine Anfrage bei den
Programmierern ergab, da sich das Erweitern wegen der geringen Ver-
breitung der Bubble Jet Drucker nicht lohne. Das ist zwar sicherlich
richtig, aber trotzdem nicht nett!
Das Ausweichen auf 360*24 ist zwar m”glich, die F„higkeiten dieses
Druckers werden aber nur sehr gering ausgenutzt, und warum die H„lfte,
wenn man alles haben kann?
Glcklicherweise besitzt papyrus die M”glichkeit die Grafikdaten ber
einen externen Treiber auszugeben. Dieses wird benutzt, um aus papyrus
heraus zu faxen, weiteres lesen Sie bitte im Handbuch nach. Dieses
Modul wird also installiert wie ein Faxtreiber!

Technische Daten:
- BJ-Drucker mu im Emulationsmodus 1 sein (IBM kompatibel)
- Druck immer im 360*48 Grafikmodus
- Der interne Zeilenspeicher reicht fr maximal eine Zeile auf einem
  Blatt im Format DIN A4 hochkant. (3000 Pixel * 48 / 8 ÷ 20 kB)
- direkte Ausgabe auf die parallele Schnittstelle des ST/STE
  Dies ist zwar unsauber, aber enorm schnell!
- getestet mit ATARI MEGA STE und Canon BJ 300


Interne Vorg„nge fr Insider (oder alle die sich dafr halten):
Die Module haben das normale GEMDOS-Programmdateiformat. Sie werden
geladen und als Unterprogramm angesprungen. Die erste Routine (Ende
mit rts) liefert den Zeiger auf eine Tabelle mit den Adressen fnf
weiterer Routinen zurck.
Zur Ausgabe werden nun die ersten beiden Unterprogramme zur
Initialisierung aufgrufen, die dritte Routine ist zur Ausgabe der
Grafikdaten da und wird beliebig oft aufgerufen. Die Parameterbergabe
lautet: 4(SP).L=Zeiger auf Grafikdaten, 8(SP).W=Anzahl der Zeilen,
12(SP).W=Anzahl der Bytes pro Zeile. Der Rckgabewert in D0 enth„lt
evtl. einen Fehlercode (0=alles OK, $FF=Halt). Die letzten beiden
Routinen dienen zur Abmeldung. Alles weitere ist unwichtig.
Diese Angaben sind sicherlich unvollst„ndig. Ich habe sie durch
Disassemblieren der beiliegenden Treiber und sinnvolles Raten heraus-
gefunden.

Falls noch Fragen offen sind. Schreiben Sie bitte an:

Volker Hemsen
Gremskampstrae 3
23714 Malente
