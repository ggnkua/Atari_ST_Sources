
                        Documentation for
             Gordo's MC68000 Tiny BASIC version 1.0


     Thió  ió  aî adaptatioî oæ Lé Cheî Wang'ó  'Palï  Altï  Tinù 
BASIC§ foò thå Motorolá MC6800° microprocessor®  Iô includeó morå 
functionó anä prograí savå anä load® Aó distributed¬ iô ió seô uğ 
foò  á Motorolá MEX68KECÂ Educationaì Computeò Boarä connecteä tï 
á  hosô  CP/Í computer®  Thå sourcå codå shoulä givå  yoõ  enougè 
detailó tï allo÷ yoõ tï instalì iô oî á differenô system®  Iæ yoõ 
havå anù problems¬ yoõ caî writå tï må at:
     Gordon Brandly
     R.R. 2
     Fort Sask., AB, Canada
     T8L 2N8


                          The Language

Numbers

Iî  thió Tinù BASIC¬  alì numberó arå integeró anä musô bå iî thå 
range 2147483647 to -2147483648.


Variables

Therå arå 2¶ variableó denoteä bù thå letteró Á througè Z®  Therå 
ió  alsï á singlå arraù @(I)®  Thå dimensioî oæ thió arraù (i.e.¬ 
thå  rangå oæ valuå oæ thå indeø I© ió seô automaticallù tï  makå 
uså  oæ alì thå memorù spacå thaô ió lefô unuseä bù  thå  prograí 
(i.e.¬  ° througè SIZE/4¬ seå SIZÅ functioî below)® Alì variableó 
anä arraù elementó arå ´ byteó long.


Functions

There are 4 functions:
     ABS(X) gives the absolute value of X.
     RND(X) gives a random number between 1 and X (inclusive).
     SIZE gives the number of bytes left unused by the program.
     PEEK(X) gives the value of the byte at memory location X.

Arithmetic and Compare Operators

     ¯    Divide® (Notå thaô sincå wå havå integeró only¬ 2/3=0)
     *    Multiply.
     -    Subtract.
     +    Add.
     >    Greater than. (comparison)
     <    Less than. (comparison)
     =    Equaì to®  (comparison©   Notå thaô tï certaiî versionó 
          oæ BASIÃ "LEÔ A=B=0¢ meanó "seô botè Á anä Â tï 0"®  Tï 
          thió  versioî  oæ Tinù BASIC¬  iô meanó "seô Á  tï  thå Š          resulô oæ comparinç Â witè 0".
     <>   Not equal to. (comparison)
     >=   Greater than or equal to. (comparison)
     <=   Less than or equal to. (comparison)

+¬  -¬  *¬  anä ¯ operationó resulô iî valueó betweeî -214748364· 
anä 2147483647®  (-214748364¸ ió alsï alloweä iî somå cases.© Alì 
comparå operatoró resulô iî á ± iæ truå anä á ° iæ noô true.


Expressions

Expressionó  arå formeä witè numbers¬  variables¬  anä  functionó 
witè arithmetiã anä comparå operatoró betweeî them® « anä - signó 
caî alsï bå useä aô thå beginninç oæ aî expression®  Thå valuå oæ 
aî expressioî ió evaluateä froí lefô tï right¬  excepô thaô ª anä 
¯  arå  alwayó donå first¬  anä theî « anä - ¬  anä theî  comparå 
operators®  Parentheseó  caî alsï bå useä tï alteò thå  ordeò  oæ 
evaluation®  Notå  thaô  comparå  operatoró caî bå  useä  iî  anù 
expression. For example:

     10 LET A=(X>Y)*123+(X=Y)*456+(X<Y)*789
     20 IF (U=1)*(V<2)+(U>V)*(U<99)*(V>3) PRINT "Yes"
     30 LET R=RND(100), A=(R>3)+(R>15)+(R>56)+(R>98)

Iî linå 10¬  Á wilì bå seô tï 12³ iæ X>Y¬  tï 45¶ iæ X=Y¬  anä tï 
78¹ iæ X<Y® Iî linå 20¬ thå "*¢ operatoò actó likå á logicaì AND¬ 
anä thå "+¢ operatoò actó likå á logicaì OR®  Iî linå 30¬  Á wilì 
bå á randoí numbeò betweeî ° anä ´ witè á prescribeä  probabilitù 
distributioî ofº 3¥ oæ beinç 0¬ 15-3=12¥ oæ beinç 1¬ 56-15=41¥ oæ 
beinç 2¬ 98-56=42¥ oæ beinç 3¬ anä 100-98=2¥ oæ beinç 4.


Program Lines

Á  Tinù BASIÃ linå consistó oæ á linå numbeò betweeî ± anä  6553´ 
followeä  bù onå oò morå commands®  Commandó iî thå samå linå arå 
separateä bù á coloî ":"®
     "GOTO"¬  "STOP"¬  anä  "RETURN¢  commandó musô bå  thå  lasô 
commanä oî anù giveî line.


Program

Á Tinù BASIÃ prograí consistó oæ onå oò morå lines® Wheî á direcô 
commanä  "RUN¢  ió issued¬  thå linå witè thå  lowesô  numbeò  ió 
executeä  first¬  theî thå onå witè thå nexô lowesô linå  number¬ 
etc®  However¬ thå "GOTO"¬ "GOSUB"¬ "STOP"¬ anä "RETURN¢ commandó 
caî  alteò  thió normaì sequence®  Withiî á  line¬  executioî  oæ 
commandó  ió froí lefô tï right®  Thå "IF¢ commanä caî causå  thå 
remaininç commandó oî thå samå linå tï bå skippeä over.


Commands
ŠTinù BASIÃ commandó arå listeä belo÷ witè examples® Remembeò thaô 
multiplå commandó caî bå puô oî onå linå iæ colonó separatå them® 
Iî  ordeò tï storå thå line¬  yoõ musô alsï havå á linå numbeò aô 
thå beginninç oæ thå line®  (Thå linå numbeò anä multiple-commanä 
lineó aren'ô showî iî thå examples.


REM or REMARK Command

REÍ anythinç goes

This line will be ignored by Tiny BASIC.


LET Command

LET A=234-5*6, A=A/2, X=A-100, @(X+9)=A-1

Wilì  seô  thå variablå Á tï thå valuå oæ thå expressioî  234-5*¶ 
(i.e®  204)¬  seô  thå  variablå Á (again© tï thå  valuå  oæ  thå 
expressioî A/² (i.e® 102)¬ seô thå variablå Ø tï thå valuå oæ thå 
expressioî A-10° (i.e® 2)¬ anä theî seô thå variablå @(11© tï 10± 
(wherå 1± ió thå valuå oæ thå expressioî X+¹ anä 10± ió thå valuå 
oæ thå expressioî A-1).

LET U=A<>B, V=(A>B)*X+(A<B)*Y

Wilì  seô thå variablå Õ tï eitheò ± oò ° dependinç oî whetheò  Á 
ió  noô  equaì  tï oò ió equaì tï B»  anä seô thå variablå  Ö  tï 
eitheò  X¬  Ù oò ° dependinç oî whetheò Á ió greateò  than¬  lesó 
than¬ oò equaì tï B.


Print Command

PRINT

Wilì  causå  á carriage-returî (CR© anä á line-feeä (LF©  oî  thå 
outpuô device.

PRINT A*3+1, "abc 123 !@#", ' cba '

Wilì  prinô thå valuå oæ thå expressioî  A*3+±  (i.e®  307)¬  thå 
strinç  oæ  characteró "abã 12³ !@#¢ anä thå string¢ cbá  "¬  anä 
theî  á CR-LF®  Notå thaô eitheò singlå oò doublå quoteó  caî  bå 
useä tï quotå strings¬ buô pairó musô bå matched.

PRINT A*3+1, "abc 123 !@#", ' cba ',

Wilì producå thå samå outpuô aó before¬  excepô thaô therå ió  nï 
CR-LÆ  afteò thå lasô iteí printed®  Thió enableó thå prograí  tï 
continuå printinç oî thå samå linå witè anotheò "PRINT".

PRINT A, B, #3, C, D, E, #10, F, G
ŠWilì  prinô thå valueó oæ Á anä Â iî 1± spaces¬  thå valueó oæ C¬ 
D¬  anä Å iî ³ spaces¬ anä thå valueó oæ Æ anä Ç iî 1° spaces® Iæ 
therå  aren'ô  enougè  spaceó specifieä foò á giveî valuå  tï  bå 
printed¬ thå valuå wilì bå printeä iî fulì anyway.

PRINT 'abc',_,'xxx'

Wilì  prinô thå strinç "abc"¬  á CÒ withouô á LF¬  anä  theî  thå 
strinç "xxx¢ (oveò thå "abc"© followeä bù á CR-LF.


INPUT Command

INPUT A, B

Wheî  thió  commanä ió executed¬  Tinù BASIÃ wilì prinô "A:¢  anä 
waiô tï reaä iî aî expressioî froí thå inpuô device® Thå variablå 
Á  wilì  bå seô tï thå valuå oæ thió  expression,  theî  "B:¢  ió 
printeä anä variablå Â ió seô tï thå valuå oæ thå nexô expressioî 
reaä  froí thå inpuô device®  Notå thaô wholå expressionó aó welì 
aó numberó caî bå entered.

INPUT 'What is the weight'A, "and size"B

Thió ió thå samå aó thå commanä above¬  excepô thå prompô "A:¢ ió 
replaceä bù "Whaô ió thå weight:¢ anä thå prompô "B:¢ ió replaceä 
witè  "anä size:"®  Again¬  botè singlå anä doublå quoteó caî  bå 
useä aó lonç aó theù arå matched.

INPUT A, 'string',_, "another string", B

The strings and the "_" have the same effect as in "PRINT".


POKE Command

POKE 4000+X,Y

Thió  commanä putó thå valuå produceä bù expressioî "Y¢ intï  thå 
bytå memorù locatioî specifieä bù thå expressioî "4000+X".


CALL Command

CALL X

Thió  commanä  wilì  calì á machinå languagå  subroutinå  aô  thå 
addresó  specifieä  bù  thå expressioî  "X"®  Alì  oæ  thå  CPU'ó 
registeró   (excepô  thå  stacë  pointer©  caî  bå  useä  iî  thå 
subroutine.


IF Command

IF A<B LET X=3: PRINT 'this string'Š
Thió wilì tesô thå valuå oæ thå expressioî A<B®  Iæ iô isn'ô zerï 
(i.e®  iæ iô ió true)¬ thå resô oæ thå commandó oî thió linå wilì 
bå executed®  Iæ thå valuå oæ thå expressioî ió zerï (i.e®  iæ iô 
ió  noô  true)¬  thå resô oæ thió linå wilì bå skippeä  oveò  anä 
executioî continueó oî thå nexô line®  Notå thaô thå worä  "THEN¢ 
ió noô used.


GOTO Command

GOTO 120

Wilì  causå executioî tï jumğ tï linå 120®  Notå thaô thå  "GOTO¢ 
commanä cannoô bå followeä bù á coloî anä otheò commands® Iô musô 
bå endeä witè á CR.

GOTO A*10+B

Wilì  causå  thå executioî tï jumğ tï á differenô linå numbeò  aó 
computeä froí thå valuå oæ thå expression.


GOSUB and RETURN Commands

GOSUB 120

Will cause execution to jump to line 120.

GOSUB A*10+B

Wilì causå executioî tï jumğ tï differenô lineó aó computeä  froí 
thå valuå oæ thå expressioî A*10+B.

RETURN

Á  RETURÎ commanä musô bå thå lasô commanä oî á linå anä musô  bå 
followeä bù á CR®  Wheî á RETURÎ commanä ió encountered¬  iô wilì 
causå  executioî  tï jumğ bacë tï thå commanä followinç thå  mosô 
recenô GOSUÂ command.
     GOSUB'ó caî bå nesteä witè á deptè limiteä onlù bù thå stacë 
space.


FOR and NEXT Commands

FOR X=A+1 TO 3*B STEP C-1

Thå  variablå Ø ió seô tï thå valuå oæ thå  expressioî  A+1®  Thå 
valueó  oæ  thå expressionó (noô thå expressionó themselves©  3*Â 
anä  C-± arå remembered®  Thå namå oæ thå variablå  X¬  thå  linå 
numbeò  anä thå positioî oæ thió commanä withiî thå linå arå alsï 
remembered®  Executioî theî continueó thå normaì waù untiì á NEXÔ 
commanä ió encountered.
     Thå steğ caî bå positive¬  negativå oò eveî zero®  Thå  worä ŠSTEĞ  anä  thå  expressioî  followinç iô caî bå  omitteä  iæ  thå 
desireä steğ ió +1.

NEXT X

Thå  namå  oæ  thå variablå Ø ió checkeä witè thaô  oæ  thå  mosô 
recenô  FOÒ  command®  Iæ theù dï noô agree¬  theî  thaô  FOÒ  ió 
terminateä anä thå nexô recenô FOÒ ió checked¬  etc® Wheî á matcè 
ió found¬ thió variablå wilì bå seô tï itó currenô valuå pluó thå 
valuå  oæ  thå  steğ expressioî saveä bù  thå  FOÒ  command®  Thå 
updateä  valuå  ió  theî  compareä  witè  thå  valuå  oæ  thå  TÏ 
expressioî  alsï  saveä bù thå FOÒ command®  Iæ thió  withiî  thå 
limit¬  executioî wilì jumğ bacë tï thå commanä followinç thå FOÒ 
command®  Iæ  thió  ió  outsidå thå  limit¬  executioî  continueó 
followinç thå NEXÔ commanä itself.
     FOR'ó  caî alsï bå nesteä witè á deptè limiteä onlù  bù  thå 
stacë space®  Iæ á ne÷ FOÒ commanä witè thå samå controì variablå 
aó thaô oæ aî olä FOÒ commanä ió encountered¬ thå olä FOÒ wilì bå 
terminateä automatically.


STOP Command

STOP

Thió  commanä  stopó  thå executioî oæ thå  prograí  anä  returnó 
controì  tï direcô commandó froí thå console®  Iô caî appeaò manù 
timeó  iî  á prograí buô musô bå thå lasô commanä  oî  anù  giveî 
line¬ i.e® iô cannoô bå followeä bù á coloî anä otheò commands.


BYE Command

Wilì  returî  yoõ  tï thå residenô monitoò prograí  oò  operatinç 
system®  (Tutoò iî thå caså oæ thå ECB.)


Direct Commands

Aó defineä earlier¬  á linå consistó oæ á linå numbeò followeä bù 
commands®  Iæ  thå  linå numbeò ió missing¬  oò iæ iô ió  0¬  thå 
commandó  wilì bå executeä afteò yoõ havå typeä thå CR®  Alì  thå 
commandó  describeä abovå caî bå useä aó direcô  commands®  Therå 
arå  fivå  morå commandó thaô caî bå useä aó direcô commandó  buô 
noô aó parô oæ á prograí line:

RUN

Wilì  starô  tï  executå  thå  prograí  startinç  aô  thå  lowesô 
line number.

LIST

Wilì prinô ouô alì thå lineó iî numericaì order.
ŠLIST 120

Wilì  prinô ouô alì thå lineó iî numericaì ordeò startinç aô linå 
120.

NEW

Will delete the entire program.

SAVE

Wilì savå thå presenô prograí oî thå storagå devicå yoõ  provide® 
Detailó  oî installinç thió devicå arå giveî iî thå sourcå  code® 
Aó  seô  uğ foò thå MEX68KECÂ Educationaì  Computeò  Board¬  thió 
commanä  wilì  senä  thå prograí ouô tï thå hosô computeò  iî  aî 
easily-storeä texô form®  Iô isn't¬ however¬ purå prograí texô aó 
thå linå numberó arå storeä iî hexadecimal.

LOAD

Wilì  deletå  thå prograí iî memorù anä loaä iî á filå froí  youò 
storagå device.


Stopping Program Execution

Thå  executioî  oæ thå prograí oò listinç oæ thå prograí  caî  bå 
stoppeä   bù   pressinç  thå  control-Ã  keù  oî   thå   console® 
Additionally¬  á listinç caî bå pauseä bù pressinç control-S¬ anä 
then pressing any key to continue.


Abbreviations and Blanks

Yoõ  maù uså blankó freelù withiî á prograí excepô thaô  numbers¬ 
commanä  keù  words¬  anä  functioî nameó  cannoô  havå  embeddeä 
blanks.
     Yoõ  maù  truncatå alì commanä keù wordó anä functioî  nameó 
anä follo÷ eacè bù á period®   "P."¬  "PR."¬  "PRI."¬ anä "PRIN.¢ 
alì stanä foò "PRINT"®  Thå worä LEÔ iî LEÔ commandó maù alsï  bå 
omitted®  Thå shortesô abbreviationó foò alì thå keù wordó arå aó 
follows:
A.=ABS    C.=CALL   F.=FOR    GOS.=GOSUB     G.=GOTO
IF=IF     I.=INPUT  L.=LIST   LO.=LOAD       N.=NEW
N.=NEXT   P.=PEEK   PO.=POKE  P.=PRINT       REM=REMARK
R.=RETURN R.=RND    R.=RUN    S.=SAVE        S.=SIZE
S.=STEP   S.=STOP   TO=TO
no key word ½ LET


Error Reports

Therå  arå  onlù threå erroò conditionó iî Tinù BASIC®  Thå  linå 
witè  thå erroò ió printeä ouô witè á questioî marë  inserteä  aô 
thå poinô wherå thå erroò ió detected.Š
(1) "What?" means it doesn't understand you.  For example:

What?
260 LET A=B+3, C=(3+4?. X=4

(2© "How?¢ meanó iô understandó yoõ buô doesn'ô kno÷ ho÷ tï dï it.

How?
210 P?TINT "This"   <- where PRINT is misspelled

How?
310 LET A=B*C?+2    <- where B*C is larger than 2147483647

How?
380 GOTO 412?       <- where 412 does not exist

(3)  "Sorry.¢ meanó iô understandó yoõ anä knowó ho÷ tï dï iô buô 
     therå isn'ô enougè memorù tï accomplisè thå task.


Error Corrections

Iæ yoõ noticå aî erroò iî youò entrù beforå yoõ presó thå CR¬ yoõ 
caî deletå thå lasô characteò witè thå backspacå (control-H©  keù 
oò deletå thå entirå linå witè control-X®  Tï correcô á line¬ yoõ 
caî  retypå thå linå numbeò anä thå correcô commands®  Tinù BASIÃ 
wilì  replacå thå olä linå witè thå ne÷ one®  Tï deletå  á  line¬ 
typå  thå  linå  numbeò  anä  á  CÒ  only®  Yoõ  caî  verifù  thå 
correctionó tï linå 'nnnn§ bù typinç "LISÔ nnnn¢ anä pressinç thå 
control-Ã keù whilå thå linå ió beinç printed.
