<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!-- last modified on 23.05.2004 -->
<html>
<head>
<title>
DOIT_ST - Tips u. Tricks zur Atari Serie: Ethernet Project ASCI port
</title>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<meta name="Generator" content="UDO6 PL14 for TOS">
<meta name="Email" content="doit@doitarchive.de">
<link rev=made href="mailto:doit@doitarchive.de" title="E-Mail">
<link rel=home href="doitst1h.htm" title="Homepage">
</head>
<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" alink="#FF0000" vlink="#800080">

<table border=0 cellpadding=0 cellspacing=0 width="100%"><tr><td valign=top>
<a href="00con.htm" target="UDOcon"><img src="udo_hm.gif" alt="Home" border=0 width="24" height="24"></a>
<a href="18.htm" target="UDOcon"><img src="udo_up.gif" alt="Network" border=0 width="24" height="24"></a>
<a href="1802.htm" target="UDOcon"><img src="udo_lf.gif" alt="Ethernet Project am Romport" border=0 width="24" height="24"></a>
<a href="1804.htm" target="UDOcon"><img src="udo_rg.gif" alt="MagicNet installieren" border=0 width="24" height="24"></a>
</td></tr></table>
<table border=0 cellpadding=0 cellspacing=0 width="100%"><tr>
<td valign=top width="8">&nbsp;</td><td valign=top width="100%">
<h1><a name="Ethernet_20Project_20ASCI_20port">24.3 Ethernet Project ASCI port</a></h1>
<p align=center><img src="image/sline.gif" border=0 width="640" height="2"></p><br>
<p><tt> Atari Computer &uuml;ber den Romport oder ASCI Port mit einem
LAN verbinden </tt>
<br>
<br>
</p>
<p><img src="image/deutsch.gif" border=0 width="35" height="22"></p><br>
<p><img src="image/english.gif" border=0 width="35" height="22"></p><br>
<p>Sie m&ouml;chten ihren <a href="0305.htm" target="UDOcon">Atari ST</a>/TT/Falcon compatible an ein
Ethernet anschliessen?
<br>So geht es:
<br>
<br>
</p>
<p>- besorgen sie sich Thomas Redelbergers &quot;EtherNe&quot; Paket
(http://home.nexgo.de/thomas.redelberger/prj/atari/download/etherne.zip)
und nehmen sie sich eine Woche frei um alles zu lesen und zu verstehen
;-)
<br>
</p>
<p>
<br>- bauen sie den EtherNEC Hardware-Adapter, wie im Paket
beschrieben
<br>
<br>
</p>
<p>- besorgen sie sich eine moderne NE2000 kompatible
PC-Netzwerkkarte f&uuml;r den ISA-Bus (PCI geht nicht!)
<br>
<br>
</p>
<p>- installieren sie entweder MagiCNet oder STing oder MINTNet
IP-Netzwerk-Software
<br>
<br>
</p>
<p>Lyndon Amsdon z.B. baut die EtherNEC Hardware (bindon@madasafish).
<br>
</p>
<p>
<br>
</p>
<p>&ouml;brigens:
<br>Das ganze geht nat&uuml;rlich mit allen Ataris die einen einen
Standard ROM-Port (=Cartridge Port). F&uuml;r den Atari ACSI-Bus gibt
gibt es auch noch eine weitere L&ouml;sung. (ebenfalls im EtherNE
Paket beschrieben).
<br>
</p>
<p>Lyndon hat auf seiner Web-Site das EtherNEC Interface (ROM-Port):
<br>Lyndon Amsdon
<br>Email: bindon@madasafish.com
<br>ICQ: UIN-120425214 Nick-stimpy
<br>Website: http://hardware.atari.org
<br>
</p>
<p>Unter der URL
&lt;http://home.nexgo.de/thomas.redelberger/prj/atari&gt; sind noch
zwei andere Freeware-Projekte f&uuml;r den Atari zu finden:
<br>
</p>
<p>- TRLPR ein Druck-Client (unter STing) mit dem man &uuml;ber das
Netzwerk an einem Unix/Linux-Server drucken kann
<br>
</p>
<p>
<br>- TRPROF ein &quot;Profiler&quot; mit dem man Programm-Lauszeiten
messen und ein Programm gezielt optimieren kann
<br>
<br>
</p>
<p><a href="0201.htm" target="UDOcon">Autor</a>: Dr. Thomas Redelberger
<br>E-mail: redetho@gmx.de
<br>Fax: +49 6023 999410
<br><a href="http://home.nexgo.de/thomas.redelberger/prj/atari" target="_top">Ethernet Hardware</a>
</p>
<p>
<br>
<br>
</p>
<p>You want to link your Atari (Mega) ST/TT/STE/Falcon to an ethernet
network and are looking for hardware and software? Here is another
solution!
<br>
</p>
<p>
<br>
<br><b> ETHERnet with NE2000 hardware </b>
<br>
<br>
</p>
<p>Prerequisites:
<br>
</p>
<p>- An <a href="0305.htm" target="UDOcon">Atari ST</a>/TT/Falcon compatible machine with either Cartridge
Port (ROM port) or ACSI-port
<br>
<br>- STing or MagiCNet or MINTNet networking software
<br>
<br>- A standard NE2000 or NE1000 network card for the ISA bus as is
used with PCs
<br>
</p>
<p>
<br>This package contains a set of hardware circuit schematics and
driver software including source code. *Both* can be used under the
GNU Public License. Please do read file COPYING.TXT.
<br>
</p>
<p>I want to encourage people to build the adapter hardware and also
sell it to others. The complete documentation however shall be Open
Source under GNU GPL.
<br>If somebody comes up with a CAD version of the hardware circuit
schematics, I require it be published also under GNU public license in
order to make it even easier for people to build the adapter. That
documentation shall become part of future versions of the ETHERNE
package.
<br>
</p>
<p>Please see file ETHERNE.TXT for a description of the software, how
to select hardware and software installation. File HARDWARE.TXT
contains functional descriptions of the hardware solutions.
<br>
</p>
<p><a href="0206.htm" target="UDOcon">Copyright</a> 2001, 2002 Dr. Thomas Redelberger
<br>EtherNEC hardware schematics and layouts are copyright 2002 Lyndon
Amsdon
<br>
</p>
<p>
<br>
<br><b> General </b>
<br>
</p>
<p>Both the EtherNEA and EtherNEC interfaces generate the signals for
a standard PC 8-bit ISA bus connector. Although the NE2000 cards are
16-bit cards they work also in an 8-bit slot. This is documented in
some of the original NE2000 design papers. It was meant in those days
a &quot;new&quot; NE2000 card to work in the original PC which had an
8bit only bus (we have come a long way). Thus do not worry that the
small 16bit extension edge connector of a NE2000 (clone) card will be
free floating. Please note that the interfaces only provide for the
signals necessary to run a NE2000. They do not provide a generally
usable ISA slot.
<br>
</p>
<p>
<br>
<br><b> EtherNEC hardware </b>
<br>
</p>
<p>EtherNEC is an adapter from the Atari Cartridge Port (ROM port,
CP) to a 8-bit ISA bus.
<br>
</p>
<p>Hardware circuit description (see directory ETHERNEC for
schematics)
<br>
</p>
<p>As there is no reset line on the CP, a resistor and a capacitor
are used to reset the NE card on power up.
<br>
</p>
<p>Reading from the NE card is done by a read cycle on the CP at
address /ROM4 + 512*ISA address as the ISA address lines A0-A4 are
connected to CP A9-A13. /ROM4 going low will start the ISA read cycle,
enable the ISA bus buffers of the NE card and start decoding of the
ISA IO address by the NE card. /ROM4 going high ends the cycle and the
processor latches the data.
<br>
</p>
<p>Because the CP is read only writing to the NE card must be done
with the trick to read from addresses that stand for the data. Dummy
reads at /ROM3 base address + data*2 + ISA address*512 effect this.
You might wonder why everything appears to be shifted up one bit.
There is no CP &quot;A0&quot; address line. There are the signals /UDS
and /LDS instead typical for the 68000 family. The original design
which generated an &quot;A0&quot; worked on an ST and an STE but did
not on a Falcon.
<br>
</p>
<p>The falling edge of /ROM3 enables the CP address lines A1-A8 onto
the data bus and starts the ISA write cycle. The rising edge will end
the ISA write cycle and the NE latches the data. The processor will
also see and just read this same data but that is harmless. Elmar
Hilgart reported that the bus buffer IC shall be an TTL F-type to keep
up with the fast cycles on the Falcon. Lyndon chose the '245 over an
'244 to keep the board layout simple.
<br>
</p>
<p>To reduce physical stress on the CP and allow for the NE card to
stand upwards or lay flat, Lyndon designed an adapter from the 2mm CP
to 2.54 mm connectors for 40pin standard ribbon cable (please see the
layouts in folder ETHERNEC) to attach the EtherNEC adapter. This cable
should be as short as possible as the processor bus runs on it
unbuffered! (15cm max.)
<br>
</p>
<p>Power +5V for the EtherNEC adapter and the NE card is taken from
+5V at the CP. +12V do no seem to be necessary unless you want to run
&quot;thick ethernet&quot; cable.
<br>
</p>
<p>
<br>
<br><b> EtherNEA hardware </b>
<br>
</p>
<p>EtherNEA is an adapter from the Atari ACSI bus to a 8-bit ISA bus.
<br>
</p>
<p>Hardware circuit description (see directory ETHERNEA for
schematics)
<br>
</p>
<p>The interface circuit is directly connected to the ACSI port. It
does not provide any buffering. Thus the cable to the ACSI shall be as
short as possible (50cm max). If another device is hooked to the ACSI
bus please connect the interface to the ACSI output of that device.
<br>
</p>
<p>The ISA port is hardwired to work at an IO address of 0x300. When
writing to the ACSI bus and ACSI-A1 was set Low the '02 NOR gate
output gets HI and the '373 latches the ACSI port address in the upper
three bits and the lower 5 bits to be used as the lowest 5 bits of the
ISA IO address. The '138 decodes the ACSI-port address. The jumpers
J1, J2, J3 allow to set the ACSI port address of the interface. Note
that J3 selects the ACSI port address from either 0 to 3 or 4 to 7. J1
and J2 must be set consistently to choose from 0,1,2,3 or 4,5,6,7
depending on J3.
<br>
</p>
<p>In the prototyping phase it turned out that reads and writes to
the ACSI port are too fast for the read and write cycles of some of
the NE2000 cards I was testing. These were all old multi chip cards.
As there is no capability to prolong the read or write cycles for
single byte reads or writes on the ACSI bus, quite an unusual hardware
solution was employed. A1 low will also set the two d-flip-flops '74
to a known initial state (no ISA read or write). The first write to
the ACSI port will initiate an ISA write and the second ACSI write
will terminate the ISA write. Similar procedure is done for reads.
<br>
</p>
<p>A new NE2000 clone with a single Realtek 8019AS chip turned out to
run directly from the outputs of the '138. With jumpers J4 and J5 you
can choose between this fast mode (/IOR, /IOW coming from the '138) or
slow mode described above. Note that you must select the appropriate
driver to fit the hardware jumper setting: ENEAF.STX or ENEAF.MIF for
fast mode and ENEAS.STX or ENEAS.MIF for slow mode.
<br>
</p>
<p>The third NOR gate '02 is used to invert the ACSI &nbsp;RESET to the
RESET signal needed on the ISA bus.
<br>
</p>
<p>The forth '02 is simply used to generate a logical Hi signal to
connect to inputs that require a constant logical Hi level. This is
safer than connecting the inputs to +5 Volt in case of accidental
short circuits on the board or during testing measurements (a short
circuit of an output to +5 Volt is usually lethal to that IC).
<br>
</p>
<p>I built the interface prototype in wire wrap technique. As the
interface is simple, a one-sided printed circuit board layout should
be possible. Please note that if you develop such a printed cicuit
board layout for this interface you must also publish it under the
public under the GNU public license and send it to me so that I can
include it into this package.
<br>
</p>
<p>A NE2000 compatible card requires +5 Volts power supply. +12 Volts
supply only seems to be needed if you use &quot;thick ethernet&quot;
which is seldom used today. Rather most people today use twisted pair
and some still use koax cable.
<br>
</p>
<p>The interface needs +5 Volts. As my <a href="0305.htm" target="UDOcon">Atari ST</a> is housed in a tower
cabinet I connected the hardware to a power connector of the standard
power supply forseen for a harddisk.
<br>
</p>
<p>
<br>
<br>
</p>
<p align=center><img src="image/ethernea.gif" border=0 width="959" height="719"></p><br>
<div align=center><tt> Abbildung 1 - Der Ethernet Adapter </tt>
<br>
</div>
<p>
<br>
<br>
</p>
<p>
<br>
<br>
</p>
<p align=center><img src="image/isa-con.gif" border=0 width="719" height="1038"></p><br>
<div align=center><tt> Abbildung 2 - Der ISA-Adapter </tt>
<br>
</div>
<p>
<br>
<br>
<br>
<br><b> Introduction </b>
<br>
</p>
<p>EtherNE is a package of hardware schematics and software drivers
and source code to enable an <a href="0305.htm" target="UDOcon">Atari ST</a> or compatible machine to connect
to ethernet.
<br>
</p>
<p>When designing this ethernet solution for the <a href="0305.htm" target="UDOcon">Atari ST</a> I had the
following objectives:
<br>
<br>- no need to open the Atari thus use of an external port of the
Atari
<br>- use of readily available standard ethernet hardware
<br>- as simple as possible interface hardware
<br>- as fast and compact driver software as possible
<br>- support of STing and MagicNet IP stacks. The drivers work under
<br>MINTNet but that has not been well tested yet.
<br>
<br>To start from well stablished hardware I chose standard NE2000
compatible cards with ISA bus interface (PCI cards are not supported)
as a basis of the hardware solution. To interface the NE card to the
ST EtherNE contains two types of interface hardware solutions:
<br>
<br>ACSI-ISA interface (below called EtherNEA)
<br>- hardware design by me
<br>- hardware is e.g. available from Elmar Hilgart
elmar.hilgart@asamnet.de, http://www.asamnet.de/&nbsp;hilgarte
<br>- This is suitable for all machines with ACSI bus, e.g. (Mega) ST,
TT
<br>
<br>Cartridge Port (ROM port)-ISA interface (below called EtherNEC)
<br>- hardware design by Lyndon Amsdon and me
<br>- hardware is available from Lyndon Amsdon bindon@madasafish.com,
http://hardware.atari.org
<br>- This is suitable for all machines with Cartridge Port bus, e.g.
(Mega) ST, TT, (Mega) STE, Falcon.
<br>
</p>
<p>
<br>Software wise EtherNE supports various IP networking stacks:
<br><a href="1701.htm" target="UDOcon">STinG</a> (version 1.26 tested)
<br>MagicNet (version from Oct. 2001 tested)
<br>MintNet; this has only been tested recently for EtherNEC
<br>
</p>
<p>
<br>
<br><b> Choosing a hardware solution </b>
<br>
</p>
<p>Q: Should I use EtherNEA hardware or EtherNEC hardware?
<br>
</p>
<p>A: For the Falcon only the EtherNEC cartridge port interface is
applicable. If your machine has both an ACSI port and a Cartridge Port
and you have a harddisk at the ACSI port you might want to use
EtherNEC because this will be faster than having EtherNEA to share the
bandwidth with the harddisk. Speedwise there is no big difference,
EtherNEC seems to be a bit faster for reads from the NE card and a bit
slower for writes to the NE card. A future DMA enabled version of
EtherNEA may be much faster however (some day). Note that the
Cartridge Port +5V feeds the NE2000 card as well. Thus you do not need
an extra power supply for EtherNEC whereas you need one for EtherNEA.
The EtherNEC hardware is simpler. Hence most often EtherNEA may only
be considered if the CP must be used for something else (e.g. dongle).
<br>
</p>
<p>
<br>Q: What NE2000 (clone) card shall use?
<br>
<br>A: This package works only with ISA cards. Go for new single chip
cards (I tested e.g. a card with Realtek 8019 chip). They support
faster read and write cycles than the old NE1000 and NE2000 (clone)
cards with jumpers and are cheap.
<br>
</p>
<p>These new cards are all PC &quot;plug and play&quot; without
jumpers. For use with either EtherNEA or EtherNEC they need upfront
one time configuration in a PC. You need to set them to IO address
0x300 and choose the cable type (BNC or twisted pair) by using the DOS
configuration utility supplied by the manucaturer of the card. With
EtherNEC only these new cards will work reliably.
<br>
</p>
<p>
<br>I tested the following ISA ethernet cards with the EtherNEA
interface:
<br>
<br>- Lantech EN2000: fairly new NE2000 clone using the Realtek RTL
8019AS chip. Originally I had encountered problems with this card
until I found out that only 8KByte buffer RAM where available in 8-bit
bus mode although it has 16KByte. This turned out to be true for all
16 bit cards. This might be due to compatibility to the old NE1000
(8bit cards) that had only 8KB RAM. Advantage of this card - and
probably all cards with this chip and possibly all new single chip
cards - is its speed. It supports fast ISA bus cycle with no wait
states.
<br>
<br>- E2000-1: old NE2000 clone with Winbond W89C90 chip This card
works OK.
<br>
<br>- NE-2: old NE2000 clone with UMC UM9090 chip This card works OK.
<br>
<br>- NE1: this is in a very old NE1000 clone card with Winbond W89C90
chip. The NE1000 is the 8-bit predecessor of the NE2000. I augmented
the buffer RAM on the card to 16Kbyte and it worked quite well.
<br>
</p>
<p>All old cards above I tested require slow ISA bus cycles and
request ISA bus wait states. Hence if you got an old NE2000 or NE1000
clone and you really want to use it then you have to go for EtherNEA
as only it has an &quot;slow mode&quot; option to support these. Old
cards do not work reliably with EtherNEC because it is too fast for
them and the hardware currently has no slow mode option.
<br>
</p>
<p>The driver software automatically detects if a card is NE1000 or
NE2000 compatible and does appropriate setup automatically. It assumes
the NE1000 card has been upgraded to 16KByte of buffer RAM however.
<br>
</p>
<p>
<br>
<br>
</p>
<p><b> Choosing an IP networking software stack </b>
<br>
</p>
<p>All combinations of interface hardware and IP stacks are covered.
Drivers in this package include:
<br>
<br>ENEAF.STX
<br>STing version for fast EtherNEA fast ACSI interface
<br>
<br>ENEAS.STX
<br>STing version for slow EtherNEA ACSI interface
<br>
<br>ENEC.STX
<br>STing version for EtherNEC cartridge port interface
<br>
<br>ENEAF.MIF
<br>MagicNet version for fast EtherNEA ACSI interface
<br>
<br>ENEAS.MIF
<br>MagicNet version for slow EtherNEA ACSI interface
<br>
<br>ENEC.MIF
<br>MagicNet version for EtherNEC cartridge port interface
<br>
<br>The MagiCNet versions also serve under MINTNet but require
renaming the extension to XIF.
<br>
</p>
<p>Thus you can choose the stack that better fits your application
requirements.
<br>
</p>
<p>
<br>
<br>
</p>
<p align=center><img src="image/ether1.gif" border=0 width="680" height="864"></p><br>
<div align=center><tt> Abbildung 3 - Schaltung ISA-Adapter </tt>
<br>
</div>
<p>
<br>
<br>
</p>
<p>
<br>
<br>
</p>
<p align=center><img src="image/ether2.gif" border=0 width="392" height="1248"></p><br>
<div align=center><tt> Abbildung 4 - ISA-Adapter Belegung </tt>
<br>
</div>
<p>
<br>
<br>
</p>
<p>
<br>
<br><b> Driver software installation: </b>
<br>
</p>
<p>Setup STing or MagiCNet as advised in the documentation. Copy the
STX driver to the Sting directory or MIF driver to the
gemsys\magic\extension directory then reboot.
<br>
</p>
<p>Please note that the drivers ENEA?.STX and ENEA?.MIF can only
handle an EtherNEA interface hardware set to ACSI port 3 fixed. The
ACSI port address is hardwired for optimum driver speed. If you really
require a driver to support another ACSI port address please contact
me.
<br>
</p>
<p>The driver software source code is available in directory SRC.
Please see the file SRC\ARCHITEC.TXT for details on the innards of the
drivers. Please note that I publish all this code under the GNU public
license. See file COPYING.TXT. Any additions or changes by you must
also published under this license and brought to my attention.
<br>
</p>
<p>
<br>
<br><b> Set-up under STiNG </b>
<br>
</p>
<p>Just copy the appropriate ENE*.STX to the STING directory where
SERIAL.STX and other STiNG drivers are located. Then reboot.
<br>
</p>
<p>You must use STNGPORT.CPX to setup the ETHERNEA.STX driver. Even
though there is no hardware base address to be configured as with
other ethernet hardware, you still need to set the interfaces IP
address and netmask. Note that you can read the NE card's MAC address
as it is extracted by ENE*.STX from the card hardware and displayed by
STNGPORT.CPX but you can not change it.
<br>
</p>
<p>Further you need to add a line to STiNG's ROUTE.TAB for example:
<br>
</p>
<pre>192.168.1.0             255.255.255.0           EtherNet        0.0.0.0
</pre>
<p>Pleas note you need to spell &quot;EtherNet&quot; exactly like
this.
<br>
</p>
<p>Performance of the driver depends on STiNG's port polling
frequency. By default this is set to 50 milliseconds by the entry
<br>
<br>THREADING = 50
<br>
<br>in the file DEFAULT.CFG. On my 8 MHz ST I experimented and changed
this to read 10 to get optimum FTP performance. On a faster machine
this may be unnecessary.
<br>
<br>I did not do any other changes to DEFAULT.CFG shipped with STiNG
1.26.
<br>
</p>
<p>
<br>
<br><b> Set-up under MagiCNet </b>
<br>
</p>
<p>Follow Vassilis Papathanassiou's instructions to set up MagiCNet
and copy the ENE*.MIF to GEMSYS\MAGIC\XTENSION where also SOCKET.DEV
lives. Then reboot. You shall see the message of the EtherNE driver
also indicating the device created (usually en0) plus the MAC address
of the NE2000 card (six bytes separated by colons). Check with
ifconfig.ttp that the interface en0 is there and is up.
<br>
</p>
<p>
<br>
<br><b> Set-up under MINTNet </b>
<br>
</p>
<p>Setup MINTNet as described in the MINTNet documentation. Copy the
ENE*.MIF driver to the appropriate directory and rename the extension
to XIF. Then reboot. You shall see the message of the EtherNE driver
also indicating the device created (usually en0) plus the MAC address
of the NE2000 card (six bytes separated by colons). Check with
ifconfig.ttp that the interface en0 is there and is up.
<br>
</p>
<p>
<br>
<br><b> Features and Limitations </b>
<br>
</p>
<p>- No interrupt operation
<br>
</p>
<p>- No use of ACSI-DMA by EtherNEA
<br>
</p>
<p>- Only 8KByte buffer RAM. Thus only 4 full size Ethernet packets
can be buffered on receive. Exception: NE1000 cards with 16KByte RAM
are supported.
<br>
</p>
<p>- Only one ethernet packet made ready to send at a time thus no
back to back transmits.
<br>
</p>
<p>
<br>
<br><b> Driver performance </b>
<br>
</p>
<p>The driver software has been carefully optimized for speed. In
particular packet data is directly transferred from the NE2000 card
packet buffer RAM to the STiNG or MagicNet datagram buffers. Further
&quot;double buffering&quot; in RAM is avoided.
<br>
</p>
<p>EtherNEA performs about 50Kbyte/sec ftp up or download from/to RAM
disk to/from a Linux server using AFTP 1.41 on an <a href="0305.htm" target="UDOcon">Atari ST</a> with 8MHz.
As I have my SCSI harddisk connected to a SCSI interface also hooked
to the ACSI bus, speed is about half of this when doing ftp to/from
harddisk. This is roughly true both for MagiCNet and STing. The ping
performance of MagicNet however is drastically better than STing both
in terms of throughput (reaction to 100HZ pings) and smaller
round-trip time.
<br>
</p>
<p>Measurements by Lyndon Amsdon using EtherNEC on a 25MHz Falcon
indicate 150Kbyte/s download and 100KByte/s on upload using AFTP 1.44.
Lyndon and me observed issues with later versions of AFTP. We both had
also issues with the latest version of GAPFTP. Preliminary
measurements by Lyndon seem to indicate lower performance under
MINTNet.
<br>
</p>
<p>I obtained stable up- and down-load from PC to ST by running
Vassili's FTP server on the ST and WS-FTP (client) on the PC both
under STing and MagicNet.
<br>
</p>
<p>
<br>
<br><b> OS compatibility </b>
<br>
</p>
<p>I tested this ethernet solution with both plain TOS 1.04 (STing)
and Magic 5.3 (STing and MagiCNet).
<br>
<br>
<br>
</p>
<p><b> Hardware compatibility </b>
<br>
</p>
<p>I have tested both EtherNEA and EtherNEC with an original Atari
260ST (albeit with 4MB RAM). A ACSI-SCSI interface with my SCSI
harddisk was also hooked to the ASCI port. For EtherNEA please note
that in case of other hardware devices using the ACSI port -like
harddisks- their driver software MUST do proper locking to ensure
mutually exclusive use of the ACSI bus using the system variable
&quot;flock&quot;. Otherwise loss or corruption of data may occur! If
in doubt do a harddisk backup *first*.
<br>
</p>
<p>Lyndon tested EtherNEC both with an STE and a Falcon.
<br>
<br>
</p>
<p>Things for the future
<br>
</p>
<p>More testing under MINTNet (volunteers welcome).
<br>
<br>Helping to improve perfomance; could the difference of 400KB/s
gross and 100KB/s net be reduced?
<br>
<br>Similar hardware adapters for the Mega ST bus and the VME bus that
are present in some ST compatible machines seem possible. If somebody
came up with hardware solutions I would consider adding drivers for
those.
<br>
<br>I am contemplating to add DMA mode to EtherNEA (this gross rate of
1.5 MByte/s is tempting).
<br>
<br>I have been asked by several people: an adapter for the SCSI bus
would be very complex both in terms of hardware and software. I would
be surprised if somebody came up with a solution.
<br>
<br>At all german PC retailers I know of ISA NE2000 cards are still
available although the ISA bus is not any more present in all new PCs.
As NE2000 cards will longer available for the PCI bus I would
appreciate information about PCI to see if was reasonable to build an
adapter.
<br>
</p>
<p>
<br>
<br>
</p>
<p align=center><img src="image/etherne2.gif" border=0 width="500" height="375"></p><br>
<div align=center><tt> Abbildung 5 - EtherNec Interface / Falcon Tower Einbau </tt>
</div>
<p>
<br>
<br>
</p>
<p>Bild (c) Bernd Maedicke
<br>
</p>
<p>
<br>
<br><b> Disclaimer </b>
</p>
<p>This package is provided to you as is. I do not guarantee any
features nor do I take any responsibility for any damage or loss you
may suffer when using this hardware and/or software. I advise you
should backup your harddisk before using EtherNEA and if your harddisk
is connected to the ACSI port.
<br>
</p>
<p>
<br>
<br><b> Contact <a href="0205.htm" target="UDOcon">Information</a> </b>
<br>
</p>
<p>Suggestions, bug reports, flames to
</p>
<p>Dr. Thomas Redelberger
<br>EMail: redetho@gmx.de
<br>FAX: +49 6023 999410
<br>
</p>
<p><a href="0206.htm" target="UDOcon">Copyright</a> 2001, 2002 Dr. Thomas Redelberger
<br>
</p>
<p><a href="http://home.nexgo.de/thomas.redelberger/prj/atari" target="_top">Ethernet Hardware</a>
</p>
<p>
<br>
<br><b> Ethernet-Adapter von EH-Systems unter Multi-TOS? </b>
<br>
</p>
<p>Ich habe den Adapter von EH-Systems unter MiNT (1.15.10) zum
laufen bekommen. Am besten ist es Du liest Dir mal MiNT-NET f&uuml;r
Dummies durch. Hab ich auch gemacht und konnte damit recht einfach das
ganze zum fliegen bekommen.
<br>
</p>
<p>Guckst Du hier:
<br>&lt;http://atari.st-katharina-apotheke.de&gt;
<br>
</p>
<p>Vielleicht w&auml;re auch Cripple-MiNT was f&uuml;r Dich, ist eine
minimal MiNT <a href="0204.htm" target="UDOcon">Installation</a>, die sich aber um Netzwerkf&auml;higkeit
erweitern l&auml;&szlig;t und auf einem normalen TOS filesystem
funktioniert.
<br>
</p>
<p>
<br>
<br><b> Leidige ROUTE.TAB f&#166;r <a href="1701.htm" target="UDOcon">STinG</a> </b>
<br>
</p>
<p>Immer wiederkehrendes Thema: Die ROUTE.TAB f&#166;r <a href="1701.htm" target="UDOcon">STinG</a>. Ohne
sie geht nichts. Immer wieder erkl&egrave;rt, aufgezeigt,
erkl&egrave;rt und trotzdem falsch. Daher hier mal ein neuer Versuch
einer Erkl&egrave;rung der ROUTE.TAB:
<br>
</p>
<p>Eine korrekte ROUTE.TAB hat so auszusehen:
<br>
</p>
<pre>
<a href="18.htm" target="UDOcon">Network</a> IP              Subnet Mask     Port Name       Gateway
192.168.1.0             255.255.255.0   EtherNec        0.0.0.0
0.0.0.0                 0.0.0.0                 EtherNec        192.168.1.10

</pre>
<p>
<br>Erkl&egrave;rung:
<br>
</p>
<p>0.0.0.0 steht f&#166;r alles
<br><a href="18.htm" target="UDOcon">Network</a> IP ist die IP Adresse des eigenen lokalen Netzwerk (LAN)
<br>Subnet Mask ist die Subnetzmaske ihres Netzwerks
<br>Port Name ist das Interface mit dem der Rechner mit dem Netz
verbunden wird
<br>Gateway ist die IP-Adresse eines Routers oder eines Rechners der
den Zugang zum <a href="17.htm" target="UDOcon">Internet</a> bereit stellt
<br>
<br>
</p>
<p>Mit
</p>
<pre>192.168.1.0  255.255.255.0  EtherNet  192.168.1.10
</pre>
<p>kann das Interface zwar in seinem lokalen Netz auf die Rechner
untereinander zugreifen, aber in das <a href="17.htm" target="UDOcon">Internet</a> (WAN) kommt es damit
nicht. Daran &egrave;ndert auch eine andere Nameserveradresse in der
Datei DEFAULT.CFG nichts.
<br>
</p>
<p>Man kann auch einfach nur folgendes in die ROUTE.TAB eingeben:
<br>
</p>
<pre>0.0.0.0  0.0.0.0  EtherNec  192.168.1.10
</pre>
<p>Das setzt die Default Route in <a href="1701.htm" target="UDOcon">STinG</a>. Damit gehen alle Zugriffe
&#166;ber EtherNec automatisch an die Adresse 192.168.1.10, also den
im LAN vorhandenen Router. Der Router verteilt dann alle Pakete
entweder an andere Rechner im lokalen Netz, oder geht in das <a href="17.htm" target="UDOcon">Internet</a>.
<br>
</p>
<p>
<br>Noch mal genauer:
<br>
</p>
<pre>
192.168.1.0  255.255.255.0  EtherNet  192.168.1.10
</pre>
<p>richtet ja nur eine Route f&#166;r das Netz 192.158.1.0 mit der
Netzmaske 255.255.255.0 ein und gibt an daf&#166;r an die Adresse
192.168.1.10 als Router zu nutzen. Das macht so noch nicht viel Sinn.
<br>Erst ein:
<br>
</p>
<pre>0.0.0.0  0.0.0.0  EtherNec  192.168.1.10
</pre>
<p>richtet dann die Default Route ein, da 0.0.0.0, wie oben schon
beschrieben, f&#166;r alles steht.
<br>
</p>
<p>
<br>
<br>
</p>
<p align=center><img src="image/sline.gif" border=0 width="640" height="2"></p><br>
<p align=center><img src="image/img.gif" border=0 width="50" height="40"></p><br>

<hr>
<address>Copyright &copy; <a href="http://www.doitarchive.de/">Robert Schaffner</a> (<a href="mailto:doit@doitarchive.de">doit@doitarchive.de</a>)<br>
Letzte Aktualisierung am 23. Mai 2004</address>
</td></tr></table>
<table border=0 cellpadding=0 cellspacing=0 width="100%"><tr><td valign=top>
<a href="00con.htm" target="UDOcon"><img src="udo_hm.gif" alt="Home" border=0 width="24" height="24"></a>
<a href="18.htm" target="UDOcon"><img src="udo_up.gif" alt="Network" border=0 width="24" height="24"></a>
<a href="1802.htm" target="UDOcon"><img src="udo_lf.gif" alt="Ethernet Project am Romport" border=0 width="24" height="24"></a>
<a href="1804.htm" target="UDOcon"><img src="udo_rg.gif" alt="MagicNet installieren" border=0 width="24" height="24"></a>
</td></tr></table>
</body></html>
