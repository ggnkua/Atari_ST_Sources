<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!-- last modified on 23.12.2003 -->
<html>
<head>
<title>
DOITF030 - Tips u. Tricks zum Atari Falcon F030: Floppy Connection
</title>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<meta name="Generator" content="UDO6 PL14 for TOS">
<meta name="Email" content="support@doitarchive.de">
<link rev=made href="mailto:support@doitarchive.de" title="E-Mail">
<link rel=home href="doitf030.htm" title="Homepage">
</head>
<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" alink="#FF0000" vlink="#800080">

<table border=0 cellpadding=0 cellspacing=0 width="100%"><tr><td valign=top>
<a href="00con.htm" target="UDOcon"><img src="udo_hm.gif" alt="Home" border=0 width="24" height="24"></a>
<a href="0606.htm" target="UDOcon"><img src="udo_up.gif" alt="Diskettenlaufwerke" border=0 width="24" height="24"></a>
<a href="0606.htm" target="UDOcon"><img src="udo_lf.gif" alt="Diskettenlaufwerke" border=0 width="24" height="24"></a>
<a href="060602.htm" target="UDOcon"><img src="udo_rg.gif" alt="Drive B" border=0 width="24" height="24"></a>
</td></tr></table>
<table border=0 cellpadding=0 cellspacing=0 width="100%"><tr>
<td valign=top width="8">&nbsp;</td><td valign=top width="100%">
<h1><a name="Floppy_20Connection">6.6.1 Floppy Connection</a></h1>
<p align=center><img src="image/line.gif" border=0 width="637" height="6"></p><br>
<p><tt>Floppy Connection</tt>
<br>
<br>
</p>
<p><img src="image/english.gif" border=0 width="35" height="22"></p><br>
<p>The standard signals are as follows:
<br>
</p>
<p>Shown as be found at the F030 Schematics.
<br>Make sure you connect the floppydisk 34 way plug allways in the
right position to your floppy drive.
<br>
</p>
<p><tt>Wire from Mainboard to F030 Floppy Flatcable:</tt>
</p>
<dl>
<dt><b>Pin 34 = </b></dt><dd> Disk Change
<br>&nbsp;
<dt><b>Pin 33 = </b></dt><dd> Media Detect 1 Signal
<br>&nbsp;
<dt><b>Pin 32 = </b></dt><dd> Side Select Signal
<br>&nbsp;
<dt><b>Pin 31 = </b></dt><dd> GND
<br>&nbsp;
<dt><b>Pin 30 = </b></dt><dd> Read Data Signal
<br>&nbsp;
<dt><b>Pin 29 = </b></dt><dd> Media Detect 2 Signal
<br>&nbsp;
<dt><b>Pin 28 = </b></dt><dd> Write Protect Signal
<br>&nbsp;
<dt><b>Pin 27 = </b></dt><dd> GND
<br>&nbsp;
<dt><b>Pin 26 = </b></dt><dd> Track 0 Signal
<br>&nbsp;
<dt><b>Pin 25 = </b></dt><dd> GND
<br>&nbsp;
<dt><b>Pin 24 = </b></dt><dd> Write Gate Signal
<br>&nbsp;
<dt><b>Pin 23 = </b></dt><dd> GND
<br>&nbsp;
<dt><b>Pin 22 = </b></dt><dd> Write Data Signal
<br>&nbsp;
<dt><b>Pin 21 = </b></dt><dd> GND
<br>&nbsp;
<dt><b>Pin 20= </b></dt><dd> Step Signal
<br>&nbsp;
<dt><b>Pin 19 = </b></dt><dd> GND
<br>&nbsp;
<dt><b>Pin 18 = </b></dt><dd> Dir Select Signal
<br>&nbsp;
<dt><b>Pin 17 = </b></dt><dd> GND
<br>&nbsp;
<dt><b>Pin 16 = </b></dt><dd> Motor On Signal
<br>&nbsp;
<dt><b>Pin 15 = </b></dt><dd> GND
<br>&nbsp;
<dt><b>Pin 14 = </b></dt><dd> No connection
<br>&nbsp;
<dt><b>Pin 13 = </b></dt><dd> GND
<br>&nbsp;
<dt><b>Pin 12 = </b></dt><dd> Drive Select 1 Signal
<br>&nbsp;
<dt><b>Pin 11 = </b></dt><dd> GND
<br>&nbsp;
<dt><b>Pin 10 = </b></dt><dd> Drive Select 0 Signal
<br>&nbsp;
<dt><b>Pin 9 = </b></dt><dd> GND
<br>&nbsp;
<dt><b>Pin 8 = </b></dt><dd> Index Signal
<br>&nbsp;
<dt><b>Pin 7 = </b></dt><dd> GND
<br>&nbsp;
<dt><b>Pin 6 = </b></dt><dd> Mode Select 2 Signal
<br>&nbsp;
<dt><b>Pin 5 = </b></dt><dd> GND
<br>&nbsp;
<dt><b>Pin 4 = </b></dt><dd> no connection
<br>&nbsp;
<dt><b>Pin 3 = </b></dt><dd> GND
<br>&nbsp;
<dt><b>Pin 2 = </b></dt><dd> Mode Select 1 Signal
<br>&nbsp;
<dt><b>Pin 1 = </b></dt><dd> GND
<br>&nbsp;
</dl>
<p>All signals are active LOW if the signal is normally high (for
example to switch the Motor ON signal active, pin 16 should be
connected to 0 volts). So be careful plugging in the cables.
<br>
</p>
<p align=center><img src="image/flopppwr.gif" border=0 width="250" height="98"></p><br>
<div align=center><tt>Abbildung 1 - PSU-connecting</tt>
</div>
<p>Pin 2 is the HD detected signal sent from the drive to the Board.
Unfortunatly the 14 pin external atari connector does not have this
signal availiable, so HD drives can only be used internally on the 34
way ribbon cable without a mod to the old 14 pin connector.
<br>
</p>
<p>Connectors:
<br>34 way connector on floppy drive (5.25 card edge - 3.5 pin header)
<br>
</p>
<p align=center><img src="image/floppy.gif" border=0 width="380" height="241"></p><br>
<div align=center><tt>Abbildung 2 - 34 way normal connector</tt>
<br>
</div>
<p>| Dennis Armstrong, CODAS division Joint European Torus
<br>| Abingdon, Oxfordshire, OX14 3EA, UK
<br>| tel ++44 1235 464871
<br>| dba@jet.uk
<br>
</p>
<p><tt> HD-Signal nachr&uuml;sten bei Ersatzlaufwerken </tt>
</p>
<p>Eine Anleitungen aus dem Mausnetz:
<br>
<br>
</p>
<p>Ich habe an meinem Mega ST ein FD235HF-7291 extern im Betrieb
(intern ein FD235HF-4291) und das flutscht prima. Man mu&szlig; nur
das HD- Signal mit Pin2 vom Shugart-Bus verbinden!
<br>
</p>
<p>Und zwar so:
<br>
</p>
<dl>
<dt><b>FD235HF-6291:</b></dt><dd> Nur 2 Jumper f&uuml;r DS0 und DS1. Da das Laufwerk kein HD-Out-
<br>Signal an Pin 2 des Shugartbus liefert, mu&szlig; dieses
nachtr&auml;glich
<br>angeschlossen werden. Hierzu verbindet man Pin 2 des
<br>Shugartbus (J1) mit Pin 10 von J5 des Diskettenlaufwerkes.
<br>
<br>&nbsp;
<dt><b>FD235HF-7291:</b></dt><dd> &Uuml;berhaupt keine Jumper! Da das Laufwerk kein HD-Out-Signal
an
<br>Pin 2 des Shugartbus liefert, mu&szlig; dieses nachtr&auml;glich
angeschlossen werden.
<br>Hierzu verbindet man Pin 2 des Shugartbus
<br>(J1) mit Pin 10 von J5 des Diskettenlaufwerkes.
<br>
<br>&nbsp;
</dl>
<p>
<br>
<br>
</p>
<p>Somit kann man sich auch als Batari-User beim n&auml;chsten
DOSen-<a href="1604.htm" target="UDOcon">H&auml;ndler</a> ein neues Teac-Laufwerk g&uuml;nstig besorgen.
</p>
<p>MfG /GWT/
<br>
</p>
<p><b> Eine weitere L&ouml;sung zum nachr&uuml;sten des HD-Signals
an einem Drive</b>
<br>
<br>Aus dem Mausnetz:
<br>
</p>
<p>Die neuen TEAC-Laufwerke liefern ja bekanntlich das
HD-Detectsignal nicht nach aussen, was f&uuml;r nachger&uuml;stete
HD-Module echt ein Problem darstellt. Leider lassen sich diese LWs
aber auch nicht mehr Jumpern (sogar die ID ist per SMDs gel&ouml;st
und werksm&auml;&szlig;ig auf DS1 gel&ouml;tet :-/ ), deshalb
mu&szlig; man da zum L&ouml;tkolben greifen, und der Sache etwas
nachhelfen...
</p>
<p>Umbau des 'neuen' TEAC-FD235HF-? (keine Ahnung, m&uuml;&szlig;te
ich jetzt eins aus dem Rechner schrauben; im Zweifel: Ausprobieren,
wenn's nicht funkt - Pech!)
</p>
<pre>
                                       GND
wei&szlig;es 'Flachbandkabel'                 |
zur Motorplatine Pin2                   |  +--+
-------]---                +-------+    +--|C |\
       ]-------------------| 10k   |-------|B | ) BC547
       ]---                +-------+    +--|E |/
       ]                                |  +--+
       ]...                +-------+    |
       ]             VCC---| 4k7   |----+
-------]---                +-------+    |
                                        |
                                     Pin2 Shugart

</pre>
<p>An Pin2 des wei&szlig;en Flachbandkabels zur Motorplatine einfach
einen Draht aufl&ouml;ten, am besten gleich den Widerstand selbst und
dann mit Hei&szlig;kleber fixieren, sonst rei&szlig;t das ganze von
der Platine ab... Den Collector des Transi direkt auf Masse, den
Emitter an Pin2 des Shugart-Steckers mit einem 4k7-PullUp-Widerstand.
</p>
<p>Ein Wort zur Funktion: An Pin2 des Flachbandkabels kommt das
Signal des Detektor-Schalters von der Motorplatine in die eigentliche
Logik, die dieses Signal ja ben&ouml;tigt, um z.B. den Schreibstrom
einzustellen. Nachteil: Zu schwach, um direkt benutzt zu werden. Also
benutzen wir das Signal, um einen Transi als Schalter anzusteuern!
Aber Vorsicht:
<br>1. Das HD-Detect ist nun kein TS-Signal mehr, das mit DS
g&uuml;ltig wird! Also: Mit der unver&auml;nderten Schaltung von oben
ist nur der Betrieb EINES Laufwerks m&ouml;glich! 2. HD-Disketten
werden mit einem High-, DD-Disks mit einem Low-Signal an Pin2 des
Shugartbusses angezeigt! Das ist IMO genau ANDERSRUM als bei dem alten
TEAC! (Nein, ich werde das nicht &auml;ndern, weil mein
selbstentwickeltes HD-Modul das genau so erwartet!) Wer das
&auml;ndern will, kann einen TS- Inverter benutzen, der dann auch
gleich Punkt 1 wieder behebt. (z.B. 74LS368, Pin8-GND,
Pin4,6,10,12,14,15,16-VCC, den Emitter des Transi an Pin2 des LS368
statt an den Shugart, Pin3 des LS368 dann an Pin2 des Shugartbusses,
Pin1 an das DS-Signal des LWs, also praktischerweise an den mittleren
Pin des ID-SMD-Feldes)
</p>
<p>cu
<br>RS
<br>
<br>
<br>
</p>
<p align=center><img src="image/line2.gif" border=0 width="638" height="17"></p><br>
<p align=center><img src="image/img.gif" border=0 width="50" height="40"></p><br>

<hr>
<address>Copyright &copy; <a href="http://www.doitarchive.de">Robert Schaffner</a> (<a href="mailto:support@doitarchive.de">support@doitarchive.de</a>)<br>
Letzte Aktualisierung am 23. Dezember 2003</address>
</td></tr></table>
<table border=0 cellpadding=0 cellspacing=0 width="100%"><tr><td valign=top>
<a href="00con.htm" target="UDOcon"><img src="udo_hm.gif" alt="Home" border=0 width="24" height="24"></a>
<a href="0606.htm" target="UDOcon"><img src="udo_up.gif" alt="Diskettenlaufwerke" border=0 width="24" height="24"></a>
<a href="0606.htm" target="UDOcon"><img src="udo_lf.gif" alt="Diskettenlaufwerke" border=0 width="24" height="24"></a>
<a href="060602.htm" target="UDOcon"><img src="udo_rg.gif" alt="Drive B" border=0 width="24" height="24"></a>
</td></tr></table>
</body></html>
