<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!-- last modified on 23.12.2003 -->
<html>
<head>
<title>
DOITF030 - Tips u. Tricks zum Atari Falcon F030: FPU Error Trace
</title>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<meta name="Generator" content="UDO6 PL14 for TOS">
<meta name="Email" content="support@doitarchive.de">
<link rev=made href="mailto:support@doitarchive.de" title="E-Mail">
<link rel=home href="doitf030.htm" title="Homepage">
</head>
<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" alink="#FF0000" vlink="#800080">

<table border=0 cellpadding=0 cellspacing=0 width="100%"><tr><td valign=top>
<a href="00con.htm" target="UDOcon"><img src="udo_hm.gif" alt="Home" border=0 width="24" height="24"></a>
<a href="0308.htm" target="UDOcon"><img src="udo_up.gif" alt="Fehlersuche" border=0 width="24" height="24"></a>
<a href="030801.htm" target="UDOcon"><img src="udo_lf.gif" alt="Testkit" border=0 width="24" height="24"></a>
<a href="030803.htm" target="UDOcon"><img src="udo_rg.gif" alt="Open Case" border=0 width="24" height="24"></a>
</td></tr></table>
<table border=0 cellpadding=0 cellspacing=0 width="100%"><tr>
<td valign=top width="8">&nbsp;</td><td valign=top width="100%">
<h1><a name="FPU_20Error_20Trace">3.8.2 FPU Error Trace</a></h1>
<p align=center><img src="image/line.gif" border=0 width="637" height="6"></p><br>
<p><tt> FPU Error Trace </tt>
<br>
<br>
</p>
<p><img src="image/deutsch.gif" border=0 width="35" height="22"></p><br>
<p><img src="image/english.gif" border=0 width="35" height="22"></p><br>
<p>Dr&uuml;cken Sie die FPU gerade und in der richtigen Richtung in
den Sockel!
<br>Die FPU hat Pin 1 markiert, eine gleichartige Markierung bedindet
sich auf der Hauptplatine des Falcon. Die FPU passt auch nur in der
richtigen Richtung leicht in den Sockel. Ein falsches Einsetzten kann
den Sockel schnell besch&auml;digen. Das ist ohne neuen Sockel kaum zu
Reparieren.
<br>
</p>
<p>Es ist zum Betrieb keine Jumpereinstellung oder <a href="13.htm" target="UDOcon">Systemsoftware</a>
notwending
<br>Die Pinbelegung der 68882-FPU finden sie unter Pin
<br>
</p>
<p>Bei dem n&auml;chsten Neustart des Falcons wird die FPU
automatisch erkannt. Sie k&ouml;nnen das mit z.B FPUCHK.PRG abfragen.
<br>
</p>
<p>Sollten sie ihren Falcon beschleunigen sind sie gut Beraten
f&uuml;r die FPU und die Falcon CPU stets die gleiche Taktfrquenz zu
verwenden, nur so kann die h&ouml;chste Kompatibilit&auml;t erreicht
werden.
<br>Sehen Sie dazu unter Beschleuniger nach
<br>
</p>
<p>Beachten Sie bitte das nicht alle Atari-Programme eine FPU
unterst&uuml;tzen. Seien sie also nach dieser Geldausgabe nicht
ent&auml;uscht! NeoN-Grafix z.B l&auml;uft ohne FPU im Falcon leider
nicht, hier ist eine FPU zwingend erforderlich. Bezugsquellen finden
sie unter <a href="1604.htm" target="UDOcon">H&auml;ndler</a>. Dr. Zellmer als Beispiel.
<br>Eine Geschwindigkeitssteigung macht sich also nur bei Programmen
bemerkbar die ausdr&uuml;cklich eine FPU-Unterst&uuml;tzung
beinhalten. Das ist z.B auch POVRay.
<br>
<br>
<br>
</p>
<p><img src="image/english.gif" border=0 width="35" height="22"></p><br>
<p>
<br><b> <a href="040108.htm" target="UDOcon">68882 FPU</a> doesn't work </b>
</p>
<p>Sometimes the CS line was floating, and not always there. Mostly
with Rev C motherboards. Found a lot of bad solder connections and bad
traces. Before you start to replace the <a href="040102.htm" target="UDOcon">COMBO Chip</a>, trace all FPU
Lines for function! Maybee lines being bad mostly.
<br>
</p>
<p>The Falcon FPU 68882 / 68881 (U33) is connected with around 50 Pin
to the <a href="040109.htm" target="UDOcon">68030 CPU</a> and the Mainboard. So we have some choices for
mistakes here. If you found out that your FPU doasn't work, please
trace first the CS line. You found CS (Chip Select) at Pin 29 and it
is connected directly to the Falcon COMBO Pin 113, maybee LOW active.
Sometimes the COMBO output is defective if you shorten this signal to
+5 or somewhere. Trace first this connectivity!
<br>
</p>
<p>Ask the Pin list for the correct wirering of the FPU data lines to
the Bus, COMPO (COMBEL) and CPU. They are named D31 to D0. The FPU
only had five adress lines, A0 to A4, Pin 22 to Pin 26. (Falcon Adress
Bus 31.0) Follow the <a href="030501.htm" target="UDOcon">Blockdiagram</a>.
<br>They are three lines driven by one of the GALs of the fucking
Falcon <a href="030502.htm" target="UDOcon">Busemulation</a>. Chip U68. Adresses 4,3 are connected to U68 Pin
8,9. FPU adresses 2,1 are connected to the DSP 56001 (U38) Pin 71,70.
FPU A0 is connected straight to R168 (4.7K) the open side of R168 is
GND. Pin 13 of the FPU is the reset line. Maybee it's easy to check
for an permanent reset. Do that first! FPU Pin 4 (Sense) is not
connected.
<br>
<br>
<br>
</p>
<p align=center><img src="image/fpu.gif" border=0 width="320" height="200"></p><br>
<div align=center><tt> Abbildung 1 - empty <a href="0302.htm" target="UDOcon">Falcon F030</a> FPU PLCC socket </tt>
</div>
<p>
<br>
<br>
</p>
<p>Note: You have to remove the internal PSU to see this socket
<br>
<br>Take the description of any FPU Pin from the list at the end of
this universe (Pin)
<br>
</p>
<p>FPU Pin 28 (RW) is connected to COMBO Pin 129 (R/W)
<br>FPU Pin 18 (SIZE) is connected to R161 (4.7K) after them to Vcc
<br>FPU Pin 32 (DSACK1) is connected to CPU Pin 132 (DSACK1)
<br>FPU Pin 31 (DSACK0) is connected to R167 (4.7K) after them to Vcc
<br>
</p>
<p>FPU Pin 11 (Clock) is connected to R221 (33Ohm), ask ClockPatch in
this universe
<br>FPU Pin 29 (ChipSelect) is connected to COMBO Pin 113 (CS)
<br>FPU Pin 20 (DS) is connected to R160 ( 4.7K) after them to Vcc
<br>
<br>
</p>
<p>I know about this bad descripion, but that's the one and only way
to describe the bounding of the FPU to the CPU and the <a href="040102.htm" target="UDOcon">COMBO Chip</a>. If
you like to find some errors by you self try first time to clean up
the FPU PLCC socket! Do not press the chip hard into this socket.
Socked goes damaged quick. Also use the correct tools to remove the
PLCC FPU from the socket. In most of all sessions the FPU are not
defective! Try to trace all FPU lines!
<br>Maybee the data lines as last choice, first CS or CLK
<br>
</p>
<p>And watch out buddy, if you don't use FPU software, the FPU are
still sleeping..
<br>Also you Oscilloscope..
<br>
</p>
<p>
<br>
<br>
</p>
<p align=center><img src="image/sline.gif" border=0 width="640" height="2"></p><br>
<p align=center><img src="image/img.gif" border=0 width="50" height="40"></p><br>

<hr>
<address>Copyright &copy; <a href="http://www.doitarchive.de">Robert Schaffner</a> (<a href="mailto:support@doitarchive.de">support@doitarchive.de</a>)<br>
Letzte Aktualisierung am 23. Dezember 2003</address>
</td></tr></table>
<table border=0 cellpadding=0 cellspacing=0 width="100%"><tr><td valign=top>
<a href="00con.htm" target="UDOcon"><img src="udo_hm.gif" alt="Home" border=0 width="24" height="24"></a>
<a href="0308.htm" target="UDOcon"><img src="udo_up.gif" alt="Fehlersuche" border=0 width="24" height="24"></a>
<a href="030801.htm" target="UDOcon"><img src="udo_lf.gif" alt="Testkit" border=0 width="24" height="24"></a>
<a href="030803.htm" target="UDOcon"><img src="udo_rg.gif" alt="Open Case" border=0 width="24" height="24"></a>
</td></tr></table>
</body></html>
