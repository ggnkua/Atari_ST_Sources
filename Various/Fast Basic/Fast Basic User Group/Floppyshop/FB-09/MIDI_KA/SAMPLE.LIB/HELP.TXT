  ******************************************************************
  *                                                                *
  *                   S700  Sample librarian                       *
  *                                                                *
  *                            by                                  *
  *                                                                *
  *                        Kevin Adams                             *
  *                                                                *
  *                     32 St James Drive                          *
  *                        Bridgnorth                              *
  *                        Shropshire                              *
  *                         WV15 6BN                               *
  *                                                                *
  *                         written in                             *
  *                 Computer Concepts FAST BASIC                   *
  *                                                                *
  *                        Version 1.2                             *
  *                         20/7/88                                *
  *                                                                * 
  ******************************************************************

WARNING:-
     Although  this program should work fine with most  S700's  or 
X7000's  it will crash the sampler if you attempt to  save  sample 
parameters  with  an  early  version  of the S700 operating system 
installed.  This is due to a fault in the operating system and one 
which I came across myself with my S700.  I phoned Akai UK and was 
told to send my old eprom back to them for replacement.  This  was 
done  free  of  charge and came back virtually  return  post  with 
operating  system  version 1.4 instead of version 1.0  which I had 
previously. Akai have provided an excellent service so if you need 
to  get  your  own  S700/X7000 upgraded then  do  it  now  as  the 
librarian  is  of  much  more  use  when  samples  are  saved   in 
conjunction with sample parameters. Otherwise you will have to set 
up  the key ranges,transpose,etc every time you use a  new  sample 
which totally defeats the object of using the extra convenience of 
storage offered by this program.
     You can find the operating system version of your sampler  by 
checking  a chip with a piece of paper on it in the middle of  the 
board. It will have the operating system version number written on 
it.  DON'T  REMOVE THE PAPER or the sampler will instantly  forget 
that  it  is a sampler and become a very expensive  and  not  very 
useful  piece of furniture.  If you don't like the idea of  poking 
around inside your sampler then I'm sure that the dealer who  sold 
it to you in the first place will get it replaced for you. 

NB   Remember  that  when  saving  samples  the   librarian   will 
automatically try to save the associated sample parameters if  the 
"sample+param"  selection is ticked in the "SetUp" menu.  This  is 
also the default selection so you will have to 'unselect' this if  
you do not want sample parameters saved.


     First of all I'd just like to say that this program is in constant 
use with my set up :-
                         520  STFM  with  Hi rez  monitor  and  no 
external drives.
     I've  tried to fix all the possible errors and  annoyances  I 
could think of or came across.  But obviously somewhere along  the 
line  somone with a totally different set up may come  up  against 
problems I never considered.  If you do have any problems or think 
of  any  alterations which would make the program that  much  more 
useful  don't  hesitate  to  contact  me  at  the  address   given 
above.(Please include an s.a.e. if you want a reply).
     The program is also constantly being updated and improved and 
will hopefully soon provide graphical editing of loop  points,midi
thru facility and online help etc.....
     Send  me  a cheque or postal order for five pounds  and  I'll 
send  you  the  source code and runnable  version  of  the  latest 
update.

SETTING UP.

     The  librarian  requires the use of two midi  leads  to  save 
samples to Atari 3.5" disk. The midi out from the ST connected  to 
the midi in of the sampler and the midi in of the ST  connected  to 
the  midi out of the sampler.  Only one lead is required  to  load 
samples  from  Atari disk to the sampler connecting the  midi  out 
port of the ST to the midi in of the sampler.
     In  actual use the midi out of the computer will  already  be 
connected to the sampler for most of the time to play back through 
it (if you use your ST for sequencing !).  To avoid the agravation 
of constantly swapping leads I've built a simple switch box  using 
a  two-pole  six way switch to switch between up to  six  seperate 
midi inputs.  This is connected to the midi in of the computer and 
I can easily switch between any one of the midi devices to use  it 
as the master controller or get a voice dump.

     Anyway  first of all try out the librarian  with  unimportant 
samples  or samples which you have backed up on  'quickdisks', for 
reasons  explained at the begining of this section.  There  is  an 
error  check carried out on sample data as it is being fetched  by 
the  ST so it is unlikely that sample data fetched and  stored  on 
Atari  disk will be corrupted.  As stated previously  though,until 
you have verified it there is a possibility that your sampler  may 
crash  when  sample parameters are requested.  This  requires  the 
sampler to be switched off and then on again losing any samples in 
memory.

MENU OPTIONS.

     Set Up:
          Set  Drive  - Allows the disk drive for saving and loading
          sample data to be altered between drive A - P 

          Set Midi Chan - Allows the midi channel to be changed. 
          Ensure  that  this  is set to the same  channel  as  the 
          sampler or some information will not be received.
               Although sample data is not channel specific,sample 
          parameters  and  overall data will only be sent  on  one 
          channel.  Of course this will not matter if the  sampler 
          is set to omni on or multi program.

          Sample+param  -  This  option must not be  set  if  your 
          sampler has an early version of the operating system  as 
          already  explained.  When it is ticked all sample  saves 
          and loads will be followed by the sample parameters.
          i.e.  After  loading a particular sample  the  librarian 
          will  search for and send (if found) a sample  parameter 
          file with the same name but a .PRM extension.
          NB  When saving samples and parameters seperately  (with 
          sample+param  unticked) it is worth remembering to  give 
          them  the  same  name so that future  sample  loads  can 
          automatically include sample parameters.

          Quit - Exits the program and returns to the desktop.


     File:
          Load  Sample - displays all the samples on  the  current 
          disk  and  loads  a selected  sample from  disk  to  the 
          sampler.
          Note: Any sampler capable of receiving a standard sample 
          dump  will  respond  to this and  attempt  to  load  the 
          sample.

          Load Param - as above but loads sample parameters.
          NB  If  you load the samples and  parameters  seperately 
          load  the  parameters last as they contain  the  correct 
          start  point for the sample (this is done  automatically 
          by Load All and Load Selected). For some reason the sample 
          dump always sends the start point as zero but only sends 
          the part of the sample between the start and end points. 
          If the start point is not zero it will cause a glitch so 
          I've corrected for this by resetting the start point  to 
          zero  before saving with  'Save  Sample'.  Unfortunately 
          though  this can only work if the 'Sample+Param'  option 
          is  ticked in the 'Set Up' menu.  So if you  are  saving 
          samples but are unable to use sample parameters you will 
          have to reset the start point manually before saving.

          Load  Overall - as above but loads an overall data  file 
          containing  overall set up data which can not be  stored 
          on  'quick disks' i.e.  midi channel,omni  on/off, multi 
          program,master tune,pitchbend etc  

          Save  sample - prompts for a sample number  between  one 
          and sixteen (assuming sixteen voice extension is fitted) 
          then prompts for a name to use for the sample on disk.
               The name can be any length but only the first eight 
          characters  will  be used.  It will also  be  given  the 
          correct extension ie '.SPL'.
               If  there  is not enough room on the disk  you  are 
          given the opportunity to swap disks or cancel the save.

          Save param - as above but saves sample parameters.
               Note:  This  is  carried out automatically  with  a 
          sample save if the 'sample+param' option is ticked under 
          the 'Set Up' menu.

          Save overall - saves overall setup data prompting for  a 
          name for the disk file. If return is pressed in response 
          to the prompt the file will be saved as 'OVERALL.OVL'

          Delete File - allows any file to be deleted from disk to 
          make more room. Use carefully !!!

          Show List - Shows all the files on the disk in  selected 
          drive plus the freespace left on the disk.
          Note:  If  a new disk is inserted and the file  selector 
          box clicked in the directory field to update it,the disk 
          free space will not be updated to show free space on the 
          new disk. To find this you will have to leave 'Show List' 
          and reselect it from the File menu.                         

     Bulk:
          Load All - takes all sample,sample parameter and overall 
          data  files  (with the correct extensions) in  the  root 
          directory of the selected disk and sends them over midi.
               I  use this all of the time as I keep my usual  set 
          up  on two single sided disks.  Place them in turn  into  
          the  drive,then  click on Load All.  It  would  be  even 
          easier with a double sided disk drive.  I don't know  if 
          it would work with a hard drive as all of the files need 
          to  be  in the root directory.  I'm sure  I  could  sort 
          somthing out though if somone would like to lend one !!!

          Load Selected - presents a file selector box from  which 
          files can be selected in the usual way.  When all of the 
          files have been selected click on cancel and you will be 
          prompted to send the list or cancel.
     
          Note:  Pressing  the escape key during a bulk load  will 
          abort the load as soon as any file that was being loaded 
          when the escape key was pressed is sent.



