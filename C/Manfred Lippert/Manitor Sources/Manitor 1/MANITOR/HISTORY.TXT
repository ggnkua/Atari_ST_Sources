Manitor-History:
===============

V1.02 24.04.2003
================
- Bei einigen VDI-Funktionen die Parameter nachgetragen. Totzdem fehlen noch
  bei einigen Funktionen die Ausgabe der Ein- und Ausgabe-Parameter.


14.03.2003
==========
- Und wieder komplett neu Åbersetzt mit der pctoslib.lib und den
  aes.lib und vdi.lib von Manfred Lippert. Jetzt scheinen die
  Ausgabe endlich in Ordnung sein.
- Messages des CAT-Protokoll eingetragen.

07.04.2003
==========
- AES-Messages Parameter nachgetragen: THR_EXIT

06.04.2003
==========
- Komplett neu Åbersetzt mit der TOS- und GEM-Lib von Martin ElsÑsser.
- Neue AES-Funktionen: recalc_cicon_colours, graf_mutlirubber,
  wind_draw, appl_control
- AES-Messages Parameter nachgetragen: WINCOM_MSG, bei einigen Messages
  des CAB-Protokoll

23.03.2003
==========
- Die Xbios-Funktionen des Milans (CacheCtrl, WdgCtrl, ExtRsConf)
  nachgetragen.

4.12.2000:
=========

- Manitor stÅrzte ab, wenn ein Programm einen "Frename"-Aufruf gemacht
  hat, weil ich bei der Ausgabe der Parameter den ersten Parameter
  ("zero") vergessen habe ...

29.7.99:
=======

- Bei GS_REQUEST/GS_REPLY wurde versehtlich zweimal "version" statt
  "version" und "msgs" ausgegeben.

V1.01 22.3.99:
=============

- Folgende Xbios-Funktionen ergÑnzt:
    void Dbmsg(int rsrvd, int msg_num, long msg_arg)
    int WavePlay(int flags, long rate, void *sptr, long slen)
    int ValidMode(int modecode)


2.2.99:
======

- Bug beim FÅllen des Ringbuffers (der ins Logfile geschrieben wird)
  behoben. Daten die "Åber das Ende" des Rings hinausgeschrieben werden
  muûten, wurden am Anfang falsch ergÑnzt. (Da der Ringbuffer normal
  1/2 MB groû ist, trat das Problem auch nur alle 1/2 MB im Logfile
  auf.)

V1.0 12.1.99:
============

- Erste îffentliche Version

- Kleine Bugfixes


21.12.98:
========

- diverse kleinere Bugfixes.


30.7.98:
=======

- Projekt auf meine neuen Libraries umgestellt.


6.7.98:
======

- Einige VDI-Funktionen ergÑnzt. (z.B. v_transfer_bits)


24.6.98:
=======

- Default-Timer von 300 auf 250 ms herabgesetzt und
  Default-Buffergrîûe von 1/4 MB auf 1/2 MB erhîht, da bei mir ein
  Buffer-Overflow auftrat.


17.6.98:
=======

- An neuere edit_get/set_font-Bindings aus MagiC 6 angepaût.

- Gemdos: Slbopen/Slbclose ergÑnzt.


16.6.98:
=======

- Manitor unterstÅtzt Dock von Holger. Es werden verschiedene EintrÑge
  in Dock installiert, Åber die Manitor konfiguriert und
  gestartet/gestoppt werden kann.

- MSG_NOEVENT ist jetzt wirklich 0x0998 und nicht 0...


12.6.98:
=======

- Auch die edit_...-Routinen ergÑnzt.
  AES, Gemdos, Xbios, Bios sind jetzt komplett! :-)
  Nur beim VDI fehlt noch einiges.


11.6.98:
=======

- Alle AES-Funktionen (auch von WDialog) fertig. Jetzt fehlen nur noch
  die edit_...-Routinen aus EDITOBJC.SLB.


10.6.98:
=======

- RÅckgabeparameter bei AES "prinzipiell" eingebaut.

- Fast alle Eingabeparameter der AES-Funktionen ergÑnzt (auûer bei ein
  paar WDialog-Funktionen)

- Fast alle Ausgabeparameter der AES-Funktionen ergÑnzt (auûer bei ein
  paar WDialog-Funktionen)


9.6.98:
======

- Fehler bei wind_calc korrigiert (falsche Koordinaten)

- VDI-Ausgabeparameter: Es wird nicht mehr (unsinnigerweise) auf intin
  zugegriffen.


8.6.98:
======

- Ein-/Ausgabe-Parameter einiger VDI-Funktionen ergÑnzt.

- Ausgabe von Bezier-Punkten bei v_bez und v_bez_fill.


7.6.98:
======

- Manitor ist jetzt in allen Traps auch reentrant innerhalb desselben
  Prozesses (identifiziert anhand Basepage). MagiC-Threads haben
  dieselbe Basepage...
  Leider wurde Manitor dadurch etwas langsamer.

- Keine AbstÅrze mehr, insbesondere beim Protokollieren der
  VDI-Returncodes (trat dann bei Desktop-Redraws hÑufig auf).
  Manitor benutzt keinen Stackbereich mehr, der "unter" dem
  Stackpointer liegt und daher von Interrupts verÑndert werden kann...
  (Peinlich fÅr einen Informatiker... ;-})


6.6.98:
======

- Kommando msg() erweitert: Neuer Parameter "only_screenmgr" - bei
  Anzeige empfangener Messages werden nur Messages vom Screenmanager
  angezeigt (pid #1).
  So sollte man eigentlich alle Messages angezeigt bekommen, und das
  auch nur jeweils einmal. Hmmm, Mist, Ausnahme: WM_REDRAW. Das wird
  offensichtlich von der Applikation verschickt, dessen Fenster den
  Redraw ausgelîst hat... Naja.


5.6.98:
======

- Kein Bus Error mehr beim Protokollieren der VDI-Aufrufe von Holgers
  Programmen... ;-) Bei VDI-Funktionen wird jetzt nicht mehr auf
  intout/ptsout zugegriffen, wenn darin gar keine RÅckgabeparameter
  erwartet werden. (Sozobon-VDI-Lib initialisiert ptsout-Zeiger nicht,
  falls nicht benîtigt.)


4.6.98:
======

- Ausgabe der Messages kann jetzt wirklich abgeschaltet werden. :-}

- Neues GS-Kommando msg(). Achtung: aes() hat sich daduch verÑndert!

- Jetzt kînnen auch empfangene Messages (evnt_mesag/multi) ausgegeben
  werden. Damit sieht man auch Messages vom Screenmanager (die MagiC
  nicht Åber appl_write verschickt, sondern irgendwie intern...)

- Parameter bei VDI "prinzipiell" eingebaut (den Code dazu).

- Ein paar Parameter bei VDI-Funktionen eingetragen.

- RÅckgabeparameter bei VDI "prinzipiell" eingebaut (den Code dazu).

- Ein paar RÅckgabeparameter bei VDI-Funktionen eingetragen.


3.6.98:
======

- Ein paar symbolische "mode"-Namen bei wind_get/set ergÑnzt.

- Returnwerte bei VDI eingebaut. Bisher wird (wie bei AES auch) immer
  intout[0] angezeigt - d.h. auch bei void-Funktionen.

  Bessere Anzeige der RÅckgabewerte bei AES und VDI kommt noch...

- Returnwerte bei Xbios und Bios eingebaut.


2.6.98:
======

- Unbekannte Programmnamen (sowohl Prozeû- als auch Applikationsnamen)
  werden jetzt mit "<???>" statt wie bisher mit "<unknown>"
  bezeichnet.

- Unbekannte Prozeûnamen (nicht Applikationsnamen!) werden intern
  jetzt immer mit "<???>" gefÅhrt anstatt wie bisher mit Nullpointer.
  Dadurch kann man "<???>" auch bei show_prg()/hide_prg() benutzen.
  Das ist wichtig, wenn man sich im include_prgs()-Modus auch Aufrufe
  unbekannter Prozesse anzeigen lassen will (show_prg("<???>") oder
  man umgekehrt im exclude_prgs()-Modus (default) Aufrufe unbekannter
  Prozesse ausblenden will (hide_prg("<???>")).


1.6.98:
======

- opcode() erweitert: kurze Trap-Anzeige.

- Restliche Message-Parameter ergÑnzt.

- Manitor nimmt bei seinem evnt_multi jetzt das richtige global-Feld
  und erscheint deswegen jetzt nicht mehr als "jinnee" (pid 0).

- ein per terminate()-Kommando (oder AP_TERM) zum Beenden
  aufgeforderter Manitor, der jedoch noch auf Returns warten muû, kann
  jetzt mit activate() wieder zum Weiterlaufen bewegt werden.


31.5.98:
=======

- Als Default-Logfile wird jetzt der Wert der Environmentvariable
  $MANITORLOG genommen, falls vorhanden.

- Die meisten Parameter bei Messages ergÑnzt. (z.B. OLGA,
  AV-Protokoll, KOBOLD, GEM-Standard-Messages, XAcc, Font usw.)

- Scripts etwas Åberarbeitet.


30.5.98:
=======

- Ausgabe der Message-Namen eingebaut (AES, AV, GEMScript, OLGA,
  BubbleGEM, XAcc, SE, KOBOLD, Font, MenÅ und viele weitere...). Die
  meisten jedoch noch ohne Parameter.

  Beispiel: MESSAGE.SIC - protokolliert alle auftretenden Messages.

- Parameter bei GEMScript-Messages, OLGA, BubbleGEM und
  VA_START/AV_STARTED ergÑnzt.

- Neue GEMScript-Kommandos hide_msg() und show_msg() um Messages zu
  filtern.

  Beispiel: OLGA.SIC - protokolliert alle OLGA-Messages.

- Neues GS-Kommando clear_prgfilter(): Leert die Programm-Filter-
  Liste.

- ErklÑrung von exclude_prgs, include_prgs, show_prg, hide_prg und
  clear_prgfilter jetzt etwas besser (MAN_GSCR.TXT).

- Neues GS-Kommando preset(): Stellt Manitor wieder in den
  Ursprungszustand, d.h. es wird wieder alles getraced.

  Beispiel: ALL.SIC

- Wurde eine AES-Funktion anhand contrl[0], contrl[1] und contrl[3]
  nicht gefunden, so wird jetzt die erste Funktion in der Liste mit
  passendem opcode (contrl[0]) genommen. Z.B. CAT fÅllte contrl[1/3]
  manchmal nicht richtig aus.

- aes() um weiteren Parameter erweitert: show_msg_pnam konfiguriert,
  ob bei Messages der Prozeûname des Versenders angezeigt werden soll.


29.5.98:
=======

- Manitor verschickt beim Schlieûen des Logfiles ein entsprechendes
  SH_WDRAW an Applikation #0.

- Manitor kann jetzt per GEMScript gesteuert werden! :-)
  Beschreibung der Kommandos in MAN_GSCR.TXT.

- GS-énderung: bei aes(), vdi() usw. kînnen Parameter auf -1 gesetzt
  werden, das bedeutet, daû der derzeitige Wert nicht verÑndert wird.
  Gleicher Effekt beim Weglassen der Parameter.

- Neuer Parameter bei aes(): Konfiguriert die Anzeige der Messages.

- Kein Bus-Error bei Ausgabe der appl_find-Parameter mehr.

- Jetzt vollstÑndig auf MT_AES umgestellt...

- Returnwert von activate() erweitert: 2 heiût "lief schon".


28.5.98:
=======

- Manitor intern umgestellt und auf "Fernsteuerung" vorbereitet.
  Diverse Filtermîglichkeiten eingebaut. Schnittstelle fÅr externe
  Programme fehlt noch.

- Programmnamen-Ausgabe (eckige Klammern) nochmal geÑndert:
  Jetzt kommt IMMER der Prozeûname an erster Stelle.
  Bei AES-Funktionen kommt dahinter die AES-ID, und dann - falls
  bekannt - der Applikationsname.

  Grund: Oft ist die apid (global[2]) bei Programmmen falsch gesetzt
  und daher wurde bei AES-Aufrufen oft der falsche Applikationsname
  angezeigt. Jetzt hat man grundsÑtzlich den Prozeûnamen, der stimmt
  immer (falls _PNAM existiert, ansonsten kommt "<unknwon>").

- Da das leider ziemlich unÅbersichtlich aussah, ergÑnze ich jetzt die
  Programmnamen-Angaben so mit Leerzeichen, daû die Funktionen
  linksbÅndig untereinander stehen.

- Leerzeichen am Ende von Applikations-Namen werden jetzt entfernt.

- Gemdos: Ssystem() ergÑnzt.


27.5.98:
=======

- Erst jetzt diese History angefangen, d.h. es fehlt bestimmt was. ;-)

- VDI-Funktionen werden jetzt auch "gehashed", d.h. Manitor ist jetzt
  etwas schneller.

- Bombige Exceptions 2 bis 5 (Bus Error, Adress Error, Illegal und
  Division durch 0) werden abgefangen und mitprotokolliert. MagiC
  beendet ja nur den einen Prozeû, das Logfile wird aber
  weitergeschrieben und somit sieht man, an welchen Stellen solche
  Fehler auftraten.

- viele AES-Parameter ergÑnzt.


26.5.98:
=======

- Beim appl_init-Aufruf wird nicht nach der zugehîrigen
  GEM-Applikation gesucht, da das global-Feld ja noch gar nicht
  initialisiert ist, d.h. die apid noch gar nicht stimmt.

- Ausgabe der RÅckgabewerte fÅr Gemdos und AES eingebaut. Beim Beenden
  von Manitor muû dieser jetzt solange warten, bis alle Funktionen
  "zurÅckgekehrt" sind.

- Damit evnt-Funktionen zurÅckkehren, verschickt Manitor am Ende
  MSG_NOEVENT an alle Applikationen.

- Alle VDI-Funktionsnamen ergÑnzt (auch von NVDI 5)

- weitere Funktionsnamen... (z.B. von WDIALOG)


25.5.98:
=======

- Programmnamen werden Åber die Environment-Variable _PNAM erkannt.

- Funktionsnamen...

- weiû nimmer...


24.5.98:
=======

- GrundgerÅst steht. Bios-, Xbios-, Gemdos-, VDI- und AES-Traps werden
  abgefangen, LOG-File wird geschrieben. :-)

- Die meisten Funktionsnamen ergÑnzt.

- Zu viel um hier aufzuzÑhlen. ;-)


23.5.98:
=======

- "Start from the Scrap" ;-)
