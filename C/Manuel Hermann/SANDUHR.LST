'
'       --- HOURGLASS ---
'       von Manuel Hermann
'      fr das TOS-Magazin
'      (c) 1993 ICP-Verlag
'
init_hourglass
hourglass(35)
'
REPEAT
UNTIL MOUSEK OR LEN(INKEY$)
'
hourglass(0)
EDIT
'
'
> PROCEDURE hourglass(t&)   !Animation starten/beenden
  IF t&<=0
    EVERY STOP
    ~GRAF_MOUSE(0,0)        !ARROW
  ELSE
    EVERY t& GOSUB change_mouse
  ENDIF
RETURN
> PROCEDURE change_mouse    !Animation durchfhren
  IF mouse_cn&>8
    CLR mouse_cn&
  ENDIF
  '
  ~GRAF_MOUSE(255,V:glass_seq&(mouse_cn&*37))
  INC mouse_cn&
RETURN
> PROCEDURE init_hourglass  !Grafikdaten einlesen
  '
  LOCAL m&,z&,a%
  '
  DATA 1,1,1,0,1
  DATA $0FF0,$1FF8,$1FF8,$1FF8,$1FF8,$1FF8,$0FF0,$0FF0,$0FF0,$0FF0,$1FF8,$1FF8,$1FF8,$1FF8,$1FF8,$0FF0
  DATA $0000,$07E0,$0D50,$0AB0,$0D50,$06A0,$0760,$0240,$0340,$0660,$0520,$0810,$0810,$0810,$07E0,$0000
  '
  DATA 1,1,1,0,1
  DATA $0FF0,$1FF8,$1FF8,$1FF8,$1FF8,$1FF8,$0FF0,$0FF0,$0FF0,$0FF0,$1FF8,$1FF8,$1FF8,$1FF8,$1FF8,$0FF0
  DATA $0000,$07E0,$0810,$0AB0,$0D50,$06A0,$0760,$02C0,$0340,$06E0,$0520,$0890,$0910,$0890,$07E0,$0000
  '
  DATA 1,1,1,0,1
  DATA $0FF0,$1FF8,$1FF8,$1FF8,$1FF8,$1FF8,$0FF0,$0FF0,$0FF0,$0FF0,$1FF8,$1FF8,$1FF8,$1FF8,$1FF8,$0FF0
  DATA $0000,$07E0,$0810,$0810,$0D50,$06A0,$0760,$02C0,$0340,$06E0,$0520,$0890,$0910,$0AB0,$07E0,$0000
  '
  DATA 1,1,1,0,1
  DATA $0FF0,$1FF8,$1FF8,$1FF8,$1FF8,$1FF8,$0FF0,$0FF0,$0FF0,$0FF0,$1FF8,$1FF8,$1FF8,$1FF8,$1FF8,$0FF0
  DATA $0000,$07E0,$0810,$0810,$0810,$04A0,$0760,$02C0,$0340,$06E0,$0520,$0890,$0D50,$0AB0,$07E0,$0000
  '
  DATA 1,1,1,0,1
  DATA $0FF0,$1FF8,$1FF8,$1FF8,$1FF8,$1FF8,$0FF0,$0FF0,$0FF0,$0FF0,$1FF8,$1FF8,$1FF8,$1FF8,$1FF8,$0FF0
  DATA $0000,$07E0,$0810,$0810,$0810,$0420,$0660,$02C0,$0340,$06E0,$0520,$0890,$0D50,$0AB0,$07E0,$0000
  '
  DATA 1,1,1,0,1
  DATA $0FF0,$1FF8,$1FF8,$1FF8,$1FF8,$1FF8,$0FF0,$0FF0,$0FF0,$0FF0,$1FF8,$1FF8,$1FF8,$1FF8,$1FF8,$0FF0
  DATA $0000,$07E0,$0810,$0810,$0810,$0420,$0660,$0340,$02C0,$0760,$06A0,$0D50,$0AB0,$0D50,$07E0,$0000
  '
  DATA 1,1,1,0,1
  DATA $00E0,$01F0,$03F8,$03FC,$03FE,$03FF,$07FF,$7FFF,$FFFF,$FFFC,$FFC0,$FF80,$7F80,$3F80,$1F80,$0F00
  DATA $0000,$0040,$00A0,$0110,$0108,$0104,$0102,$0356,$7EF8,$5580,$6B00,$3500,$1B00,$0D00,$0600,$0000
  '
  DATA 1,1,1,0,1
  DATA $0000,$0000,$0000,$7C3E,$FFFF,$FFFF,$FFFF,$FFFF,$FFFF,$FFFF,$FFFF,$FFFF,$7C3E,$0000,$0000,$0000
  DATA $0000,$0000,$0000,$0000,$381C,$6E62,$57C2,$6A82,$5542,$6BC2,$5662,$381C,$0000,$0000,$0000,$0000
  '
  DATA 1,1,1,0,1
  DATA $0700,$0F80,$1FC0,$3FC0,$7FC0,$FFC0,$FFE0,$FFFE,$FFFF,$3FFF,$03FF,$01FF,$01FE,$01FC,$01F8,$00F0
  DATA $0000,$0200,$0500,$0A80,$1580,$2A80,$5580,$6AC0,$1F3E,$0182,$0082,$0084,$0088,$0090,$0060,$0000
  '
  DIM glass_seq&(9*37-1)
  '
  CLR m&
  FOR z&=0 TO 9*37-1
    READ a%
    DPOKE V:glass_seq&(m&),a%
    INC m&
  NEXT z&
  '
RETURN
