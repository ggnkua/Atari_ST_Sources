#---------------------------------------------------------------------
#
#	gcc makefile for gemGS
#
#---------------------------------------------------------------------

SRC = gemgs.c util.c ps.c strcasec.c

OBJ = gemgs.o util.o ps.o strcasec.o

ARCHIVE = keys.h objects.h ps.h stdc.h gemgs.c ps.c strcasec.c \
	util.c gemgs.doc gemgs.prg gemgs.rc makefile

OPTIONS = -O -fwritable-strings
#OPTIONS = -g -fwritable-strings

gemgs.prg: $(OBJ)
	gcc -s -o gemgs.prg $(OPTIONS) $(OBJ) -lgem -lpml

symbol: $(OBJ)
	sym-ld -r -o gemgs.sym $(OBJ) g:\\gcc\\lib\\gcrt0.o -lgem

archive: $(ARCHIVE)
	c:\bin\zoo.ttp ah gemgs13.zoo $(ARCHIVE)

gemgs.o:	gemgs.c objects.h keys.h
	$(CC) -c $(OPTIONS) $*.c

util.o:		util.c
	$(CC) -c $(OPTIONS) $*.c

ps.o:		ps.c ps.h
	$(CC) -c $(OPTIONS) $*.c

strcasec.o:	strcasec.c stdc.h
	$(CC) -c $(OPTIONS) $*.c
