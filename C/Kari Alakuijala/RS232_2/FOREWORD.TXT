Oulu, Finland 1.1.-89                Kari Alakuijala (C) (Copyright)
                                     Atraintie 6
                                     90550 Oulu
                                     Finland, Europe



       This archive contains thorough instructions of how to install a
COMPLETE SECOND RS-232 PORT into your ST. And it is made cheap; all parts
you need cost LESS THAN 3$. However, the author (Kari Alakuijala) doesn't
take any responsibility of possible damages made to your computer during
installation, so you'd be better read instructions carefully.
       You may give a copy of this archive to your friend. You can
upload it to BBSes; this archive is PD. Do anything you want with this
archive, but please don't modify it. There might be a small bug in these
instructions, but the best way is to ignore it (if you can). Letting the
author know of the possible bug is the thing you can do to help.
       If you want to install this archive/part(s) of it to a commercial
BBS package, please contact the author. Also, if you want to release an
article based upon this archive or to earn money with the help of this
archive, you'll need to contact the copyright owner first, so we can agree
upon the royalty questions.
       The archive RS232-2.ARC contains the following files:
         FOREWORD.TXT         -This foreword
         HARDRS2.TXT          -Complete hardware installation manual
         SOFTRS2.TXT          -Software reference for those interested
         TROUBLE.SHT          -Find & eliminate troubles occurred
         MIDITERM.TOS         -This is a VT52 -terminal programme for
                               testing the 2nd RS-232 -interface.
         MIDITERM.C           -C source of the above.

       This manual consists of three paragraphs. The first (foreword.txt) is
a short presentation of principles used. The second is the actual complete
installation guide (hardrs2.txt). You should print the hardrs2.txt and the
trouble.sht -texts. The third one (which you don't need to use necessarily)
is the softrs2.txt. It contains all memory locations used by the second RS
circuit. The reason why you don't need to read it necessarily is: the 2nd RS
is software supported by bios. It is the MIDI- interface of Atari ST used
at a different clock speed.
       You should print the hardrs2.txt and use the printed version when
installing chips, since it is more handy that way. This manual is only a
written document (no extra pictures are available), because all SYSOPs
who want to install a second RS-port for a second telephone line or for
a terminal may not have the same picture drawing programme as I happen
to have.
       The 2nd RS -port is made to be easily variable in speed; speeds can
be easily selected to be any value from 75 to 19200 bits per second.

       The principle to make this kind of "additional" RS -port possible
is called Kari's axiom :-). It is: if you use BBS on ST you don't use MIDI. 
Also, the transfer protocols are similar. This is why we can use the MIDI chip
as additional RS-232 chip by altering RX/TX clock speed. When we use MIDI
software, we can flick a switch and voila, the midi is back. This is done
simply by bringing two different frequencies to the switch and swapping the
frequencies with a little help from the switch. The one frequency is 500kHz
and the other is variable. By swapping these frequencies you can get serial
data rates of 500kHz/16= 31250Hz (which is MIDI's data rate) and a variable
data rate of 1.2kHz/16 to 307.2kHz/16 = a data rate between 75 Hz (lowest)
and 19.2 kHz (=19200 bps, which is RS's highest data rate). The variable
clock frequency is generated by the unused TIMER A of the multifunction
peripheral MC68901.


