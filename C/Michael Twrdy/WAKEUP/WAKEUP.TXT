


             W A K E U P - E R L é U T E R U N G E N
             =======================================

Nach  langem GrÅbeln  und dem Dank von so  einigen Bîmbchen  beim
Austesten hat  sich doch  eine  Lîsung fÅr das  folgende  Problem
gefunden. Der Grund fÅr dieses  kleine  Programm  war, daû es mir
unnîtig  erschien, den angeschlossenen  Laserdrucker  laufend  in
Betrieb  zu  haben. Doch stellte  sich sehr bald  heraus, daû der
Drucker bei der Einschaltreihenfolge der GerÑte:


         1. Rechner + Harddisk etc.
         2. Laserdrucker

trotz  seiner  Online-Bereitschaft  keine  Daten  mehr   annehmen
konnte.   Daher   ging   ich  der  Sache   auf   den  Grund   und
stellte  fest, daû es offenbar am fehlenden STROBE-Impuls fÅr den
Laserdrucker   liegt,  den  dieser  bei  einem  RESET  oder  beim
Einschalte des Rechners normalerweise erhÑlt.
Die Lîsung schien  einfach.  Das Strobesignal  wird von einem Bit
des Ausgangsport  A des Soundchip geliefert und kann mittels  der
beiden XBIOS-Routinen ONGIBIT und OFFGIBIT ein- und ausgeschaltet
werden.  In der mir  zur VerfÅgung  gestandenen  Literatur  steht
Åberall  als öbergabeparameter die Bitnummer. In diesem Fall also
als Parameter 5, da  dieses  Bit  das Strobesignal reprÑsentiert.
Doch  dann kam das Groûe Erstaunen, denn  es tat sich genaugesagt
absolut nichts. Die BestÑtigung erhielt ich durch die Abfrage des
Centronics-Status  und der war immer '0', was gleichbedeutend mit
"nicht bereit zum Zeichenempfang" steht.
Der direkte Aufruf der XBIOS-Funktionen mittels Assembler brachte
auch nicht den gewÅnschten Erfolg,  also machte ich mich auf  die
Suche. Die Lîsung fand ich im Buch ATARI ST Intern auf Seite 440.
Auf  dieser  Seite  befindet  Sich  der  Assembler-Quelltext  der
XBIOS-Routinen  ONGIBIT  und OFFGIBIT. Und  da stand des  RÑtsels
Lîsung:


         moveq.l   #0,d2
         move.w    4(a7),d2  ;Bitmuster holen
         .
         .
         .
         or.b      d2,d0     ;Bits zu altem Wert dazuodern
         .
         .
         .


Es  muû nÑmlich das BITMUSTER und nicht wie  fÑlschlich  (auch in
diesem  Buch und in anderer  Literatur)  angegeben  die BITNUMMER
Åbergeben  werden, da  ja der  Åbergebene Parameter 'dazugeodert'
wird.
Hier mÅssen also fÅr Bitnummer 5 die Bitmuster

                        11011111 fÅr OFFGIBIT
                                 und
                        00100000 fÅr ONGIBIT

Åbergeben werden !!!

Jetzt endlich, nach langem Suchen gab es endlich die Meldung:

        CENTRONICS-STATUS = -1  ---> also zur Annahme fÅr Daten
                                              bereit.

Ich hoffe, daû  damit eine weitere kleine  'Ungenauigkeit' in der
Literatur  Åber  den  ATARI  ST  aus  der  Welt   geschafft  ist.

FÅr  den  Einbau  der  Routinen  in  eigene  Programme  oder  als
eigenstÑndiges Programm sind auf dieser  Diskette kurze Programme
in verschiedenen  Hochsprachen und auch  fÅr Assembler enthalten.

                FÅr Fragen oder Anregungen bitte an:

                PDST-Public Domain & Shareware Twrdy
                          Michael Twrdy
                           Postfach 24
                           A-1035 Wien

                       Tel.: 0222/7527212

              oder schickt mir doch mal eine mail an:

                 michit@vraanz.pri.univie.ac.at


                         Viel Spaû !

Wien, 30.1.1991
