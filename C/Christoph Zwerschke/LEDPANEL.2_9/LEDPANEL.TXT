LED-Panel v2.9 (c) 1992-95 by Christoph Zwerschke
=================================================

Sinn und Zweck des LED-Panels
-----------------------------
Das Programm "LED-Panel" dient im wesentlichen dazu, Zugriffe auf 
BIOS-Laufwerke (Floppy, Harddisk, RAM-Disk usw.) sichtbar zu ma- 
chen, und zwar nach Laufwerken und Art des Zugriffs (lesend oder 
schreibend) aufgeschlÅsselt. Als Zusatz-Optionen kann das Programm 
aber auch noch den Status der CapsLock-Taste sowie Datum und Uhr-
zeit anzeigen. Alle Informationen werden kompakt in der rechten
oberen Bildschirmecke ausgegeben (weil dieser Platz unter GEM
normalerweise nicht fÅr andere Zwecke benutzt wird; hier ist ja
meist nur das leere rechte Ende der MenÅ-Leiste zu sehen).

EinschrÑnkungen
---------------
Mit den meisten Grafikkarten und "True Color" wird das LED-Panel
nicht einwandfrei laufen. Die GrÅnde dafÅr sind im Abschnitt
"Technisches" zu finden. Das Problem kann aber eigentlich grund-
legend nur durch ein vîllig neues Konzept gelîst werden, etwa
LED-Panel statt als "TSR"-Programm aus dem AUTO-Ordner als eine
"gewîhnliche Applikation" im Hintergrund laufen zu lassen.
Letzteres wÑre zumindest unter MagiX und NVDI mîglich. Vorerst
wird es aber bei dieser Version des LED-Panels bleiben.

Das LED-Panel-Programm
----------------------
Das eigentliche Programm, das sich resident im Speicher instal- 
liert und dann stÑndig die Laufwerkszugriffe in der MenÅ-Leiste
anzeigt, hat den Namen "LEDPANEL.PRG". Es darf nicht "gepackt"
werden, damit die in der Programmdatei enthaltene Konfiguration
geÑndert ("gepatcht") werden kann. Das Programm kann vom Desktop
gestartet werden, oder aus dem AUTO-Ordner, wenn das LED-Panel
bei jedem "Warmstart" des Rechners automatisch installiert werden
soll. LEDPANEL.PRG sollte dabei mîglichst weit "hinten" im AUTO- 
Ordner stehen. "MiNT" kînnte in Versionen vor 1.02 Probleme mit
LED-Panel haben, die an MiNT liegen. Mit neueren MiNT-Versionen,
MultiTOS, KAOS und MagiX lÑuft LED-Panel problemlos.

Das Konfigurierungs-Programm
----------------------------
Zur Konfigurierung des laufenden Programms und der Programmdatei
LEDPANEL.PRG dient das Programm CONFIG.PRG. Das Programm kann auch
in CONFIG.ACC umbenannt und als Accessory gestartet werden. Ist
das LED-Panel nicht aktiv, dann wird am Anfang des Programms in
einer Datei-Auswahl-Box nach der Datei LEDPANEL.PRG gefragt.

Danach erscheint eine Dialog-Box, die "LED-Panel Konfiguration"
betitelt ist. Hiermit kînnen Sie nun das LED-Panel individuell
konfigurieren, also Ihrem persînlichen Bedarf, Geschmack und Ihrer
sonstigen Rechnerkonfiguration anpassen. Ist das LED-Panel aktiv,
dann kînnen die Auswirkungen dabei gleichzeitig auf dem Bildschirm
beobachtet werden. Die einzelnen Optionen erklÑren sich mehr oder
weniger von selbst. Hier aber eine kurze ErlÑuterung aller im
Dialog angezeigten Knîpfe (von oben nach unten):

"Laufwerke:"
Ist der Knopf "angemeldete" gewÑhlt, dann werden genau diejenigen
Laufwerke von LED-Panel berÅcksichtigt, die im Betriebssystem
(BIOS) auch angemeldet sind. Ist er deaktiviert, kann mit den
Knîpfen daneben eine beliebige andere Laufwerkskonfiguration fÅr
das LED-Panel eingestellt werden.

"Verzîgern"
Hiermit bestimmt man, wie lange die LEDs nach dem letzten Zugriff 
auf ein Laufwerk nachleuchten sollen. Der Wert 0 bedeutet "kein 
Nachleuchten". Ist eine ausreichend groûe Nachleuchtdauer einge- 
stellt, dann kînnen auch sehr kurze Zugriffe noch erkannt werden.

"Abstand"
Dies ist der Abstand zwischen dem rechten Rand des LED-Panels und 
dem rechten Rand des Bildschirms. Dabei bedeutet der Wert 0 "ganz
rechts". Man kann so rechts vom LED-Panel noch Platz frei halten,
auf dem andere Programme Informationen anzeigen kînnen.

"Caps"
Hiermit kann der CapsLock-Status links vom LED-Panel angezeigt
werden. Mit einem Knopf darÅber kann auûerdem gewÑhlt werden,
welches Symbol bei eingeschaltetem CapsLock erscheinen soll.

"R/W"
Ist dieser Knopf gewÑhlt, dann werden Laufwerkszugriffe durch die
Symbole "R" (fÅr "Read", also Lesezugriffe) und "W" (fÅr "Write",
also Schreibzugriffe) angezeigt.

"LEDs"
Ist dieser Knopf gewÑhlt, werden Laufwerkszugriffe durch "LEDs" 
und nach Laufwerken aufgeschlÅsselt angezeigt. Die LED ganz links 
steht dabei normalerweise fÅr das Laufwerk A (erste Floppy), die 
nÑchste fÅr Laufwerk B (zweite Floppy) usw. bis zur LED ganz 
rechts, die fÅr das letzte angemeldete Laufwerk steht. Welche 
Laufwerke angezeigt werden, kann allerdings auch beliebig geÑndert 
werden (siehe unter "Laufwerke: angemeldete").

"Datum"
Damit wird das aktuelle Datum rechts vom LED-Panel angezeigt. Mit
zwei Knîpfen darÅber kann eingestellt werden, ob bei der Anzeige
"Digitaluhr-Ziffern" verwendet werden sollen und ob das Jahr auch
mit angezeigt werden soll.

"Zeit"
Damit wird stÑndig die Uhrzeit rechts vom LED-Panel angezeigt. Mit
zwei Knîpfen darÅber kann eingestellt werden, ob bei der Anzeige
"Digitaluhr-Ziffern" verwendet werden sollen und ob die Sekunden
auch mit angezeigt werden sollen (die Anzeige springt dabei alle
zwei Sekunden).

"2in1"
Dieser Knopf erscheint statt "Jahr", wenn die Uhrzeit angezeigt
wird, aber nicht das Datum. Man kann mit dem Knopf wÑhlen, ob
bei gedrÅckter Alternate-Taste das Datum anstelle der Uhrzeit
in die Anzeige geholt werden soll - dadurch wird die Anzeige
insgesamt platzsparender. Experimentieren Sie einfach ein biûchen
mit den Knîpfen, die Datum und Uhrzeit betreffen. Die Anzeige ist
wirklich sehr variabel und hÑngt auch noch davon ab, wie der
sogenannte "International-Date-and-Time-Cookie" gesetzt ist.

"Uhrensymbol"
Mit diesem und einigen nicht beschrifteten Knîpfen kînnen kleine 
ZwischenrÑume zwischen den einzelnen Anzeigeblîcken des LED-Panels 
geschaffen werden. Die Knîpfe sind dabei genauso angeordnet wie 
die ZwischenrÑume.

"LÅcken"
Dieser Knopf bestimmt, ob fÅr nicht benutzte oder nicht als LED
angezeigte Laufwerkskennungen entsprechende LÅcken im LED-Panel
gelassen werden sollen oder nicht.

"B gleich A"
Ist dieser Knopf gewÑhlt, dann werden Zugriffe auf Laufwerk B 
(zweite Floppy) wie Zugriffe auf Laufwerke A (erste Floppy) be- 
trachtet und fÅr beide Floppies erscheint nur eine einzige LED.

"runde LEDs"
Hiermit kann die "Bauform der Leuchtdioden" im LED-Panel gewÑhlt
werden, es sind nun sowohl eckige als auch runde LEDs mîglich.

"Zusatz-LÅcken"
Hiermit kînnen Zusatz-LÅcken zwischen den LEDs angezeigt werden.
Es gibt dafÅr drei Mîglichkeiten: Der Knopf "Åberall" bewirkt, daû
eine LÅcke zwischen allen LEDs angezeigt wird. Mit den beiden mit
Laufwerksbuchstaben beschrifteten Knîpfen wird eine Zusatz-LÅcke
vor zwei beliebigen Laufwerken angezeigt. Die beiden Laufwerke
kînnen aber mit den vier Pfeilknîpfen auch anders gewÑhlt werden.
Empfehlenswert wÑre hier Laufwerk C (das ist die erste Harddisk)
und eventuell zusÑtzlich Laufwerk M (normalerweise eine RAM-Disk).

"Anzahl Zeilen"
Bestimmt, aus wieviel LED-Zeilen das LED-Panel bestehen soll; es
gibt hier ebenfalls drei Mîglichkeiten: Mit dem Knopf "passend"
wird die Anzeige automatisch an die Hîhe der MenÅleiste angepaût,
der Knopf "eine" bedeutet, daû nur eine Zeile LEDs angezeigt wird
(die LEDs in dieser Zeile werden dann sowohl fÅr Lese- als auch
fÅr Schreibzugriffe benutzt) und der Knopf "zwei" bedeutet, daû
zwei Zeilen LEDs angezeigt werden, die obere fÅr Lesezugriffe und
die untere fÅr Schreibzugriffe.

"Hintergrund schwarz"
Hiermit kann die Hintergrundfarbe fÅr das LED-Panel eingestellt
werden, entweder als Schwarz oder als Weiû (allerdings sieht es
in Monochrom-Auflîsungen bei weiûem Hintergrund mehr nach einem
"LCD"- als nach einem "LED"-Panel aus).

"farbige LEDs"
Ist dieser Knopf gewÑhlt, dann leuchten die LEDs und die Symbole 
"R" und "W" in Farb-Auflîsungen farbig, und zwar grÅn bei Lese-
und rot bei Schreibzugriffen.

"Help"
Mit diesem Knopf kann ein Hilfe-Dialog angezeigt werden.

"Undo"
Damit werden alle im Dialog vorgenommenen Einstellungen wieder
zurÅckgenommen.

"Anzeige aktiv"
Mit diesem Knopf aktiviert oder de-aktiviert man die gesamte
Anzeige des LED-Panels.

"Einlesen"
Hiermit kann die Konfiguration der Programmdatei LEDPANEL.PRG
eingelesen werden. Es erscheint eine Datei-Auswahl-Box.

"Speichern"
Hiermit kann die gewÑhlte Konfiguration in die Programmdatei
LEDPANEL.PRG zurÅckgeschrieben werden. Es erscheint ebenfalls
eine Datei-Auswahl-Box. Die vorgenommenen Einstellungen sind
dann beim nÑchsten Aufruf von LED-Panel automatisch gesetzt.

"OK"
Mit diesem Knopf wird das Konfigurationsprogramm verlassen.

LED-Panel "light"
-----------------
Wenn Sie nur das eigentliche LED-Panel benîtigen, kînnen Sie auch 
die "light"-Version des LED-Panels benutzen, ersetzen Sie dazu 
einfach LEDPANEL.PRG durch LEDLIGHT.PRG. Die zusÑtzlichen Optionen
der Standard-Version sind in der "light"-Version nicht vorhanden 
und werden auch vom Konfigurierungs-Programm nicht angezeigt.
Kleiner Tip am Rande: Wenn Sie mehrere LED-Panels gleichzeitig
verwenden wollen (jemand wollte z.B. eins vor und eins nach einem
Cache-Programm starten, um verzîgertes Schreiben deutlich sichtbar
zu machen), dann mÅssen Sie dafÅr sorgen, daû diese verschiedene
"Kennungen" bekommen, da sonst immer nur ein LED-Panel installiert
wird, was ja auch normalerweise sinnvoll ist. Nehmen wir aber etwa
an, Sie wollen sowohl LEDPANEL.PRG als auch LEDLIGHT.PRG im AUTO-
Ordner starten. Suchen Sie dann mit einem Diskmonitor die Kennung
"LEDP" in LEDLIGHT.PRG, sie mÅûte genau fÅnfmal vorkommen, und
ersetzen Sie jedesmal "LEDP" durch, sagen wir, "LEDL". Sie kînnen
auch eine Kopie von CONFIG.PRG anlegen, sagen wir CONFIGL.PRG, bei
der Sie die Kennung "LEDP" ebenfalls durch "LEDL" ersetzen, sie
mÅûte hier genau einmal auftauchen. Sie kînnen dann LEDLIGHT.PRG
unabhÑngig von LEDPANEL.PRG konfigurieren, und zwar LEDPANEL.PRG
mit CONFIG.PRG und LEDLIGHT.PRG mit CONFIGL.PRG.

Das CPX-Modul
-------------
Wenn Sie das "variable Kontrollfeld" von Atari (auch "XControl" 
genannt) benutzen, kînnen Sie LED-Panel auch mit einem CPX-Modul
von Th. Morus Walter konfigurieren. Kopieren Sie dazu einfach
LEDPANEL.CPX in den CPX-Ordner. Es enthÑlt im wesentlichen die
gleichen Bedienelemente wie das oben beschriebene Konfigurierungs-
programm, speichert die Konfiguration aber nicht in LEDPANEL.PRG, 
sondern im CPX-Modul. Die Konfiguration des CPX-Moduls hat dabei
Vorrang vor der in LEDPANEL.PRG gespeicherten Konfiguration. Die
Sourcen und weitere Hinweise zum CPX-Modul befinden sich im Ordner 
SOURCE.CPX (an dieser Stelle herzlichen Dank an Th. Morus Walter).

Tips und weitere nÅtzliche Hilfsprogramme
-----------------------------------------
Ein Problem bilden Programme mit Åberlangen MenÅ-Leisten und
Programme, die den rechten Rand der MenÅ-Leiste fÅr eigene Zwecke
benutzen. Wer will, kann ein Zusatzprogramm schreiben, das in
diesen FÑllen das LED-Panel automatisch oder mit einem bestimmten
"Hotkey" abschaltet oder eine platzsparendere Konfiguration wÑhlt
oder Ñhnliches (siehe auch die Hinweise unter "Technisches").
Von mir gibt es ein Accessory namens "Switcher", das beliebige
Programme/Optionen per Hotkey Åber das Cookie-Interface ein- und
ausschalten kann, insbesondere natÅrlich auch das LED-Panel.
Um Platz zu sparen, epfiehlt es sich vor allem, die "LEDs" durch
das "R/W"-Symbol zu ersetzen und bei der Anzeige des Datums den
"2in1"-Trick anzuwenden (s.o.). Eine wirklich befriedigende Lîsung
bietet aber nur eine hîhere Bildschirmauflîsung (bestens bewÑhrt
hat sich bei mir die hohe TT-Auflîsung; mîglich sind hîhere Auf-
lîsungen aber auch z.B. mittels "OverScan" oder "Screenblaster").
Einige andere Hilfsprogramme, die ich im Zusammenhang mit "LED- 
Panel" noch erwÑhnen sollte: Die Programme "DirSort" (sortiert 
Directories, insbesondere den AUTO-Ordner) und "TrueDisk" (eine 
residente RAM-Disk), beide von mir geschrieben. Auûerdem als
Alternative zur Datums/Uhrzeit-Anzeige in "LED-Panel" die "Little
Clock" von Robert Irrgang, die witzige "Fuzzy-Clock" von Stefan
Radermacher, sowie das Programm "ShowTime" von Matthias Wallmann.
Die Programmierer und Programme sind zur Zeit alle im "Maus-Netz"
zu finden (Matthias Wallmann @OS, Stefan Radermacher @K, Robert
Irrgang @KA, Christoph Zwerschke @KA).

Technisches
-----------
Das LED-Panel wurde als "TSR-Programm" realisiert. Dadurch war
leider teilweise "unsaubere" Programmierung erforderlich. Auf
einem "normalen" Atari ST bringt dies Lîsung aber nur Vorteile;
als "sauberes" Accessory wÅrde "LED-Panel" einen Accessory-Platz
wegnehmen, den Rechner zu stark abbremsen und das Wechseln der
Bildschirmauflîsung ist bei einem Accessory, das sich wie LED-
Panel in Systemtemvektoren hÑngt, sehr problematisch, da die
Accessories bei Auflîsungswechseln "ohne vorherige Warnung" neu
geladen werden. Erst auf schnelleren Rechnern mit Multitasking-
Betriebssystem (etwa TT mit MagiX und NVDI) ist ein Programm wie
LED-Panel als normale, "saubere" Applikation realisierbar. Es ist
denkbar, daû die nÑchste Version von LED-Panel so aussieht. Das
Programm wurde in Assembler geschrieben und ist daher kompakt und
schnell. Der residente Teil des LED-Panels belegt keinen nennens-
werten Speicherplatz. Das Programm benutzt die Cookie- und XBRA-
Kennung "LEDP". Es hÑngt sich in den "hdv_rw"-Vektor und belegt
einen "VBl-Slot". Die Ausgabe wird direkt in den Bildschirm ge-
schrieben und im VBl-Interrupt aufgefrischt, wenn dies nîtig ist.
Zur Bestimmung der Bildschirmzeilen und Farbebenen werden die
Line-A-Variablen ausgewertet. Das LED-Panel kommt daher nur mit
den Standard-Bildschirm-Auflîsungen und dem bekannten "OverScan",
aber wohl mit den wenigsten Grafik-Karten und mit "True Color"
zurecht. LED-Panel benutzt nun das XSSI-Protokoll, um die Ausgabe
zu unterdrÅcken, wenn ein Bildschirmschoner aktiv ist. Dazu muû
allerdings der XSSI-Cookie beim Start von LED-Panel gesetzt sein,
was ein Grund ist, warum LED-Panel mîglichst spÑt im AUTO-Ordner
gestartet werden sollte (Ñltere Versionen von "Before Dawn" setzen
den Cookie leider sogar erst im Accessory). Die Konfigurierung des
laufenden Programms geschieht Åber das Cookie-Interface. Die Be-
stimmung des Datums und der Uhrzeit und deren Ausgabeformat ge-
schieht Åber die Cookies "DATE", "TIME" und "_IDT". Diese drei
Cookies und der Cookie "_AKP" werden von LED-Panel auch selbst
angelegt, wenn sie nicht vorhanden sind. Man kînnte auch Zusatz-
programme schreiben, die beim Start bestimmter Programme das LED-
Panel automatisch abschalten (was allerdings nur unter Single-TOS
sinnvoll wÑre) oder Ñhnliche Dinge tun. Informationen Åber das
Cookie-Interface findet man im C-Header-File LEDPANEL.H, das sich 
in dem Ordner mit den Sourcen fÅr das CPX-Modul befindet. FÅr 
Programmierer gibt es ein kleines "Schmankerl" in LED-Panel,
nÑmlich die öberwachung und Anzeige eines Bytes im Speicher.
Einzelne Bits des Bytes kînnen auch nach einer einstellbaren
kurzen Zeit nach der énderung des Bytes wieder gelîscht oder
gesetzt werden. Zum Schluû nochmal der Hinweis: Ich hîre es zwar
nicht gerne, wenn mein kleines "LED-Panel" als ein "Schweine-
programm" betitelt wird, aber ehrlich gesagt gehîrt es schon in
diese Rubrik. Da nÅtzt es auch nichts, wenn ich (frei nach
"Urmel") beteuere, das Programm sei "das sauberste Schwein, das
ich kenne". Womit wir schon beim nÑchsten Thema wÑren:

Haftungsausschluû
-----------------
Wie immer: Es wird keinerlei Garantie fÅr die FunktionsfÑhigkeit 
und Sicherheit des Programms gegeben. FÅr SchÑden, die sich aus 
der Benutzung des LED-Panels ergeben, wird nicht gehaftet.

Copyright
---------
Copyright (c) 1992-95 by Christoph Zwerschke. All rights reserved.

Nun noch etwas erfreuliches: "LED-Panel" ist ein "Public-Domain- 
Programm". Es darf im nicht-kommerziellen Rahmen nach Belieben
kopiert und weitergegeben werden. Falls Ihnen das Programm ge- 
fÑllt, dÅrfen Sie mir das natÅrlich gerne schreiben und mir eine 
kleine Anerkennung fÅr meine Arbeit zukommen lassen. PD-Versender 
und sonstige kommerzielle Anbieter bitte ich, mich vor der Auf- 
nahme meiner Programme in ihr Angebot zu benachrichtigen und eine 
Sonderspende locker zu machen.

Adresse des Autors
------------------ 
Der Programmierer vom Dienst:

    Christoph Zwerschke             Bankverbindung:
    Am Steinfeld 4                  Bezirkssparkasse Heidelberg
    59379 Selm-Cappenberg           BLZ: 67250020
    Deutschland                     Konto Nr. 4338405

