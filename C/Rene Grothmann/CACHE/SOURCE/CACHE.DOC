0660103030566
9[....................................................]

Disk-Cache,einProgrammvonR.Grothmann
€
Einfhrung€

DieIdeeeinesCachesistfolgende:OffenbarhabenRAM-Disksden
Nachteil,daihrInhaltvorBeginnderArbeiteingeladenwerden
muunddannfeststeht.Umdieszuumgehen,k”nntemandocheine
RAM-Disksomodifizieren,dasienurdieDateneinl„dt,dieauch
st„ndigben”tigtwerden.GenaudasmachteinCache(genauerDisk-
Cache).Erh„ltSektorenvorr„tig,diest„ndigben”tigtwerden.
AndereSektorenderDiskettewerdenimBedarfsfalldirektvonder
Diskettenachgeladen.

TypischeAnwendungensindCompiler.SokannetwaTurbo-CvomCache
betriebenwerden.ImPrinzipgehtdasfralleProgrammsysteme,
diesichaufeinenZugriffvomLaufwerkC:,D:usw.umstellen
lassen.DasArbeitsdirektoryvonTurbo-Csolltedabeijedoch
weiterhineineRAM-Disksein,dahierLese-undSchreibzugriffe
erfolgen.AndereAnwendungensindAdventuresoderandereSpiele,
diest„ndigDatenvonderDiskettenachladenunddiesenichtim
Speicherhalten(alsojedesmalneuladen,wennsieben”tigt
werden.)LeidergibtessolchenUnfuginHlleundFlle.Das
AdventuremusichallerdingsvonC:,usw.startenlassenoderman
mudasDirectoryumstellenk”nnen.Spiele,diegebootetwerden,
k”nnennichtgecachetwerden,daderCachenichtresetfestist.

Zun„chsteinigeInformationenfrdeneiligenProfi.DasProgramm
istzumCachen(SorryfrdiesenAusdruck!)vonDiskettengedacht.
EsbestehtfreieWahldesgecachetenLaufwerksundfastfreiWahl
desLaufwerks,unterdemderCacheangesprochenwerdensoll(nicht
A:oderB:undnichtidentischmitdemgecachetenLaufwerk).Die
Sektorgr”edesLaufwerkesmu512Bytessein,wasfrDisketten
derFallist.EinWechselderDiskettemudemCacheangezeigt
werden(imAccessoryodermitALT-HELP).EsistNurlesemodusoder
Lese-undSchreibmodusm”glich.DerCacheh„ltvornehmlichdie
zuletztangesprochenenSektoren.Schonl„ngernichtmehr
angesprocheneSektorenwerdenberschrieben,fallseinegewisse
šberlaufgr”eberschrittenwird.Esbestehteine
Autostartm”glichkeit,oderderCachewirdperHandinstalliert.
LesenSiebittedieWarnungamEndederDokumentation.

DasProgrammbestehtausdenTeilenCACHE.ACCundCACHE.RSC.Im
OrdnerSOURCEbefindensichderSourcecodeinTURBO-Cund
Assembler,sowiedieHilfsfilesfrdasRCS(dasvonLattice,da
esauchinFarbekorrektarbeitet)unddievorbersetzten
Objektfiles.

ArbeitenmitCACHE.ACC€

NuneineetwasdetailliertereBeschreibungfrdennichtso
versiertenAnwender.

CACHE.ACCisteinAccesoryundwirdbeimBooteninstalliert.Sie
k”nnenesdannunterdemAtarisymbolaufrufen.Eserscheinteine
AlarmboxmitdenKn”pfenINSTAL,REMOVEundCLEAR.

INSTAL:EserscheinteineDialogbox,diedenCachekonfiguriert.
Hierwirdeingestellt,welchesLaufwerkgecachetwerdensollund
unterwelchemLaufwerkderCacheangesprochenwerdensoll.Es
bestehendabeidieEinschr„nkungen,daderCachenichtunterA:
oderB:angesprochenwerdendarfunddadiebeiden
Laufwerksangabenvoneinanderverschiedenseinsollten.Das
Laufwerk,dasdenCacheanspricht,munatrlichschlielichnoch
installiertwerden,wasimDesktopmit"Laufwerkinstallieren"
getanwerdenkann.

WeitermudieGr”edesCachesinKilobyteangegebenwerden.Der
Cachesolltegrogenugsein,alleDatenfassenzuk”nnen,die
st„ndigben”tigtwerden.Isterkleiner,sowerdeneben
gelegentlichDiskettenzugriffef„llig.Esmueinešberlaufgr”e
angegebenwerden.DieseZahlgibtan,wievieleDatenbeivollem
CachevonDiskettegelesenwerden,bevorderInhaltdesCaches
berschriebenwird.Siedarfnichtzukleinsein,dasonstdie
„ltestenSektorenimCacheberschriebenwerdenundsomitbeim
n„chstenLesezugriffnichtmehrdasind.Diesfhrtdanndazu,da
st„ndiggeladenwird,wasjanichtderSinndesCachesist!

DieAngabeREADONLYbedeutet,danurLesezugriffegecachet
werden.BeiSchreibzugriffenwirddergesamteCachegel”scht,egal
obsieaufdenCacheoderdirektaufdasgecacheteLaufwerk
erfolgen.SchlielichstimmtdannderInhaltdesCachesnicht
mehr.WirdREADONLYabgeschaltet,sowerdenSchreibzugriffeauf
denCacheundaufdieDiskettegeschrieben,alsobeides
aktualisiert.BeieinemZugriffaufdieDiskettedirektwirdder
Cacheallerdingsimmernochgel”scht.

ALT-HELPgibtan,obderCachemitHilfederTastenkombination
ALT-HELPgeleertwerdenkann.BeileeremCachewirddiealte
Hardcopyroutineaufgerufen.

WirdINSTALbeischonistalliertemCacheaufgerufen,sofragtSie
dasProgramm,obsiedieParameterdesCachesabspeichernwollen.
IndiesemFallwirdeineDateiCACHE.INFangelegt.Beimn„chsten
BootenwirdderCacheautomatischmitdiesenParametern
installiert.Diesk”nnenSiedadurchabschalten,daSiediese
Dateil”schen.

REMOVE:MitdiesemKnopfwirdversucht,denCachewiederausdem
Speicherzuentfernen.LeiderkanndiesdurcheinenFehlerim
Betriebssystemnichtimmererfolgreichdurchgefhrtwerden.In
diesemFallsolltemanneubooten.

CLEAR:LeertdenCache.

Warnung€

EinWortderWarnung:Esistwichtig,dieDiskettenichtzu
wechseln,w„hrendderCachenichtleerist.BeiDiskettenwechsel
muderCachegeleertwerden,dajadannderInhaltdesCaches
nichtmitdemInhaltderDiskettebereinstimmt.Insbesondereist
diesbeiausgeschaltetemREADONLYfrdieDatenaufIhrerDiskette
berlebensnotwendig!

Selbstverst„ndlichbernimmtderAutordiesesProgrammskeinerlei
wieauchimmergearteteHaftungfrdiesesProgramm.DieAnwendung
erfolgtvollst„ndigaufIhreeigeneGefahr!


VielErfolgmitdiesemProgrammwnschtIhnen,derAutor

R.Grothmann
Grafenwerderstrae14
8059W”rth



