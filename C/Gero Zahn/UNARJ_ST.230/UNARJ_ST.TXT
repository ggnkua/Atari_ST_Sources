UNARJ V2.30 ATARI ST !!!
========================

==== English translation of this documentation below the German text ==== 

Endlich ist es soweit, die (immer noch) aktuelle Version von ARJ hat nun 
einen Auspacker auf dem ST. Dieses Programm basiert auf der Original-PC-
Implementation von Robert K. Jung. Er hat diese Version "abgesegnet", das 
heiût, sie darf als Freeware verbreitet werden. Also: Jeder, der mîchte, 
darf ein Kopie machen und uneingeschrÑnkt damit arbeiten. Es soll aber das 
gesamte Paket (mit Sources und Dokumentation, s. unten) kopiert werden. 
Sie darf nicht kommerziell vertrieben werden!

Um UNARJ zum Funktionieren zu bewegen, muûte ein "wenig" Arbeit getan 
werden, einteilbar in drei Teile:

a) UNARJ.H:
Der ST-Turbo C-Compiler fÅhlte sich nicht verantwortlich, den Path-
Seperator korrekt auf "\" zu setzen sondern blieb hartnÑckig bei "/" (fÅr 
"Nichts besseres gefunden"). Dies habe ich korrigiert.

b) ENVIRON.C:
Dieser Source-Text stellt die Portable Basis mit Zugriffen auf die 
(Disketten-)Hardware bereit. Leider benimmt sich ST-Turbo C etwas anders 
als das PC-Turbo C, als das es fehlerhafterweise erkannt wird. Hier muûten 
vor allem andere #include's herhalten und die Implementationen wurden z. 
T. komplett ungestrickt auf ST-Hardware-Konventionen.

c) UNARJ.C:
Die Option "X" (auspacken mit Ordnern) funktionierte zwar theoretisch, 
aber leider nicht praktisch, da der Befehl Fopen leider nur Dateien im 
gleichen Verzeichnis erzeugen kann, sobald es aber "in die Tiefe" (also z. 
B. ein Unterverzeichnis tiefer) geht, klappt das nicht mehr, da die ST-
Version das nîtige Unterverzeichnis nicht selber erzeugt. Von daher wird 
nun bei Bedarf das entsprechende Verzeichnis erzeugt. [Eigentlich gehîrt 
dieser Hardware-Zugriff in ENVIRON.C, aber die Aufdrîselung wÑre noch 
komplizierter geworden, als es nun schon war. Sorry! :-)]
Des weiteren ist die Option "V" (Verbose List - Listen mit Pfadnamen) 
hinzugekommen: Sie zeigt die vollen Dateinamen, ohne Schnickschnack wie 
"LÑnge ungepackt" etc., nur die Kompressions-Rate wird mit ausgegeben. 
Diese Option ist nun voreingestellt, weil ich diese Ausgabe fÅr 
sinnvoller halte als "L".

Es liegt in der Natur der Sache, daû diese, von mir modifizerte Version 
nicht mehr portabel sein kann. Wer sowas sucht, sollte besser die 
Original-Sources nehmen, die ja auch beiliegen.

In dieser Package befinden sich die (modifizierten) Sources
                        DECODE.C    (nicht modifiziert)
                        ENVIRON.C
                        UNARJ.C
                        UNARJ.H
sowie das Executable    UNARJ.TTP
und diese Dokumentation UNARJ_ST.TXT.
Hinzu kommt noch die Turbo C V2.0-Projekt-Datei
                        UNARJ.PRJ
die dann den Rest erledigt.
Damit es hinterher nicht wieder heiût, ich hÑtte Programme ohne 
Dokumentation weitergegeben, ist noch die Original-Package
                        UNARJ230.EXE
von Robert K Jung dabei, die die Dokumentation und die unverÑnderten 
Source-Texte zu UNARJ enthÑlt. Diese Datei kann recht einfach mit "UNARJ e 
UNARJ230.EXE" ausgepackt werden.

Viel Spaû mit dieser ST-Version. Robert K. Jung hat mir versichert, daû 
das ARJ im nÑchsten Jahr als ST-Implementation erscheinen wird. Ich 
werde mich zukÅnftig um die Sache kÅmmern, einfach mal anfragen.

Gero Zahn, Sophienstraûe 8, W-3060 Stadthagen, Deutschland
Internet: q92127@pbhrzx.uni-paderborn.de

Robert K. Jung, 2606 Village Road West, Norwood Massachusetts 02062, USA
Internet: robjung@world.std.com, CompuServe ID: 72677,445

======================================================================
      English translation - please excuse my poor English!
======================================================================

Finally it's done, the unpacking-utility for the (still) newest version 
2.30 of ARJ works on ST-computers.

This compilation bases on the original PC-implementation by Robert K. 
Jung. He allowed to spread this package as freeware, which means that 
anybody who wants to can make a copy of it and use it without 
restrictions. It's important to copy the complete package (with sources 
and documentation, see below). The package mustn't be sold!

To make UNARJ work it took a "bit" work, in three of four parts of the 
source-text.

a) UNARJ.H:
The ST-Turbo C-compiler didn't feel responsible to set the path-
seperator (correctly) to "\" but it set it to "/" (for "didn't find 
anything better than that"). This has been corrected.

b) ENVIRON.C:
The source represents the portable basic I/O-routine on the (disk-
)hardware. But also in these things ST-Turbo C behaved a bit different 
to the PC-Turbo C, and (even worse) - the pre-processor-code of UNARJ 
found no difference between these two completely different compilers. 
The first thing was to replaces the #include's, the second one was to re-
implement some pieces of code again for the ST-hardware.

c) UNARJ.C:
The option "X" (extract with folders) should be able to work, but the ST-
reality is again slightly different: The Fopen-command works only for 
files in the same folder, but if it's necesary to create a file in a 
folder doesn't exist yet the ST-GEMDOS doesn't do its work. So it was 
necessary to implement a routine that creates a folder when needed. 
[Actually this is a piece of code concerning the hardware, so it should 
be in ENVIRON.C, but this would have been much more complicated to 
implement. Sorry! :-)]
By the way - UNARJ has been improved by another command-line-option "V" 
(verbose list with pathnames). It shows the complete file-name without 
making fuss about "length unpacked" or such things. Just the compression-
rate is shown on screen. -- This option is the default-one because I 
find it more important that "L".

There's no doubt about the fact that this modified version is no more 
portable. If you look for something like that you should use the 
original sources, which are part of this package as well.

This package contains the (modified) Sources
                        DECCODE.C   (not changed)
                        ENVIRON.C
                        UNARJ.C
                        UNARJ.H
and the executable      UNARJ.TTP
and this documentationn UNARJ_ST.TXT.
To recompile it I've included the project-file
                        UNARJ.PRJ
that will do the work for you.
Because it's a fine piece of personal style to copy documentations with 
the programmes I've also included the Original UNARJ230-Package by 
Robert K Jung           UNARJ230.EXE
containing the original-documentation and the unchanged sources of 
UNARJ. You can extract the archive by simply executing "UNARJ e 
UNARJ230.EXE".

Have fun with this ST-version. Robert K. Jung promised, that the ST-
implementation of ARJ will be developed during the next year. I will 
take care of this in near future, just contact me!

Gero Zahn, Sophienstraûe 8, W-3060 Stadthagen, Germany
Internet: q92127@pbhrzx.uni-paderborn.de

Robert K. Jung, 2606 Village Road West, Norwood Massachusetts 02062, USA
Internet: robjung@world.std.com, CompuServe ID: 72677,445

<EOF>
