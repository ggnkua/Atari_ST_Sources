% macropackage=lplaing
\documentstyle[twoside]{article}    
%\textheight 16.5cm    
%\textwidth 11cm
\textheight 630pt 
\textwidth 15cm 
\oddsidemargin 0.5cm 
\evensidemargin 0.5cm 
% \evensidemargin 0.3cm
\topmargin 0pt
\pagestyle{myheadings}
\begin{document}    
\title{TEXSHELL}
\author{Klaus Wacker}    
\date{6. M„rz 1988}  
\markboth{TEXSHELL}{TEXSHELL}
\maketitle
\section*{šbersicht}    
{\tt TEXSHELL} ist
eine GEM-Benutzeroberfl„che fr TooLs ST-\TeX\ Version 2.1.

Die {\tt TEXSHELL} untersttzt den Entwicklungszyklus eines 
\TeX-Schrift\-stcks,
das heit Editieren --- \TeX\ --- DVI --- Editieren und so weiter.
Die Vorteile gegenber dem Aufruf von {\tt TEX.TTP} vom 
Desktop sind die folgenden:
\begin{itemize}

\item
Der Name der \TeX-Datei mu nur einmal eingegeben werden.

\item
Das verwendete Macropaket (z.B.\ plaing, lplain etc.) kann
ber das Men angew„hlt oder in der  \TeX-Datei
angegeben werden (mit einer Zeile der Form {\tt \%\ macropackage=xxxxx}).
Sowohl ``plain \TeX '' als auch \LaTeX\ als auch beliebige andere
Formate werden untersttzt. 

\item
Die \TeX-Dateien k”nnen problemlos in Ordnern gehalten werden.
{\tt TEXSHELL} wandelt vor dem Aufruf von {\tt TEX.TTP}
die Rckw„rts-Schr„gstriche im Pfadnamen in Vorw„rts-Schr„gstriche um.

\item
Die Verwaltung der von \TeX\ erzeugten Ausgabe- und Hilfsdateien 
wird untersttzt.
\end{itemize}

\section*{Beschreibung}

\subsection*{Der Anfang}

Kopieren Sie {\tt TEXSHELL.PRG}, {\tt TEXSHELL.RSC} und
{\tt TEXSHELL.TXT} auf ihre Arbeits-Diskette oder \mbox{-Festplatte}.
Sie k”nnen sie in einen Ordner kopieren, aber alle drei
in den selben.
Falls Sie lieber mit der englischen Version arbeiten wollen,
kopieren Sie {\tt TEXSHELE.RSC} und
{\tt TEXSHELE.TXT} und nennen sie die Dateien um in
{\tt TEXSHELL.RSC} und
{\tt TEXSHELL.TXT}\footnote{
Falls Sie eine dritte Sprache vorziehen, reicht es, die {\tt .TXT}-
und {\tt .RSC}-Dateien zu „ndern, letztere mit einem Resource-Editor.
Bei der {\tt .TXT}-Datei mssen Sie unbedingt die Zahl und Reihenfolge
der Zeilen beibehalten. 
}. 

{\sloppy
Beim Start versucht {\tt TEXSHELL} die Dateien {\tt TEXSHELL.INF}
und {\tt ENVIRONM.ENT} zu lesen.
Bei der ersten Benutzung werden diese Dateien wahrscheinlich
nicht gefunden werden, Sie sollten dann zuerst das Men
``Lokalisieren'' anw„hlen.
Lokalisieren Sie ihren Lieblingseditor sowie \TeX\ und DVI und w„hlen
Sie dann ``Einstellungen sichern'' an. Damit wird diese Information in der 
neuen Datei {\tt TEXSHELL.INF} gespeichert. 
Die {\tt ENVIRONM.ENT}-Datei wird vom selben Pfad wie {\tt TEX.TTP}
gelesen, sobald sie diesen lokalisiert haben.
Sollten Sie diese Datei noch nicht angelegt haben, finden Sie im folgenden
einige Hinweise darauf, was darin stehen sollte. Sie sollten sich auch das 
entsprechende Kapitel im ST-\TeX-Handbuch ansehen.

}
\subsection*{Das Datei-Men}
\begin{description}

\item[TeX-Datei ausw„hlen\ldots]
Sie w„hlen hier ber eine File-Selector-Box die zu bearbeitende
\TeX-Datei aus.
Der Pfad dieser Datei braucht nicht in den Environment-Variablen
{\tt TEXINPUTS} oder {\tt TEXREAD} aufgefhrt zu werden, da 
die vollst„ndige Dateispezifikation an \TeX\ bergeben wird.
Das gilt nicht, wenn weitere Dateien aus diesem Pfad ben”tigt werden
(siehe unter {\bf Editiere\ldots}).

Wenn die \TeX-Datei existiert, werden daraus bis zu 10 Zeilen gelesen,
um eine Zeile der Form
\begin{verbatim} % macropackage=xxxxx \end{verbatim}
zu finden. 
Dabei steht {\tt xxxxx} fr den Vornamen einer Datei mit Nachnamen
{\tt .FMT}, die im {\tt TEXFORMATS}-Pfad zu finden sein mu.
Wenn sie gefunden wird, werden die entsprechenden Optionen
im ``Optionen''-Men gesetzt. Das \%-Zeichen mu das erste nicht-weie
Zeichen in der Zeile sein. Vor und hinter dem Gleichheitszeichen
drfen keine Leerzeichen stehen.
Diese Konvention habe ich von einer Grorechner-Installation von \TeX\
bernommen, ich hoffe, da es sich um eine Art Standard handelt. 

Das gleiche wie beim Anw„hlen von ``TeX-Datei ausw„hlen''
geschieht, wenn Sie beim ersten Anw„hlen der Menpunkte
``Editiere TeX-Datei'' oder ``TeX'' noch keine \TeX-Datei ausgew„hlt hatten.

\item[Datei l”schen\ldots]

\item[Datei umbenennen\ldots]

{\sloppy
\item[Datei kopieren\ldots]
Diese drei Menpunkte haben nichts direkt mit \TeX\ zu tun,
sie sind nur der Bequemlichkeit halber da.

}
\end{description}

Die folgenden zwei Menpunkte sind nur sinnvoll, wenn Sie
ihre \TeX-Datei in einem anderen Ordner haben als die von
\TeX\ erzeugten Dateien. Die Ordnerpfade der letzteren 
sind durch die Environment-Variablen {\tt TEXOUTPUT},
{\tt TEXTRANSCRIPT} und {\tt TEXWRITE} festgelegt. 
Diese drei Pfade (die durchaus identisch sein k”nnen)
werden hier als tempor„rer Speicher angesehen, der Ordner 
der \TeX-Datei als permanent.

\begin{description}

\item[AUX etc.\ sichern]
Die von \TeX\ erzeugten Hilfsdateien werden vom Pfad
{\tt TEXWRITE} in den Ordner der \TeX-Datei kopiert.
Dabei werden Sie bei jeder gefundenen Datei noch einmal
gefragt, ob Sie das wirklich wollen. 
Genau geschieht hier folgendes: Im Pfad {\tt TEXWRITE}
werden alle Dateien gesucht, die in der Zeit entstanden sind, in der
\TeX\ gelaufen ist und deren Nachnamen {\em nicht}
{\tt .DVI} oder {\tt .LOG} ist.

{\sloppy
Derartige Dateien (z.B.\ mit Nachnamen {\tt .AUX}) werden
besonders von \LaTeX\ gerne erzeugt.
Es kommt vor, da eine {\tt .AUX}-Datei erzeugt wird,
die z.B.\ nur das Wort ``\verb|\relax|'' enth„lt.
So etwas k”nnen Sie beruhigt l”schen.
Wenn Sie allerdings automatische Numerierungen, Referenzen, 
Inhaltsverzeichnisse
oder „hnliches verwenden, ist es wichtig, sie aufzubewahren.
Der Pfad dieser Dateien mu bei {\tt TEXINPUTS} und {\tt TEXREAD} 
angegeben werden. Fhren Sie dort zuerst den {\tt TEXWRITE}-Pfad auf,
dann den Pfad der \TeX-Datei. 
So findet \TeX\ die letzte Version
der Hilfsdateien, unabh„ngig davon, wann Sie
sie zuletzt gesichert haben. 

\item[DVI sichern]
Die von \TeX\ erzeugte DVI-Datei wird vom Pfad {\tt TEXOUTPUT}
in den Ordner der \TeX-Datei kopiert. Hier sieht {\tt TEXSHELL}
nicht nach der Zeit, da der Name eindeutig ist.
Sie werden noch einmal gefragt, ob Sie das wirklich wollen.

(Den Menpunkt {\bf LOG sichern} gibt es nicht. Ich gehe davon aus,
da nach Beendigung der Arbeit nichts interessantes mehr in der 
{\tt .LOG}-Datei steht. Bis dahin k”nnen Sie sie auch im 
{\tt TEXTRANSCRIPT}-Pfad stehen lassen.)

} % end sloppy
\item[Disk aufr„umen]
Die von \TeX\ erzeugten Dateien werden gel”scht.
Sie werden bei jeder Datei gefragt, ob Sie sie wirklich l”schen wollen.
Auch hier geht {\tt TEXSHELL} bei den {\tt .DVI}- und {\tt .LOG}-Dateien
nach den Namen vor. Bei den Dateien im {\tt TEXWRITE}-Pfad wird die
Zeit benutzt.

\item[Aufh”ren]
Hier endet {\tt TEXSHELL}.
\end{description}

\subsection*{Das Ausfhren-Men}

\begin{description}

\item[Editiere TeX-Datei]
Der Editor wird aufgerufen mit Pfad und Namen der \TeX-Datei
und der {\tt .LOG}-Datei, falls sie existiert.  
Nach dem Editieren wird, wie nach dem Ausw„hlen, noch einmal
nach einer {\tt macropackage}-Zeile in der \TeX-Datei gesucht.
Sie k”nnten eine solche Zeile ja ge„ndert oder hinzugefgt haben.

\item[Editiere\ldots]
Der Editor wird aufgerufen fr eine Datei, die sie mit der
File-Selector-Box bestimmen k”nnen.
Dieser Menpunkt ist gedacht fr den
Fall, da Ihr \TeX-Input aus mehreren Dateien besteht.
Mit dem Menpunkt ``TeX-Datei ausw„hlen'' w„hlen Sie
die Hauptdatei an, die mit \verb|\input|- oder \verb|\include|-Anweisungen
Unterdateien heranzieht. 
Der ``Editiere\ldots''-Menpunkt ist zum Editieren dieser
Unterdateien gedacht.

{\sloppy
Der Pfad dieser Dateien mu in der Environment-Variablen {\tt TEXINPUTS}
aufgefhrt werden, bei \verb|\include| auch in {\tt TEXREAD}.

}
\item[TeX]
Ausfhren von \TeX.

\item[DVI]
Ausfhren von DVI. Sie werden gewarnt, wenn Sie nach dem letzten
Editieren oder berhaupt \TeX\ noch nicht ausgefhrt haben.

\item[Anderes Programm\ldots]
Hier k”nnen Sie ein beliebiges anderes Programm ausfhren.
Bei {\tt .TTP}-Programmen werden Sie nach Parametern gefragt.
\end{description}

{\sloppy
Immer wenn {\tt TEXSHELL} ein Programm aufruft, werden ``Current Drive''
und ``Current Path'' auf Laufwerk und Pfad des aufgerufenen Programmes
gesetzt, so da dieses seine Resource-Dateien etc.\ findet.
Dadurch steht es Ihnen v”llig frei, Ihre Programme, insbesondere
{\tt TEXSHELL}, den Editor, \TeX\ und DVI, beliebig auf Laufwerken und 
Ordnern zu verteilen.
 
}
\subsection*{Das Lokalisieren-Men}
\begin{description}

\item[Editor\ldots]
Lokalisieren des Editors. 
Der Editor mu eine Kommandozeile mit dem vollen Namen 
(einschlielich Laufwerk und Pfad) der zu bearbeitenden
Datei verstehen k”nnen.
Sie werden gefragt werden, ob er mindestens zwei Dateien gleichzeitig 
verarbeiten kann. Wenn Sie das bejahen, 
wird dem Editor zus„tzlich zur \TeX-Datei der Name {\tt .LOG}-Datei,
falls sie existiert, bergeben.

\item[TeX\ldots]
Lokalisieren von {\tt TEX.TTP}.

\item[DVI\ldots]
Lokalisieren von {\tt DVI.PRG}.

{\sloppy
\item[TeX-Environment]
Editieren der {\tt  ENVIRONM.ENT}-Datei.
Nach Beendigung werden die Parameter auch von der {\tt TEXSHELL}
bernommen.

\item[Einstellungen sichern]
Die im Lokalisieren- und im Optionen-Men \linebreak[2]
vorgenommenen Einstellungen
werden in der Datei {\tt TEXSHELL.INF} im Pfad, von dem aus
{\tt TEXSHELL.PRG} aufgerufen wurde, gespeichert.
} % end sloppy
\end{description}

\subsection*{Das Optionen-Men}
\begin{description}

\item[TeX ruft DVI]
Wenn gesetzt, wird DVI automatisch nach \TeX\ aufgerufen.

\item[Warte nach TeX]
Wenn gesetzt, wartet die {\tt TEXSHELL} nach der Aus\-fh\-rung
von \TeX\ (und anderen {\tt .TOS}- und {\tt .TTP}-Programmen) auf 
einen Tastendruck.
Es wird auch der ``Return Code'' angezeigt.
\end{description}

Die folgenden vier Optionen werden automatisch gesetzt,
falls eine {\tt macropackage}-Zeile
in der \TeX-Datei vorhanden ist.
Sie k”nnen sie auch von Hand setzen.

Von den folgenden drei Optionen kann nur h”chstens eine 
ausgew„hlt sein.
Wenn Sie eine ausw„hlen, werden die anderen beiden automatisch
deselektiert.

\begin{description}

\item[Plain]
Benutze {\tt PLAIN.FMT} oder {\tt PLAING.FMT}.

\item[LaTeX]
Benutze {\tt LPLAIN.FMT} oder {\tt LPLAING.FMT}\footnote{
Durch Editieren von {\tt TEXSHELL.TXT} k”nnen Sie hier auch andere
Format-Dateien benutzen}.

{\sloppy
\item[Anderes FMT\ldots]
Sie k”nnen mit einer File-Selector-Box eine {\tt .FMT}-Datei
ausw„hlen.
Die ``Deutsch''-Option ist in diesem Fall unwirksam
(Sie k”nnen natrlich trotzdem deutsch schreiben).

}
\item[Deutsch]
Bewirkt, da {\tt PLAING} bzw.\ {\tt LPLAING}
statt {\tt PLAIN} bzw.\ {\tt LPLAIN} benutzt werden. 
\end{description}

\section*{Kleingedrucktes}
{\small
Ich habe mit der Firma
TooLs GmbH nichts weiter zu tun als da
ich ST-\TeX\ von ihnen gekauft habe.

{\tt TEXSHELL} ntzt Ihnen natrlich gar nichts, wenn Sie
TooLs ST-\TeX\ Version 2.1 (oder h”her ?) nicht haben.
Sie bekommen es von TooLs GmbH, Kessenicher Str.~108, D-5300 Bonn 1.

Bei der Entwicklung der {\tt TEXSHELL} hat mir die {\tt FSHELL}
von Daniel Roth zum Teil als Vorlage gedient (PD-Diskette Nummer 100 der 
Zeitschrift ``ST Computer'').

Die nichtkommerzielle Weitergabe von
{\tt TEXSHELL} in unver„nderter und kompletter Form 
ist erwnscht.
ich behalte mir aber das Copyright und alle Rechte vor.
Die Benutzung dieses Programms geschieht auf eigene Gefahr.
}

Wenn Sie einen Bock finden oder Anregungen haben, wenden Sie sich bitte an 
{\tt WACKER@CERNVM} oder an
\begin{verse}
Klaus Wacker\\
32, chemin de la Planche Br\^ul\'ee\\
F-01210 Ferney Voltaire.\\
\end{verse}

\end{document}
