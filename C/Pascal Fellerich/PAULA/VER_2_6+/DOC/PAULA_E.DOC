064020303000000128004006006000000
1PAULA 2.1 Modfile Player0
2Seite #0
F0110000001
R   [................................................]0110
9[..................................................]0110
Ä






ÅâPAULA][

Å(Paula,taketwo!)
â





ÄYetanotherAmiga-MODfile-Player
fortheAtariTT&STE

Version2.2a
20-Feb-93



Sharewareby
PascalFellerich








âShareware:
Ä
Startingwithversion2.0Paulaisshareware.Thatmeansthat
youmaydistributeandtestthissoftwarefreely.Butifyou
useitregularlyyouhavetoregister.Unregisteredcopiesof
Paulawillremindyousometimestodoso.Moreoverthese
unregisteredcopieswillneverbe'better'thantheoriginal
v2.0;newfeaturesaredisabled.Forthemomentthesearethe
autoloadfunctionandthesupportforpackedmodules.

AtthebeginningPaulawasalittleutilitytoplaymodfiles
whichIwroteinsomeweeks.Asthereactionsonthislittle
pieceofsoftwarewereverypositive,Idecidedtorewritethe
playercompletelywhichmadeitpossibletointegratemanynew
features.Paulahasbecomearealpowerfulprogramwhichhasno
equivalentuntilnow.SoIdecidedtoreleaseitasshareware.
You'llfinddetailsintheparagraphentitled'Registration
Procedure'onpage11.

Thefollowingfilesarepartofthe'PAULA'-packageandmust
remainunchangedandbedistributedtogether:

      à1.ÄàPAULA.APPÄ-Themainprogram(alternativenamesare
PAULA.ACCorPAULA.PRG)
      à2.ÄàPAULA_D.TXTÄ    -thegermanmanual
      à3.ÄàPAULA_E.TXTÄ    -theenglishmanual
      à4.Ä  àMP.TTPÄ         -ModPlay:alittleutilitytoplaymodules
evenfromCLI's
      à5.Ä  àMP.CÄ           -thesourcecodeofModPlay.
      à6.Ä  àCHECKMOD.TTPÄ   -ChecksifamoduleisOKandrepairs
corruptedmodfilesasfarasthisis
possible.

Thefile'PAULA.INF'àmustnotbegivenawayÄasthisfile
containsyourregistrationdata.

PaulamaybedistributedviaBBSandon'PublicDomain'disks;
howeverthesharewarestatusofthissoftwareisnotaffected!

AllrightsreservedbyP.Fellerich.

    Myaddress:            PascalFellerich
                           45,ruedesGenets
                           L-3482Dudelange
                           (Luxembourg)

    Postalchequeaccount: CCP65407-29

    E-Mail:                2:270/16.3@fidonet

ThelatestreleasesofPaulaareavailableinthefollowingBBS
(inLuxembourg,don'tforgettherightdialingprefix)underthe
nameof'PAULA2*.LZH':
˚Ä      NoNameBox #1      595243,300-14400BpsUSRDS,V.32b
                                   (Fidonet2:270/16)
      NoNameBox#2      596213,300-16800BpsZyX,V.32b
                                   (Fidonet2:270/14)
      ComNet (line1)  466893,300-14400BpsUSRDS,V.32b
              (line2)467516,300-14400BpsUSR,HST
              (line3)   222534, 9600-14400BpsUSRDS,V.32b




âWhyPaula?
Ä
Paulaplaystheso-called'modfiles'usingtheSTE/TTPCMsound
chip.Thesemodfiles,alsocalled'modules',originatefromthe
Amigawhichhasaspecialfour-channelPCMsoundchipcalled
'Paula'.

Pauladoesn'tclaimtobetheonlyorthefastestmodplayer
availablefortheAtari,butithasauniquecombinationofa
perfectGEMuserinterfaceandacollectionofsuperfluous
features...




âWhatdoesPaula?
Ä
Toavoidaratherlengthydescription,hereisashortlist
withPaula'sfeatures:


à1.Internal:
Ä
*CompatibletoreallyallMOD-formats,rangingfromtheold
SoundtrackerformattothenewProtrackerformat.

*Threesamplingfrequenciesareavailable:12.5,25,50KHz
(whenusingPaulaonST'swithalittlehelpfromthesound-
driver'PETRA'it's6,9.6and12KHz).

*Linearinterpolationoptiongivingagreatimprovementin
soundquality.

*Boosteroption,risingtheS/Nratioby6dB.

*Completelyindependentpitchandspeedtuning.

    *SupportsLZ5orAFXpackedmodules.


˜Äà2.GEM&Co-theuserinterface:
Ä
*RealGEM-consequentlyitwillrunonanyTOS-machine.This
alsoincludesAtari'snewMultiTOS.

*Simpleandintuitivecontrol

*SupportsextendedselectionfeaturesofSelectricøandGemini

*'Programmable'likeasimpleCDplayer

*Random:randomplayofseveralmodules.

*Repeat-switch:onemoduleorawholeselectionmayberepeated
indefinitely

*CPULoadandpositiondisplay




âHowitbegan...
Ä
WhenIgotmyTTIwantedtohearthenewsoundchip.SoI
downloadedsomemodplayersfortheSTEandtriedthem.
Unfortunatelymostofthemcrashed,andthosewhichranonthe
68030produced'lo-fi'(lowfidelity)sound.SoIhadtowritea
playeronmyown.Butthatwaseasiersaidthandone-Ihadto
acquiretheknowledgeofthe'real'PAULA-chipintheAmigaand
ofcourseoftheSTE/TTsoundhardwaresimplybecauseIwanted
toportanoldreplayroutinefromtheAmiga(D.O.C.
replayroutine2.0fromjune1986).SomeweekslaterPaula1.0
was'upandrunning'.Thisreleasewasstillbuggyandhad
limitedcapacitiesbutitfinallyworkedfineontheTT.After
severaloptimizationsandimprovementsIconcludedthe
developmentatv1.5.

Inapril92adiscussioninthefidonetBBSre-ignitedthe
globalinterestinthemoduleplayer,andIdecidedtocontinue
thedevelopment.Theversions1.7and1.8werereleased.Inthe
meantime,thesoundqualitywasgreatlyenhancedbutstillthe
userinterfacewaslousy.SoIrewrotethewholething-that's
it...
â



Systemrequirements:
Ä
PaularunsonallTOS-basedmachine(>=TOS1.4)havingaSTE
compatiblePCMsoundchip...orthesounddriveràPETRAÄ!

However,onlythefastermachinesallowdecentbackgrouduseof
Paula;anormalSTErunningat8MHzwon'tdo25KHzsampling
frequency.AMegaSTEat16MHzisfine,aTTisbetter.
TobeabletorunPaulaonST'swithoutthePCMsoundchipyou
ÄneedPETRA-asounddriver(shareware,too)forPaulaby
ChristianLimpach.
â



Installation:
Ä
Paulamayrunasanaccessoryorasanapplication.Withnormal
TOSversionstheaccessorymodeisuseful,underMultiTOSyou
mayfinditbettertouseitasaprogram.Ofcourseyoumayuse
'theChameleon'(oranyothergoodaccessoryloader)toloadthe
ACC.

WhenusingMultiTOSyoumayrunPaulaasanormalprogram;but
thenyoumaynotcloseit'smainwindowwithoutleavingthe
program!
â
ÄAnotherusefulthingisXCONTROL-youshouldhaveinstalledthe
'SOUND'cpx-modulesothatyoucanchangethevolume,treble,
bassandbalance.Moreoveryoushouldconnectyourcomputerto
yourstereoequipment(viatheRCAjacks)togetthebest
possiblesound.
â



User'sGuide:
Ä
AfteryouhavelaunchedPaulayougetawindowcontainingthe
maindialog.Thisoneissubdividedinto6areas:
1.theinfoline
2.thePlayer&SoundSetup
3.SampleFreq
4.CPULoad
5.Position
6.theplayer'scontrolkeys




âThecontrolkeys
Ä
Thesecontrolsarehopefullythesimplest.Theycarrythe
commonlyusedsymbolsyoualsofindonacassettetape
recorder,soyoushouldbefamiliarwiththose.Notethatevery
keyismarkedwithalittleletterintheupperleftcorner-
that'sthekeyboardshortcut.Press'L'toâLÄoadafile.

àLOAD:ÄFirstyoumustloadamodule.WhenyouclickontheLOAD-
buttonyougetthefileselectorinordertoselectamodule.On
'OK'Paulaimmediatelyloadsthemodule.Ifthisoperationwas
successfultheinfolineofthewindowwillshowthetext
'Stopped:<modfilename>'.Ifanerroroccurredyouwillbe
informedbyastandardalertbox.
˝ÄIfyouhaveinstalled'Selectricø'asafileselector,youmay
alsospecifymorethanonemodule!
NOTE:Paulaonlyloadsuncompressedmodules.
à
ÄàSTOP:ÄWell,thisonestopsamoduleandresetstheplayer.This
alsoclearsPaula'smemory-ifyouhadselectedseveralmodules
Paulawillforgetthem.Theinfobarshows'Stopped:...'.
Inaccessorymode,closingthewindowinthestoppedstatealso
releasesthememoryallocatedforthelastloadedmodule.

àPLAY:ÄStartstheplayer.Ifyouhaven'tselectedamodulePaula
willpromptyoutodoso.Ifyoupress'PLAY'whenPaulaisbusy
playingoneofseveralmodulesitwillskiptothenextmodule.
(Skipfunction).

àPAUSE:ÄStopstheplayertemporarily.Theplayerisnotreset!In
thatstateyoumayalsoquittheaccessory(closethewindow)
withoutlosingthecurrentmodule.Tocontinue,pressPAUSEor
PLAY.

àREW:Ä(REWIND)Jumpstothepreviouspositioninthemodule.
ThisfunctionworksonlyifPaulaisinthe'playing'or
'paused'state.

àFF:Ä(FASTFORWARD)Jumpstothenextpositioninthemodule.
Thisfunctiontooonlyworksinplay-orpause-mode.

à!:Ä(Exclamationsign)InvokestheSETUP-dialogwhichoffers
somemorefunctionslikepitchandspeedtuning.

à?:Ä(Questionmark)SomegeneralinformationsaboutPaula.
Throughthisdialogyoualsogettheregistrationdialog.Howto
registerisdescribedsomepageslater(title:Registration
procedure)

Trytofamiliarizeyourselfwiththesecommandsbysimplytrying
themout!Whateveryoudo,youwillnotsuccedincrashing
Paula-evennotonmachineswithmemoryprotection.
â



Theinfoline
Ä
Paulausestheinfolineofthewindowtodisplayit'scurrent
statusaswellasthetitleofthecurrentyloadedmodule.
Currentlyfourstatesaredefined:

àInactive:ÄPauladoesnothing.Nofileisloadedandnomemory
isallocated.WhenyouchangeresolutionsPaulashould
preferablybeinthismodetoavoidmemorylossorsystem
crashes.

àStopped:ÄPaulahasloadedamodule.Ifyouchangeresolution
nowyouwilllosetheallocatedmemorybecauseyoudidn'tgive
Paulaachancetoreleaseit.
Ä
àPaused:ÄPaulaiswaitingtocontinue.TheFFandREWbuttons
work.

àPlaying:ÄPaulaisbusy-don'tyouhearthat?Ifanotherprogram
accessesthesoundhardwarePaulaisstopped,ofcourse.Butas
soonasthesoundchipgetsfreedPaulatriestocontinue,which
maytakeupto1second.Ifnot,thisisabugandshouldbe
reported.Howeveryoumaymanuallyrelaunchtheplayerby
pressingthePAUSE-buttontwice.
â



SampleFreq
Ä
YoumaychoosethesamplingfrequencyusedbyPaula.Currently
therearethreepossibilities:12.5,25and50KHz.Thehigher
thesamplingfrequencythebetterthehighfrequencyresponse.
Theoreticallythehighestsoundfrequencyishalfthevalueof
thesamplingfrequency(cfShannon'ssamplingtheorem).Onthe
Atarihardwareit'sabout40%ofthesamplingfrequency.When
using25KHzsamplefreqyougetupto10KHzsoundfrequency.
Changesinthesamplingfrequencyareimmediatelyeffective.
Duringtheswitchingthesoundismutedforaveryshortmoment
toavoidchirpingandclicknoises.
â



Player&SoundSetup
Ä
Inthatareayoufindtwotypesofswitches:
*switchestoinfluencethesoundsynthesizer
*switchestochangethereplaymodi

àInterpolate:ÄEnablestherealtimeinterpolationofthesamples.
Thisgivesamuchbettersoundqualitybutitrequiresalotof
CPUpower.OnaTTthisisamustbecausethe68030does
multiplicationandshiftopsmuchfasterthanthe68000cpu.By
theway,thisalsoappliestothe68020-soifyouhavea020-
boardinstalledinyourSTE...

àBooster:ÄIncreasestheoutputsignalby6dBusingalittle
trick.Thisimprovesthesignaltonoiseratiobutitalso
introducesacertainamountofdistorsions,especiallywhen
playinghigh-levelsignals.

àProtracker:ÄEnablestheprotrackercompatibility.Ingeneral,
soundmodulesareupwardscompatiblesothatanewplayershould
playcorrectlyanoldmodule,butunfortunatelytheprotracker
intoducedsomefeatureswhicharemorecritical.Soyouhave
thepossibilitytoswitchoffsomeofthenewprotracker
commands.However,old15-instrumentmodulesareplayedwith
protracker-modedisabled,regardlessoftheswitchposition.

˝ÄàRepeat:ÄThisswitchhastwomeanings,dependingonhowmany
modulesyouhaveselected.Ifyouhaveselectedasinglemodule,
thismoduleisrepeated,elsethewholebunchofmodulesis
repeated.
Bytheway,therearesomemoduleswhichuse'jump'commandsto
buildanendlessloop.Paularecognizestheseandinterrupts
them.

àRandom:ÄThisistherandomplayfunction.Ifyouhaveselected
severalmodules,theywillbeplayedinrandomorder-but
everymoduleonlyonetime!Aftereverymodulehasbeenplayed,
Paulastopsorrestartsthewholeprocess,dependingonthe
'Repeat'switch.
â



CPU-LoaddisplayÄ

ThisbargraphshowstheamountofcputimePaulaneedsforthe
soundsynthesis.Itisarelativedisplay,100%arealwaysthe
totalcputime,nomatterwhatprocessoryouhave.NoLandmark
orNorton-that'ssimplynotinformativeenough.
Attherightedgeofthecpuloadbargraphthereisalittlered
boxwhichflasheseverytimeyourmachinewasnotfastenough.




âPosition
Ä
Thisdisplayshowsthecurrentpositioninthemodule.It's
usingthehexadecimalformat-youknow,programmersdoitin
hex!




âGeneralinstructions:
Ä
Themaincommandsaremainlyintuitiveandshouldbeeasyto
use.Buttherearealsosomespecialfunctionswhicharenotso
evident.Theseare:
*leavingthemaindialog
*selectingmultiplemodules('multiplaymode')
*keycommandlogic
      *hiddenfeatures

WhenyouclosethemainwindowandPaulaisanaccessory,the
playerwillcontinue.Moreoveryoumayclosethiswindowby
simplypressingthe<Return>key-analogoustoXCONTROL.ACC.
ButifPaularunsasaprogram,closingthemainwindowwill
terminatetheprogramandtheplayerwillofcoursebestopped.
soinPRGmodeyoucan'tquitbypressing<Return>-youmust
clickonthecloser-gadgetofthewindow.

˝ÄàSelectingmultiplemodules...Ä
Thesimplestwaytoselectmorethanonemoduleistouse
wildcards.Insteadofselectingafileinthefileselector
simplychoosetherightpaththentypethefilespecification,
e.g.'A*.MOD'.Thiswouldplayanymodulewhosenamestarts
with'A'.Ifyousimplywanttohaveallmodulesplayedwhich
arelocatedinonedirectory,simplyselectthatdirectorybut
don'tenteraname.Paulawillthenautomaticallyselectany
filewhichmatches'*.MOD'.

à...automatically:Ä
Createadirectoryonyourbootdevicewiththename'AUTOMOD'
andcopyyourfavoritemodulesintoit.AssoonasPaulais
starteditwillplaythesemodules.
Thisfunctionistheonlyonethatdoesn'tworkinunregistered
copies.

à...usingSelectric:
ÄIfyouuse'Selectricø'asafileselectoryoumayselect
multiplefiles(shift-key+mouseclick),Paulawillloadthem.
You'llfinddetailsintheSelectric-manual.
SelectricøisasharewareutilitybyStefanRadermacherand
OliverScheel.

à...usingGemini:
ÄDragtheiconofPAULA.ACContothedesktopandinstallitas
anapplicationfor.MOD-typefiles.NowyoumaycallPaulaby
double-clickingit'sicon,playamodulebydouble-clickingit,
orevenlistentoseveralmodulesbydraggingthemontothe
PAULA-icon.
GeminiisasharewareprogrambyGereonSteffensandStefan
Eissing.

Somewordsabouttheàkeycommandlogic:ÄPaulaalwaystriesto
stayinthecurrentmode.Ifamoduleisrunningandyouload
anotherone,thenewlyloadedmoduleisimmediatelyplayed.

IfPaulawasstoppedwhenyouselectmultiplemodules,itwill
gointothe'pause'-mode.Thishastobedonethatwaybecause
Paulawillforgeteverythingassoonasitentersthe'Stopped'-
mode.Isuggestthatyoutrythesecommandstofamiliarize
yourselfwithit.




âSetup-Page-dialog
Ä
Thisdialogboxiscalledwiththe'!'-command.Itofferssome
nicefeaturestomanipulatethesoundaswellasthe'save'-
function.

àPitchBend(cent):ÄThisisafinetuningfunction.100centis
onehalftone,andyoumay(fine-)detunePaulabyonehalftone.
Thestandardtuningcorrespondstoa'NTSC'-Amigawith7.15909
MHzclockfrequency.Togetthe'PAL'-Amigatuning,setthe
Äpitchbenderto-10..-15cent.Thestepsare5cent,afiner
stepisnotneededasthehumanearhasalreadyproblemsto
detectadetuningby5cent.

àTranspose:ÄThisisthecoarsetuningfunction.Itchangesthe
tuninginhalftonesteps,maximumis12halftoneswhich
correspondstooneoctave.

àFrameSpeed:ÄThisisthe'ticker'speedusedasaspeed
referenceinthemodule.OntheAmigathisisthe50HzVBlank
interrupt,sothestandardsettingis50Hz.Paulaallowsany
valuefromhalftodoublespeed(25..100Hz).

àSave:ÄSavesthecurrentsetupintothe'PAULA.INF'fileandthen
leavesthedialog.Notethatallsettingsaresaved,themain
dialogsettingsaswellasyourregistrationdata.

àExit:ÄLeavesthedialogwithoutchanginganything.Howeverthe
changesyouhavemadewillnotbeundone.

àReset:ÄResetsthethreesettings(Pitchfine/coarse,Speed)and
leavesthedialog.




âInfoPagedialog:
Ä
Theunavoidableinfobox...andalsoanicewaytoremindyou
sometimesofthefactthatyouarestillusinganunregistered
copy!



âPackedmodules!
Ä
Paula2.1supportsLZ5orAFXpackedmodules.Tomakesuch
packedmodulesyoucanuseLHARC2.01!Supposethatyouhaveall
yourmodulesgatheredinthedirectoryC:\AUTOMODandyourhard
diskisgettingfull.ThenlaunchLHARC.TTPandenterasa
commandline:'ÅcC:\AUTOMOD\*.MODÄ'.TheLHARCprogramwillthen
packallyourmodules,reducingthemtoapproximativlyto75%of
theiroriginalsize.Paulawillnotmakeanydifferencebetween
packedandunpackedmodules,sothisiscompletelytransparent
totheuser.
Ifyouareusinganunregisteredcopy,theattempttoloada
packedmodulewillonlyissueanerrormessage('Corrupted
MODfile').




Ä
âRegistrationprocedure
Ä
Theinfopagehasabigbuttoninthelowerleftcornerin
whichthetext'-unregistered-'iswritten.Ifyouclickonit
yougetanotherdialogbox-theregistrationform.That's
whereyoumustenteryournameandyouraddressaswellasyour
personalkey.IftheseentriesarecorrectPaulaisregistered
andtherearenomorerestrictions.Nowifyougetan
(unregistered)updateofPaulayouonlyhavetorepeatthis
proceduretogetanewregisteredcopy.Thisappliestoall
future2.xreleasesofPaula!

Togetyourpersonalkey,pleasesendme:

*Yournameandaddress-readable,please!
            Name:<firstname><lastname> (30charsmaximum)
            Addr: <street>           (""")
            City:<zipcode><city>      (""")

    *Yoursharewarefee-600FBor30DMorequivalent-withthe
remarkthatit'sforPaula.Somepossibilitiesare:

àcashÄ-alwaysOK.Tomakesurethatthemoneyreachesits
correctdestinationyoumaysenditasaregisteredletter.

payintomyàpostalchequeaccountÄ-agoodway!

normalàchequesÄwon'tbeacceptedanylonger,it'stheworst
alternativebecausethebankalwaystakesaparttocover
miscellaneousfees...(around400FB/20DM).Exception:
àEurochequesÄover600FB(FrancBelge)-theseareokay!

AssoonasIgetthemoneyyouwillreceiveyourkeybyletter
orE-mail.YoumaythenenteryourdataintoPaula's
registrationformandverifyiftheregistrationwassuccesful.
Ifsothelargebuttonintheinfodialogentitled'Registered
to:'willshowyourname.Inthatcasedon'tforgettosavethe
currentsetupsothatPaulawillrememberit'sregisteredstate
nexttimeyouboot.
Ifitdidn'twork,pleaseverifythespelling-Paulawon't
accepterroneousdata.

ÅImportantnote:ÄNEVERgiveawayyourPAULA.INF-fileasyour
registrationdataissavedinthatfile!

Ifyouchangeyouraddressand/ornameyouwillneedanewkey.
Inthatcasesendmeyournewdata(apostalcardwilldothe
job)andyougetanewkeyassoonaspossible.

IfyouhavemorequestionsorproblemswithPauladon'thesitate
towriteme!
â



¸âErrormessages:
Ä
Paulanormallyreportserrorsusingstandardalertboxes.To
avoidproblemswithunwantedalertboxespoppingupPaulawon't
complainaboutit'sproblemsifit'smainwindowisclosed.

Let'sassumeyouselectedthemodules,A.MOD,B.MODandC.MOD;
randommodeisoff.PaulastartsplayingA.MOD,theyouclose
thewindow.AfterfinishingwithA.MOD,Paulatriestoload
B.MOD.IfthisdoesnotsucceedPaulawillstopanyfurther
activitiesandwillgointothe'Inactive'state.Ifyouinvoke
Paulaandselect'LOAD',youwillseethenameanpathofthe
modulewhichcausedtheerror.

Ifyougetthemessage'CorruptedMODfile'thismeansthatthe
selectedmodulecannotbeplayed.Inthatcasetrytheutility
'CHECKMOD.TTP'whichanalyzesamoduleandalsorepairsit-if
possible.




âMoreinfos...
Ä
Amodulecontainsupto31differentsampleswhicharealso
called'instruments'.Toplayagivensampleatdifferent
pitchestheAmigasimplyvariesthereplaysamplingfrequency.
Thehigherthesamplingfrequencythehigherthenote.Asthe
Amigahasfourindependentsoundchannels,eachonehavingit's
ownD/Aconverteritcanplayfourdifferentsamples
simultaneouslywithoutthehelpoftheCPU.TheAtarihasonly
twochannels(stereoL+R)whicharenotindependentandonly
fourfixedsamplingrates.Soanothertrickmustbeusedto
simulatetheAmigaChip-the'directdigitalsynthesis',or
'resampling'asthisprocessismorewidelycalled.It'snot
difficulttounderstand:thesampledataisnotreplayedata
1:1ratebutwithan1:RratewhereRisafloatingpoint
number.IfyouwanttoplayasampleathalfspeedRis2-
everybyteofthesampleisoutputtwice.Ifyouwantittobe
at75%ofit'soriginalspeed,Ris1.5-thistimeonebyteis
outputtwice,thesecondisoutputonceandsoon.
Unfortunatelythesamplingdataisoutputirregularly-which
givesadistortedsound.Therearetwowaysofeliminating
thesedistorsions.Eithermakethestep'R'ratherbig(this
wouldrequireverylargesamplesoriginallysampledatavery
highrate)oràinterpolateÄtheoutputdata.Thebestthingwould
beasplineinterpolationbutunfortunatelythisrequires
matrixoperations,soPaulausesasimplelinearinterpolation.
Don'tconfuseitwiththe'oversampling'ofsomeothermodule
players-theyonlydoubletheoutputdataandsetthesound
hardwaretothedoublesamplingfrequency.
Theresultingsoundisofaveryhighquality-at50KHz
samplingrateevenbetterthantheAmiga!Thisisduetothe
factthattheTT/STEhasno7KHzlowpassfilterwhichcutsoff
thehighfrequencies.IftheAmigaswitchesofthisfilterit
alsoproducesmoretreblesbutalsomorealiasingcomponents.If
ÄyoudoubtaboutthattakeanAmiga,listentoitandreadabout
thefactsintheHardwareReferenceManual[2].
HowevertheAmigahasalargeràdynamicÄrangeduetoit'sfour
volumeregisterswhichintroduceanother36dBdynamic-but
thatisnotthesamethingasthesignal-to-noiseratiowhichis
always48dBfor8bitsystems(theoreticallyofcourse;some
systemsaredisturbedbytheRFpresentinthecomputer).The
D/AconvertersusedintheAmigaaresometimescalled'floating
pointconverters'.InordertocopewiththisPaulahasthe
'Boost'option.Thisoptionsimplysimulatesa9bitD/A
converterbyusinganonlinearconversionscheme.Theresultis
OKforlowvolumeMODsbutitintroducesadditionaldistorsion
athighoutputlevels.

Ifyoudon'tmindabouthowtheinterpolationroutineworks,
skipthefollowingparagraph.Ifnot-Ihopeyouknowhowto
readaCroutine.

/*Fix-Pointnumberrepresentingthestep'R'*/
typedefstructfxp{
intip;/*integerpart(1/1)*/
intfp;/*fractionalpart(1/65536)*/
}fixpoint;

    /*Fetchabytefromthesampledataandcalculatethecorrect
     *'inbetween'value.
*Param:spl:Pointertothesample(char*)
*index:thearrayindexasFixpoint-number
*volume:Amiga-volumeregistervalue,0..64
     *Return:theresultingsamplevalueas16bitinteger
    *range:14bit(8bitsample+6bitvolumeinfo)
*/
intget_samplevalue(char*spl,fixpointindex,intvolume)
{
ints1,s2;/*Samplevaluess†nÄunds†n+1Ä*/

s1=volume*spl[index.ip];
s2=volume*spl[index.ip+1];

return(((s2-s1)*index.fp)/65536+s1);
}


Besidesthisroutinetheindexhastobeincremented(addition
oftwofixpointnumbers),thereturnvaluemustbescaledand
saved,andthesamplemustbecheckedifithasreachedtheend.
Astherearefourchannelswhichmustbecalculatedtheabove
routineiscalled200,000timespersecond.Tomakethisrunin
realtimealotofoptimizationsmustbedone.Eventhe68030
wouldbetotallyoverworkediftheseroutineswerereally
writteninC(thatmeans:IambetterthanmyCcompiler...).




âAreallynicechapter:BUGS&LIMITATIONS!
Ä
àCollisions:
ÄNormallyPaulashouldnotinterferewithanyotherprogram-but
problemswithotherutilitiesaccessingthesoundhardwareare
unavoidable.Aslongasthe'opponent'iswellprogrammed
nothingwillhappen-exceptthatPaulaisstoppedaslongas
theotherprogramusesthesoundchip.Asimpletest:runtwo
Paulas...

àOverload:Ä
Whenyourcomputeristotallyoverloadedtheinternaltimingis
somewhatconfused.AsaconsequencethemomentwhenPaulawrites
intothesoundregistersisundetermined.Soitmayhappenthat
thesoundchipstartsplayingthewrongdata-howeverthe
registerscontaintherightvalues!Inthatcase,choosealower
samplingfrequencyorswitchoftheinterpolation.Orhaveyou
forgottentoturnonthe68030cache??

àResolutionchange:
ÄBeforeyouchangeresolutionsmakesurethatPaulaisinactive.
CallPaula,press'STOP'andleavePaulaagain.UnderMultiTOS
theproblemmightbesolvediftheOSsendsanAP_TERMmessage
toeveryapplication-becausethistellsPaulatostopall
activities.

àProtracker'CIA'-replay-speed:
ÄFromversion2.2ontheCIAspeedsetupworksexactlyasinthe
original.ThedisadvantageisthatsomeNoisetrackermodulesare
nowplayedincorrectly;soyouhavetoswitchofftheprotracker
modewhenyouplaysuchmodules.

àSystemcrashonSTE's:
ÄIknowoftwo1040STEcomputersonwhichPauladoesn'trun.The
symptoms:thecomputerfreezes,theonlyescapebeingthereset
button.Thisislikelytobeahardwareproblemasthereis
absolutelynolinkbetweenthecrashesandthemodulesplayed.
Similarsymptomswereexperiencedona1040STEwitha16MHz
processorcard-itcrashedduetoacacheproblem.Ifyouhave
suchanSTE-sorry,noremedy,it'sahardwarebug!
â



Internals
Ä
àGEM-UserInterface
ÄPaularespondstothe'VA_START'-message(introducedbyGemini).
Thismessagecontainsapointer(inmsg[3]andmsg[4])whichis
evaluatedbyPaula:

*NULLpointerorpointertoanemptystring:Paulareactsin
thesamewayasifitwasanAC_OPENmessage.
*Pointertoastringcontainingonename:Paulatriestoload
thismoduleandstartsplayingit.
˛Ä*Pointertoastringwithseveralspaceseparated
modulenames:PaulaenterstheMultiplaymodeandplaysthem
all.

ThestringiscopiedinternallybyPaula,soitmaybelocalon
thewriter'sside.Howeverthememorymustbereadable-beware
oftheMultiTOSmemoryprotection!!!
Thestringalsomustcontaincompletepathandnameindications,
NOWILDCARDS.ThesourcecodeofMP(ModPlay)mayserveyouas
anexample.

    àMemoryusage
ÄPaulaneedssome45KBforit'sprogramcodeanddata.On
machineswitha68000processoranother15KBareusedforthe
volumetables.

àVectorstealing...
ÄPaulausestheIO7interruptofthe68901-MFP.Ofcoursethe
'XBRA'protocolisused,it'smagicis'PAUL'.

àEmergencystop
ÄWanttokillPaula?Well,don'tforgettosendanAP_TERM
message(GEMmsg#50)toitbeforedoingso.

àSpeeeeed!
ÄTosaveCPUtimeonyourTTPaulashouldbeloadedintoFastRAM
andtheprocessorcacheshouldbeenabled.WithoutcachePaula
willprobablyhaveproblemsdoing50KHzwithinterpolation...
Maytheschwartzbewithyou!

    àHardware
ÄTimerAandthewonderfulYamahasoundchiparenottouched.
Thekeyclickandthewonderful'bell'soundwon'tbeaffected.
MoreoveryoumayalsouseSTSPEECHoranyotherutilityto
producedigitalsoundeffectsontheYamahachip.

àDevelopment
ÄPaula2wasdevelopedusingthePureCcompilerandthePure
Assembler.The'realMODplayer',thereplayroutineisbasedon
the'Protracker1.1BPlayer'oftheAmigaFreelancers.

àThanxforthehelp...
ÄIwanttothankthefollowingpeoplefortheirhelp:
JoelFranáoisAmigahardwaredocumentation,D.O.C.
ReplayRoutine
      FridolinKochProtrackerreplayroutine,goodMODs
Betatesters:
      GeorgesKesseler   Optimizationideas,'Repeat-Finder'
      ChristianLimpach",STE-DMA-Emulator!!!!



Ä
âMP-ModPlayInterface
Ä
MP.TTPisasimpleutilitywhichgivesyouthepossibilityto
launchmodulesfromacommandshell.MPsimplysendsaVA_START
messagetoPaula.Mpdoesn'tevaluatewildcardsbutitis
awareoftheARGVmethodtodealwithlargecommandlines(link
itwith'PCVSTART.O'whencompilingitwithPureC).Thisis
idealforusewithMintShelorMupfel.

AlsotrytoinstallMPasaapplicationfor'*.MOD'-filesin
thestandardDeskTop-youmaythenlistentomodulesbydouble
clickingthem.

MPisnotanexampleforagoodCprogrammingstyle-itisvery
simpleandstraightforward.MP.TTPandMP.Carepublicdomain.



Ä
âCHECKMOD-themodule-doctor
Ä
EventuallyPaulawillrefuseamodulewiththecomment
'CorruptedMODfile'.InthatcaseuseCHECKMODtocheckand
mayberepairthemoduleinquestion.SimplystartCHECKMODand
typeinthenameofthemoduletotest.UnderTOS2.06/3.06drag
themodule'siconontotheCHECKMODicon.

Checkmodwillthenreadthemoduleandcontrolit'sinternal
structures.Itdisplaysalistwiththeusedintstrumentsand
reportstheerror.Thesemaybe:

àCorruptedPatternList:ÄSorry,butthismodulecannotbe
repaired.

àShortSample:ÄAsampleistooshort.Ifthisaffectsonlythe
lastsampleandifthedifferenceisn'ttoobigCheckmodwill
probablybesuccessful.Paulatolerates4lackingbytes.

àSuperfluousDatainMODfile:ÄNoproblem-thismodulssimply
hassomegarbageappended.Checkmodcutsitoff,becausePaula
toleratesonlyupto256bytesofgarbage.

AfterrunningCheckmodyougetthetext'àSaveModuleas:Ä'.Press
<Return>toleave,orenterasingledot'.'tosavethemodule
underit'scurrentname.Orenteranewpathandnametosave
themoduleusinganothername.




Ä
âSupportedmodulecommands
Ä
$0Arpeggio
$1Portamento_up
$2Portamento_down
$3Noteslide
$4Vibrato
$5PortamentoDown+Volumeslide
$6Vibrato+Volumeslide
$7Tremolo
$8(PhasorEffect-ignored)
$9PlayEndpartofSample
$AVolumeslide
$BPosition
$CSet_volume
$DPatternbreak
$EExtendedCommands:
E0xFilterOn/Off(ignored)
E1xFinePortamentoUp
E2xFinePortamentoDown
E3xSetGlissandoControl
E4xSetVibratoWaveform
E5xSetFineTune
E6xLoop
E7xSetTremoloWaveform
E8xStop-ignored!!
E9xRetriggerSample
EAxFineslideVolumeup
EBxFineslideVolumedown
ECxNoteCut
EDxNoteDelay
EExPatternDelay
EFxnoop
$FSet_speed




âBibliography
Ä
Å[1]Ä Jankowski/Rabich/Reschke
    Atari Profibuch ST/STE/TT
    Sybex Verlag, ISBN 3-88745-888-5

Å[2]Ä Amiga Hardware Reference Manual
    Addison-Wesley, ISBN 0-201-18157-6

Å[3]Ä Thomsen
    Digitale Audiotechnik
    Franzis' Verlag, ISBN 3-7723-7151-5

Å[4]Ä DDS - Direkte Digitale Synthese
    Elektor Nß257, Mai 1992, s.52ff

Å[5]Ä Ulrich Michels
    dtv Atlas zur Musik, Band 1 (Akustik, Wellenlehre, Tonparameter)
    Deutscher Taschenbuch Verlag, ISBN 3-423-03022-4






9[.....................................................]0010
âRegistrationform
Ä

IusePAULA,version2.__andIwanttoregister.


Firstandlastname(upto30characters):

    ______________________________


Youraddress:

    ______________________________


    ______________________________





Someroomforcomments,ideasandbugreports(pleasetellmeabout
yourhardwarewhenyouhaveproblemswiththeMODplayer,this
helpsalot):


















