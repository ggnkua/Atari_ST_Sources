This is a version of Alan Paeth's starchart software for Atari STs with color
monitors.  I (Dave Yearke) did not write the program, nor do I take credit for
any of Alan's work.  I wrote the file "starst.c," and made minor modifications
to the other programs to get them to compile properly on the ST.  "Starst.c"
is modeled after the other drivers included with starchart; you may do anything
you want with it, as long as you give me some credit.  When redistributing this
package, please include the whole thing.

Special thanks to Tony Andrews of Wildridge Consulting, Inc. (...!wldrdg!tony)
whose port of version 1 provided me with a good model to base my port of
version 2 on, and of course to Alan Paeth who did the thing in the first place.

I included Dave Van't Hof's BOUNDARY.STR file, but I did not add his clipping
routines because similar ones had already been added to 2.1 (he based his work
on 2.0).  I changed the vector type from 'VS' (solid) to 'VH' (hyphenated),
which causes the lines to appear in dark red on the screen.  'VD' (dotted)
lines will appear as dark green.

Starchart only uses lower case flags; this can be a problem when running from
the GEM desktop, which likes to convert everything to upper case (this is
fixed in the TOS 1.4 ROMs).  To keep the changes minimal, I decided to not add
code to convert the arguments to lower case; instead, a small program named
"starargs" is included which will ask for a program name (such as "starst.ttp)
and its arguments and run it.

When the drawing is done, the program will wait for a keypress.  'S' will
save the screen as a NeoChrome picture named "STARS.NEO"; 's' will save it
as a DEGAS picture named "STARS.PI1".  Pressing 'r' will reverse the image;
that is, the background will become white and the stars will turn black.  This
is ideal for doing screen dumps (press ALT-HELP if you have an Epson-compatible
printer).  Pressing 'r' again restores the original colors.

The command line switch '-x' will put "starst" in a batch mode; that is,
instead of pausing to wait for a key press when it's done, it will dump the
screen to a picture file and exit immediately.  This allows for running it
from an iterative loop to produce charts on consecutive days to do animation.
A file name can be specified after the -x flag:  "STARS.PI1" is the default.
This flag can also be used with "starlase" and "starpost" to redirect standard
output into a file, such as "prn:" (the printer).

I don't know if "starlase" (for HP Laserjets) or "starpost" (for Postscript
printers) will work properly, as I don't have access to either. :-(  I do know
that "starlase" requires almost half a megabyte of memory.

A quick-and-dirty program named "staranim" is also included.  This program
takes as arguments a month [1-12], a year (4 digits), and some arguments
for "starst."  It will loop through every day in the requested month, first
running "planet" to calculate the positions of the planets for that date, then
running "starst" with your arguments plus the "-t" argument to label the
picture with that date and the "-x" argument to exit and save the screen as
a DEGAS picture with the name "STARMMDD.PI1," where MM is the month and DD is
the day.  This is not a fancy program; not much error checking is done on the
arguments, all dates are taken at 1200GMT, it doesn't even know about leap
years, but it is very handy for generating pictures to be used for animation,
such as with Tom Hudson's "SMASHER" and "SHOWER."  Add 100 to the month to get
debugging output; the program names and parameters will be printed but not
executed.  Warning:  A full month's worth of picture files will take up almost
a megabyte of disk space.  A sample file, "DECJAN.ANI," shows the motions of
the objects in Sagittarius from December 1 to January 31. Use "SHOWER" to view
it, which is available from GEnie, CompuServe, or some BBSs.  It was generated
by putting "yale.str" in a RAMdisk, "g:," then running the commands
     staranim.ttp 12 1988 -y g:\yale.str -r 18.2 -d -25 -s 15
     staranim.ttp 01 1989 -y g:\yale.str -r 18.2 -d -25 -s 15
from "starargs," then running "SMASHER" to compact them into an animation file.

Getting started:  unARC the files into a folder.  If you have a command shell
such as "msh," "Micro C-Shell" or "gulam" available, I suggest you use it.
Otherwise, double-click on "starargs.tos."  Try the following:
          planet.ttp (with no arguments; make sure your ST's clock is set)
          starst.ttp -c sgr
          starst.ttp -c ori -f boundary.str
(Look in the file "con.loc" for constellations and asterisms than can be
accessed with the "-c" flag.)

Future enhancements I am considering include monochrome support and a GEM
interface.  I would also like to come up with a more efficient way of doing
animation; the "staranim" program simply runs "starst" many times, producing
output that is 99% identical in each run.  A better way would be to imbed the
animation in "starst" itself, where it would generate a screen with all the
"fixed" stuff (lines, stars, etc.), save that screen in a different part of
memory, then exec "planet," plot the data, save the picture, restore the picture
from the saved background, and repeat for the time interval specified.  I'll try
to do this for the next release; don't know when that'll be, though ...

Obligatory Caveat:  I make no guarantees as to the robustness or accuracy of
this port of starchart.  While I am sure there are no devestating bugs in it,
should one appear I am not responsible for any damage or misinformation it
may cause.

All programs were compiled with Mark Williams C, version 3.0.6; portions of
these programs copyright 1984, Mark Williams Company.

questions or comments on the ST version only should go to:
dgy@sigmast.UUCP (Dave Yearke, Sigma Systems Technology, Inc.)
