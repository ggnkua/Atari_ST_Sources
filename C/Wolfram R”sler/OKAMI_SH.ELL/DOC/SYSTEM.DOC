
	===============================================

	   OKAMI SHELL VERSION 1.0 - SYSTEM-FUNKTION

	===============================================
		      Stand: 25.03.90


Um die Okami-Shell von eigenen Programmen aus aufrufen zu kînnen, gibt es
die Funktion system. Beispiel:

DiskDir()
{
  extern long system();
  
  system("ls a:\*.*");
  system("df a:");
  
}

Durch Aufruf der Funktion DiskDir werden Inhalt und freier Speicherplatz von
Laufwerk a: ausgegeben. Dies wird erreicht durch Aufruf der Shell mit den
Kommandos "ls a:\*.*" und "df a:".

Um die system-Funktion benutzen zu kînnen, muû die Datei system.c einge-
bunden werden. Dazu gibt es folgende Mîglichkeiten:
1. #include "system.c"
2. Kompilieren der Datei system.c und Mit-Linken der Objektdatei system.o.
3. Kompilieren der Datei system.c und Einbinden der Objektdatei system.o
   in eine Library.
   
Auûerdem muû in dem Programm die globale Variable
char *_shpath
definiert werden. Diese Variable zeigt auf einen String, der den Aufruf-
Pfad der Shell (vollstÑndiger Name, z.B. "d:\shell\sh.ttp") enthÑlt.

Ein Beispielprogramm ist in der Datei system.c enthalten. Um es zu akti-
vieren, muû in der Datei
#define TEST 0
auf
#define TEST 1
umgeÑndert werden.

Dank einer BeschrÑnkung des Betriebssystems ist es nicht mîglich, der
Shell Strings von einer LÑnge von mehr als 39 Zeichen zu Åbergeben. Dies
ist die Anzahl von Zeichen, die in der Desktop-Dialogbox beim Aufruf
eines TTP-Programms fÅr die Kommandozeile zur VerfÅgung stehen.

