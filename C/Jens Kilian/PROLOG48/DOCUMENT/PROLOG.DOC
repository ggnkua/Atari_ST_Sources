0720103030566
1TOY Prolog Version 4Seite #
2(c) JJK 1987
9[....................................................]
€










DokumentationzuTOYPrologST€

Version4


(c)Copyright1987,JensJ.Kilian

          ‰Inhalt€                                           ˆSeite€

1.Grundlagen€
1.1UrsprngevonProlog4
1.2WasistProlog?4
1.3DiewichtigstenBegriffeundKonzepte5

2.SyntaxvonTOYPrologST€
2.1Einfhrung7
2.2SyntaxvonTermenallgemein8
2.3SyntaxvonKlauseln10

3.DieBenutzerschnittstelle€
3.1DerAufbaudesSystems11
3.2DieSystemdateien11
3.3WiebenutztmanTOYPrologST?13
3.4DerBildschirmeditor14

4.SystemfunktionenundvordefiniertePr„dikate€
4.1AttributevonFunktoren16
4.2Begriffe16
4.3Fehlermeldungen17
4.4BeschreibungdereinzelnenFunktionen20

5.GEM-Funktionen€
5.1DatenstrukturenauerhalbvonProlog47
5.2VDI-Funktionen53
5.3AES-Funktionen66
5.4Hilfsfunktionen79

6.DieHilfs-undDemonstrationsprogramme€
6.1DerKlauseleditor(EDITOR)80
6.2DerProgrammanalysator(CALLTREE)81
6.3DerKompaktierer(COMPACT)81

6.4EinkleinerLISP-Interpreter(LISCHP)82
6.5SymbolischesDifferenzieren(DIFF)82
6.6Einf„rbeneiner'Landkarte'(FARBEN)82
6.7EinerelationaleDatenbank(TOYSQL)83

6.8TICTAC:EinSpielmitGrafik83
6.9HEXAPAWN:EinSpielmitGEM-Untersttzung83

Anh„nge

A.UnterschiedezurvorherigenVersion84
B.Literaturangaben85


     ˆUrheberrechte€

"TOYProlog"istderNameeinesProgramms,dasvonF.Kluzniakund
S.SzpakowiczinihremBuch"PrologforProgrammers"ver”ffentlicht
wurde."TOYPrologST"istderNamederaufdemATARIST
implementiertenVersiondiesesProgramms.DieseVersionist
gegenberderursprnglichenerheblicherweitert.

DieRechteandiesemProgrammliegenbei

JensKilian
LiegnitzerWeg14
6140Bensheim1

DasProgrammistzur”ffentlichenVerbreitungfreigegeben("Public
Domain"),sofernkeinederHinweiseaufbestehendeUrheberrechte
ausdenverschiedenenDateienentferntwerden.Davonausgenommen
istjedeˆgewinnbringende€Weitergabe(z.B.derVerkauf).
ZurkommerziellenNutzungdesProgrammsisteineschriftliche
Genehmigungerforderlich.

'ATARI'und'ST'sindWarenzeichenderATARICorp.DerAutorhat
keineVerbindungzudieserFirma;dieFirmaATARIistnicht
verantwortlichfrdasProgramm.DerNamedesProgrammsbezieht
sichausdrcklichnuraufdasRechnermodell,aufdemdasProgramm
lauff„higist.

IndieserDokumentationwerdenandereBezeichnungen(wiez.B.
'GEM','UNIX'etc.)ohneRcksichtdaraufverwendet,obessichum
WarenzeichenirgendwelcherUnternehmenhandelt.

DerAutorkannkeineVerantwortungfrdieKorrektheitdes
ProgrammsoderfrSch„denbernehmen,derenUrsache
Programmierfehler,unsachgem„eBedienung,Sch„denamverwendeten
Rechneretc.sind.


DieEntwicklungdiesesProgrammshatvielZeitgekostet.Ichbitte
daherdiejenigen,dieesbenutzen,umeineSpendevonca.20.-DM.
Ichkannniemandendazuzwingen,abervomErfolgdieser
'Sammelaktion'h„ngtesab,obauchzuknftigeVersionendes
ProgrammszusognstigenBedingungenverbreitetwerdenk”nnen.
ManvergleichedengenanntenBetragz.B.mitkommerziellen
VersionenvonProlog(diemeistensnochnichtmalfehlerfreisind
bzw.demStandardvonProlog-10entsprechen).
WermireinesolcheSpendezukommenlassenwill,kanndasGeldauf
meinKontobeiderBezirkssparkasseBensheim(BLZ50950068)
berweisen.MeineKontonummerist1110550.

EignungdesProgramms€

TOY Prolog STsollteaufallenRechnernderST-Serielauff„hig
sein.EsuntersttztSchwarzwei-undFarbmonitore.DasProgramm
istzwarinallenBildschirmaufl”sungenbenutzbar,aberviele
Funktionenben”tigeneineBildschirmbreitevon80Zeichen(dazu
geh”rtinsbesonderederBildschirmeditor).DasProgrammsollte
dahermithoherodermittlererAufl”sungbenutztwerden.

1.‰Grundlagen
€
1.1  UrsprngevonProlog

1972entwickelten„Kowalski€und„Hayes€dieKonzepteder
logischenProgrammierung.1973wurdedieersteFormvon
Prologvon„Colmerauer€inMarseilleimplementiert.Bis1981
wurdeeswenigbeachtet;nachderAnkndigungderJapaner,
Prologalsˆdie€Sprachefrihr'5th-generationproject'zu
benutzen,„ndertesichdieseSituation.Prologist
mittlerweileweitverbreitet(nach'Dr.Dobb'sJournalof
SoftwareTools'vomJanuar1987inEuropast„rkeralsinden
USA).EsgibtfrdiemeistenUNIX-SystemeProlog-
Interpreter;unterCP/Mgibtesmicro-Prolog;auf
GrorechnernlaufengroeSystemewieProlog-10(einSystem,
daseinenanerkanntenStandardfestgesetzthat)undMPROLOG;
dasletztereistauchaufdemSTunddenSmalltalk-
WorkstationsvonTektronixverfgbar.Sogar(!)aufden
Siemens-GrorechnernunterBS2000l„ufteineVersionvon
MPROLOG.

Colmerauerundanderehabeninzwischen(1981/82)ein
'endgltiges'Prologentwickelt,n„mlichPrologII.Viele
moderneProlog-SystemeenthaltenKonzeptewieModularisierung
vonProgrammen,Ans„tzezurparallelenVerarbeitungund
intelligentesBacktracking.EsgibtauchProlog-Compiler
(z.B.inProlog-10).

1.2  WasistProlog?

Prologisteine„logische€Programmiersprache,d.h.einProlog-
ProgrammisteineAnsammlunglogischerFaktenundRegeln.Die
GrundlagenfrdieBehandlungsolcherRegelnentstammender
„Pr„dikatenlogik€.DerProlog-Interpreterwendetein
BeweisverfahrenderPr„dikatenlogikaufdieseRegelnan;die
AusfhrungeinesProlog-ProgrammsbestehtausdemVersuch,
dieWahrheiteinerAussagezubeweisen.

DasProlog-Systembestehtausdem„Interpreter€undder
„Datenbank,€diedieKlauseln(FaktenundRegeln)desProgramms
enth„lt.DieDatenbankkannvomBenutzer,aberauchvom
Programmselbstmanipuliertwerden.WieinLISPundanderen
SprachenderknstlichenIntelligenzbestehtinPrologkein
UnterschiedzwischenProgrammenundDaten.InPrologist
dieseEigenschaftbesondersdeutlich:esgibtinProlog
wederdasKonzeptdesˆProgramms€nochdasderˆDaten€.Obein
FaktodereineRegelalsProgrammoderDatuminterpretiert
wird,istAnschauungssache.

FrweitereInformationenzurPhilosophievonPrologwirdauf
dieeinschl„gigeLiteraturverwiesen.

1.3  DiewichtigstenBegriffeundKonzepte

Hinweis€:DieserAbschnittistnuralsšbersichtgedachtund
ersetztinkeinerWeiseeineEinfhrungindie
SpracheProlog.Anf„ngersolltensicheingutes
einfhrendesBuchkaufen(esgibtinzwischenauer
dem'Clocksin/Mellish'auchdeutscheBcherber
Prolog).EsgibtauchdieM”glichkeit,anProlog-
Kursenteilzunehmen;z.B.bietetdieTHDarmstadt
imRahmendes'Studiumsfralle'einenkostenlosen
Prolog-Kursan.

ˆLiterale€:EinLiteralisteinsymbolischesDatenobjekt.
EsgibtverschiedeneArtenvonLiteralen:

„Namen€bestehenausBuchstaben,Ziffernunddem
Zeichen'_'.SiemssenmiteinemˆKlein€buchstaben
beginnen.
„Symbole€bestehenausSonderzeichen.
VerschiedeneZeichenstellenfrsichalleinschon
einLiteraldar.
SchlielichgibtesdieM”glichkeit,„beliebige
Zeichenfolgen€alsLiteralezubenutzen,indemman
sieinApostrophen(')einschliet.ImInnerneines
solchenLiteralsk”nnenaucheinzelneApostrophen
auftreten,wennsiebeimHinschreibenverdoppelt
werden.

ˆKonstanten€:EsgibtinPrologzweiArtenvonKonstanten:
ZahlenundLiterale.Konstantenheienauch„Atome€,
dasiediekleinsteEinheitderDatenstrukturen
sind.AllerdingswerdenAtomeoftmitLiteralen
gleichgesetzt.

ˆVariablen€:VariableninPrologunterscheidensichfundamental
vonVariableninimperativenSprachenwieModula-2,
Pascal,ALGOL,FORTH,PL/1,FORTRANoderCOBOL;sie
unterscheidensichauchvonVariableninSprachen
mitanderenKonzeptenwieLISPoderSmalltalk.
„InProloggibteskeineZuweisungsoperation!€
EineVariableinPrologisteinObjekt,dessen
Struktur„unbekannt€ist.ImVerlaufderAusfhrung
einesProlog-ProgrammswerdenVariablenan
bestimmteWerte„gebunden€(mitdiesenWerten
„instantiiert€).VondiesemZeitpunktankanndie
VariablenichtmehrvonihremWertunterschieden
werden.Prolog-Variablen„hnelndarinden
'Variablen'derAlgebra.
Ein„Variablenname€bestehtausBuchstaben,Ziffern
unddemZeichen'_'undmumiteinem
ˆGro€buchstabenodereinem'_'beginnen.

ˆZusammengesetzteObjekte€:
AusKonstantenundVariablenwerdenkomplexere
Objektezusammengesetzt.EinsolchesObjektwird
auchals„Funktor-Term€bezeichnet.DieRegelzur
Bildungisteinfach:EinFunktor-Termbestehtaus
einemLiteral(dem„Funktor€)undauseiner
beliebigenAnzahlvon„Argumenten€.DieArgumente
k”nnenbeliebigeObjektesein,insbesonderewieder
zusammengesetzteObjekte.EinzelneLiteraleohne
Argumentesindsyntaktisch„quivalentzuFunktor-
Termenmit0Argumenten.

EsgibtverschiedeneDarstellungsartenfrFunktor-
Terme.Inder„regul„ren€oder„kanonischen
€SchreibweisewirdeinzusammengesetztesObjekt
dargestellt,indemzuerstderFunktorgeschrieben
wird,danach(fallsessichnichtumeinLiteral
ohneArgumentehandelt)dieArgumenteinrunden
Klammern,durchKommatagetrennt.
UmdieDarstellunggroerObjektezuvereinfachen,
gibtesdieM”glichkeit,Funktorenals„Operatoren
€zuvereinbaren;frListengibteseinebesondere
„Listenschreibweise€.

UmdenFunktoreineszusammengesetztenObjekts
eindeutigzubeschreiben,schreibtmanden„Namen
€desFunktors,einenSchr„gstrich,unddieAnzahl
derArgumente(die„Stelligkeit€).Also:

Funktorvonvater(bert,anna)istvater/2
Funktorvonvateristvater/0

ˆTerme€:JedesDatenobjektvonPrologistein„Term€.

ˆKlauseln,Fakten,Regeln,Kommandos,Anfragen€:
EinProlog-ProgrammisteineAnsammlungvon
„Klauseln€.Klauselnsind„Fakten,Regeln€und
„grammatischeRegeln€.
FaktensindzusammengesetzteTerme.Regelnsind
ebenfallszusammengesetzteTermemitdemFunktor
':-'/2als„uerstemFunktor,einem„Regelkopf€als
erstemundeinem„Regelrumpf€alszweitemArgument.
GrammatischeRegelnhabendenFunktor'-->'/2und
sindbesondersaufgebaut.

Ein„Kommando€isteinzusammengesetzterTermmit
Funktor':-'/1;eine„Anfrage€istsyntaktischeinem
Regelrumpf„quivalent.

GenauereszurBedeutungdieserObjektestehtim
KapitelberdieBenutzerschnittstelle.

ˆAusfhrungeinesProgramms;Erfolg,Fehlschlag,Backtracking€:
DieAusfhrungeinesProlog-Programmswirddurch
einKommandoodereineAnfrageveranlat;das
Kommando(bzw.dieAnfrage)wirdals„Ziel
€betrachtet.Eswirdversucht,dasZielzu„erfllen
€(zubeweisen),indemesberdieRegelnin
„Teilziele€aufgespaltenwird.Faktenk”nnendabei
alsunteilbareAxiomeangesehenwerden.Kannein
Teilzielnichterflltwerden(„Fehlschlag€),dann
versuchtderProlog-Interpreter,dasvorhergehende
Teilzielnochmals(aufandereWeise,miteiner
anderenKlausel)zuerfllen.DieserVorgangheit
„Backtracking€.

ˆPr„dikate,Prozeduren,Systemfunktionen€:
DerFunktoreinesZielsoderTeilzielswirdauch
als„Pr„dikatensymbol€oder„Pr„dikat€bezeichnet.Die
GesamtheitderKlauselneinesPr„dikatskannman
als„Prozedur€bezeichnen(obwohldieseBezeichnung
zuMiverst„ndnissenfhrenkann).
„Systemfunktionen€besitzenkeineKlauselninder
Datenbank,k”nnenaberi.A.erflltwerden.Sie
sindimProlog-Interpreterselbstimplementiertund
werdenmeistenswegenihrer„Seiteneffekte€(z.B.
Ein-/Ausgabe)aufgerufen.

DieArgumenteeineszusammengesetztenTerms,der
einenAufrufeinesPr„dikatsodereiner
Systemfunktiondarstellt,werdenals„Parameter
€bezeichnet.

     2. ‰SyntaxvonTOYPrologST€

2.1  Einfhrung

DiefolgendeDarstellungderSyntaxvonTOYPrologorientiert
sichanderSyntaxbeschreibungvonKluzniakundSzpakowicz.
Diegew„hlteDarstellungsformisterweiterteBNF;essind
auchSyntaxdiagrammevorhanden(alsGEM-Metafiles),dieaber
teilweiseetwasunpr„zisesind.

DieverwendeteNotation:

EineProduktionwirdalsBNF-Regelmitden
metasprachlichenZeichen::=|[]{}angegeben.Die
terminalenSymbolesindfett€dargestellt.

DieFolge[...]bedeutet,daderKlammerinhalt
weggelassenwerdenkann.

DieFolge{...}bedeutet,daderKlammerinhalt
beliebigoftwiederholtoderweggelassenwerdenkann.

KommentarezudeneinzelnenRegelnwerdendurch*€
gekennzeichnet(nurderFormhalber).

2.2  SyntaxvonTermenallgemein

     Term::=Term 1200€
     Term N€::=Term N-1€|Pr„fix-Term N€|Infix-Term N€|
Postfix-Term N€
     Pr„fix-Term N€::=Operator fx,N€Term N-1€|Operator fy,N€Term N€
     Infix-Term N€::=Term N-1€Operator xfx,N€Term N-1€|
Term N-1€Operator xfy,N€Term N€|
Term N€Operator yfx,N€Term N-1€
     Postfix-Term N€::=Term N-1€Operator xf,N€|Term N€Operator yf,N€
*€MehrdeutigeKombinationenvonOperatorenwerdenhierdurch
nichtabgedeckt.DerParsererkenntalleKombinationen,die
ohneeinegr”ereKontextanalysealserlaubtklassifiziert
werdenk”nnen(Prologistˆnicht€kontextfrei!).

     Term 0€::=Variable|Zahl|Liste|String|
Nicht-Operator[(€Term{,€Term})€]|
(€Term)€|{€Term}€
     Nicht-Operator::=Funktor
*€    DerFunktordarfnichtalsOperatorvereinbartwordensein.

     Operator T,N€::=Funktor
*€TmuausderMenge{fx,fy,xfx,xfy,yfx,xf,yf}sein.N
muzwischen1und1200(einschlielich)liegen.DerFunktor
mueinName,SymboloderEinzelzeichensein(sieheunten).
GemischteOperatorenk”nnenh”chstensjeeinenun„renund
bin„renTypgleichzeitigbesitzen.

     Liste::=[€[Term 999€{,€Term 999€}[|€Term]]]€
*€','/2isteinOperatormitPriorit„t1000,deshalbk”nnen
Terme,derenFunktoreneinePriorit„tó999haben,ohne
KlammerndurchKommataverbundenwerden.

     Funktor::=Name|Q-Name|Symbol|Einzelzeichen
     Name::=Kleinbuchstabe{Alphanumerisch}
     Alphanumerisch::=Kleinbuchstabe|Grobuchstabe|Ziffer|
_€
     Q-Name::='€{Q-Zeichen}'€
     Q-Zeichen::=''€|Nicht-'
*€    Nicht-'isteinbeliebigesZeichenauer'€

     Symbol::=Symbolzeichen{Symbolzeichen}

     Variable::=Variablenanfang{Alphanumerisch}
     Variablenanfang::=Grobuchstabe|_€

     Zahl::=[-€]Ziffernfolge
*€Esistzubeachten,dainTOYPrologSTnurZahlenim
Bereichvon-32767bis32767erlaubtsind.
BesondereVorsichtistgeboten,wenndasMinuszeichenals
Funktor€verwendetwerdensoll.Esmudanndurchein
LeerzeichenvonderZahlgetrenntwerden.Beispiele:
-20istdieZahl-20.
-20istderTerm'-'(20).
--20istderTerm'--'(20),wenn'--'/1alsPr„fix-
Operatorvereinbartwurde,ansonsteneinillegaler€
Term(!).

     Ziffernfolge::=0X€SedezimalZF|0x€SedezimalZF|
0€Oktalziffer{Oktalziffer}|
Dezimalziffer{Dezimalziffer}
SedezimalZF::=Sedezimalziffer{Sedezimalziffer}

     String::="€{S-Zeichen}"€
     S-Zeichen::=""€|Nicht-"
*€Nicht-"isteinbeliebigesZeichenauer"€.InTOYPrologST
isteineZeichenketteeineListeausden„Namen€derZeichen,
nichtwieinProlog-10ausihren„ASCII-Werten€.

     Oktalziffer::=0€|1€|2€|3€|4€|5€|6€|7€
Dezimalziffer::=Oktalziffer|8€|9€
Sedezimalziffer::=Dezimalziffer|A€|B€|C€|D€|E€|F€|
a€|b€|c€|d€|e€|f€

     Kleinbuchstabe::=a€|b€|c€|d€|e€|f€|g€|h€|i€|j€|
k€|l€|m€|n€|o€|p€|q€|r€|s€|t€|
u€|v€|w€|x€|y€|z€|€|‚€|ƒ€|„€|
…€|†€|‡€|ˆ€|‰€|Š€|‹€|Œ€|€|‘€|
“€|”€|•€|–€|—€|˜€|€|Ÿ€| €|¡€|
¢€|£€|¤€|¦€|§€|°€|±€|³€|´€|À€
     Grobuchstabe::=A€|B€|C€|D€|E€|F€|G€|H€|I€|J€|
K€|L€|M€|N€|O€|P€|Q€|R€|S€|T€|
U€|V€|W€|X€|Y€|Z€|€€|€|€|€|
’€|™€|š€|¥€|²€|µ€|¶€|·€|¸€|Á€
     Symbolzeichen::=#€|$€|&€|*€|+€|-€|.€|/€|:€|<€|
=€|>€|?€|@€|\€|^€|`€|~€|€|›€|
œ€|€|¨€|©€|ª€|­€|®€|¯€|İ€|Ş€|
ß€|ğ€|ñ€|ò€|ó€|ö€|÷€|ÿ€
*€EineinzelnerPunkt,gefolgtvonLeerraum,istkein
Symbolzeichen,sonderneinEnde-Punkt.

     Einzelzeichen::=,€|;€|!€
     Token::=Funktor|Variable|Zahl|String
(€|)€|[€|]€|{€|}€||€
*€KommentareundLeerraumk”nnenbeliebigzwischen
Tokenseingesetztwerden,abernichtinderenInnern.

     Kommentar::=%€{Nicht-Zeilenende}Zeilenende€
*€Zeilenende€isteinZeichen,dasdasEndeeinerZeileangibt
(inTOYPrologSTdasASCII-ZeichenCR),Nicht-Zeilenendeist
einbeliebigesanderesZeichen.

     Leerraum::=Steuerzeichen€{Steuerzeichen€}
*€JedesnichtdruckbareZeichen,insbesondere'SPACE','TAB'und
Zeilenende,isteinSteuerzeichen€.DasDateiende(bzw.das
ZeichenEOF)giltnicht€alsSteuerzeichen€!
     Ende-Punkt::=.€Leerraum
*€JedereingegebeneTermmumiteinemEnde-Punktabgeschlossen
werden.

2.3  SyntaxvonKlauseln

DieSyntaxderKlauselnrichtetsichnachderverwendeten
Benutzerschnittstelle,dienachdemMustervonProlog-10
entworfenwurde.

     Klausel::=Definition|Grammatische_Regel|
Direktive
     Definition::=Regel|Fakt
     Regel::=Kopf:-€Rumpf
Fakt::=Kopf
*€Der„uersteFunktorvonKopfistnicht':-€'/2

     Kopf::=Funktor-Term
     Rumpf::=R-Alternative{;€R-Alternative}
     R-Alternative::=Aufruf{,€Aufruf}
     Aufruf::=Funktor-Term|Variable|(€Rumpf)€

     Funktor-Term::=Term
*€WedereineVariablenocheineZahl-eineformaleDefinition
istm”glich,aberumst„ndlich.

     Grammatische_Regel::=Linke_Seite-->€Rechte_Seite
     Linke_Seite::=Nicht-terminal[,€Kontext]
     Nicht-terminal::=Funktor-Term
     Kontext::=terminale_Symbole
     Rechte_Seite::=Alternativen
     Alternativen::=Alternative{;€Alternative}
     Alternative::=Regelelement{,€Regelelement}
     Regelelement::=Nicht-terminal|terminale_Symbole|
Bedingung|(€Alternativen)€
     terminale_Symbole::=Liste|String
*€Nur'geschlossene'Listensinderlaubt,alsokeineStruktur
derForm[....|T],wobeiTkeineListeist.Tdarf
insbesonderekeineVariablesein.

     Bedingung::=!€|{€Term}€

     Direktive::=Kommando|Anfrage
     Kommando::=:-€Rumpf
     Anfrage::=Rumpf
*€    Der„uersteFunktorvonRumpfistnicht':-€'/1

     3.‰DieBenutzerschnittstelle€

3.1  DerAufbaudesSystems

DiefrherenVersionenvonTOYPrologSTbestandenauseinem
inneren€Interpreter,dernureineneinfachenZwischencode
verarbeitenkonnte,undeinem„ueren€Interpreter(Parser),
deralsZwischencode-Dateieingelesenwerdenmute.
IndervorliegendenVersionistdieseUnterscheidungzum
gr”tenTeilweggefallen.DerInterpreterkannjetztalle
TermeauergrammatischenRegelndirektverarbeiten.

DieVerarbeitungˆohne€dieBenutzerschnittstellegeschieht
folgendermaen:

     -WirdvomEingabestrom'user'gelesen,undwurdedurch
dieSystemfunktiongoal/1einZieldefiniert,sowird
versucht,diesesZielzuerfllen.

     -AnsonstenwerdenTermeeingelesen;Fakten€undRegeln€
werdenindieDatenbankaufgenommen,Kommandos€werden
direktausgefhrt.

NachdemStartdesInterpretersistkeinStandardziel
definiert,undessindnichtalleStandardoperatoren
vereinbart.NormalerweisewirddieSystemdatei'SYSFILE.TOY'
eingelesen,dieauerdiesenVereinbarungendenQuellcodeder
vordefiniertenPr„dikateundderBenutzerschnittstelle
enth„lt.Dazugeh”rtaucheinPr„prozessorfrgrammatische
Regeln.

3.2  DieSystemdateien

3.2.1DieKonfigurationsdatei'CONFIG.TOY'

DieKonfigurationsdateiisteineTextdatei,dieOptionenfr
dieInitialisierungdesInterpretersenth„lt.Siemu€den
Namen'CONFIG.TOY'tragenundimselbenDateiverzeichniswie
'TOY.PRG'stehen.

DerTextinderKonfigurationsdateiwirdvollkommenignoriert
-bisaufZeilenmitfolgendemAufbau:

#<Option><Argument>(kein€Leerraumdazwischen!)

<Option>isteinKlein-oderGrobuchstabe,dereine
bestimmteOptionausw„hlt,<Argument>h„ngtvonderOption
ab.UnbekannteOptionen,sowiederRestderZeilehinter
<Argument>,werdenignoriert.EswerdenauchkeineFehler
erkannt;wirdz.B.zuvielSpeicherreserviert,dannwirddas
Programmerstnach€demEinlesenderKonfigurationsdatei
abgebrochen.

ImMomentwerdenfolgendeOptionenerkannt:

RSpeicherplatzr€eservieren.<Argument>isteineZahl,die
inDezimaldarstellungangegebenwerdenmu.Siegibtdie
Gr”edeszureservierendenSpeichersinKBytean.
DieseOptionistwichtig,wennGEM-Funktionenverwendet
werdensollen,daGEMvonGEMDOSfrVerwaltungszwecke
Speicheranfordert.Dasgeschiehtz.B.wennein
Ger„tetreiberodereineResourcedateigelesenwird.
FallszuvielSpeicherreserviertwerdensoll,wirddas
Programmabgebrochen.

LDateil€aden.<Argument>istderNameeinerDatei(ohne€
Pfadnamen)imselbenDateiverzeichniswie'TOY.PRG'und
'CONFIG.TOY'.
DieangegebeneDateiwirdstatt€'SYSFILE.TOY'
eingelesen,wennderInterpreterinitialisiertwurde.

C(c€hain)Programmnachladen.DieseOptionerm”glichtes,
nachBeendigungdesProgrammsˆohneRckkehrzumDesktop€
einanderesProgrammzustarten.DerAufbaudergesamten
Optionszeileist

#C<x><y><Programm>{Leerzeichen<Argumente>}

<x>isteinZeichen,dasangibt,ob<Programm>eineGEM-
Anwendungist,<y>gibtan,ob<Programm>TOS-Funktionen
benutzt.EingeraderASCII-Wert(z.B.z'0')bedeutet
dabei,dadasentsprechendeKriteriumnicht€zutrifft,
einungeraderWert(z.B.'1')bedeutet,daeszutrifft.
<Programm>istderNamedesnachzuladendenProgramms
(eventuellmitPfadnamen);<Argumente>bezeichneteine
Zeichenkette(biszumZeilenende),diedemProgrammin
der'basepage'bergebenwird.
DasNachladenerfolgtmitderAES-Funktion'shel_write'.

3.2.2     DieQuelldatei'SYSFILE.TOY'

'SYSFILE.TOY'enth„ltVereinbarungenfrOperatoren,
Funktionstastenbelegung,sowiedenQuellcodeder
vordefiniertenPr„dikate,desPr„prozessorsfrgrammatische
RegelnundderBenutzerschnittstelle.

WersichdiesenCodeanschauenoderihnver„ndernm”chte,
solltedazuabernicht€dieDatei'SYSFILE.TOY'benutzen.Sie
istn„mlichmitHilfeeinesHilfsprogrammskompaktiertworden
(alleKommentarewurdenentfernt,undproZeilestehteine
ganzeKlausel).Derursprngliche,kommentierteQuelltext
stehtinderDatei'MONITOR'im'SOURCE'-Ordner.Erkannmit
demHilfsprogramm'COMPACT'kompaktiertwerden;dieses
ProgrammbersetztauchgrammatischeRegeln.

3.3  WiebenutztmanTOYPrologST?

NachdemEinlesenderDatei'SYSFILE.TOY'wirddie
Benutzerschnittstellegestartet.DasPr„dikatear/0istzu
diesemZeitpunktalsStandardzielvereinbartundwirdbei
jedemProgrammabbruchautomatischaufgerufen.
ear/0ruftdieHauptschleifederBenutzerschnittstelleauf;
siestehtimPr„dikatloop/0.AuchandereProgrammek”nnen
dieBenutzerschnittstelleauffolgendeWeiseaufrufen:     

loopruftdieBenutzerschnittstelleauf.Eingabevon
'stop'bewirktwieblichdenAbbruchdesgesamten
ProgrammsunddieRckkehrzumDesktop.

tag(loop)bewirktdasselbewie'loop'allein;beiEingabevon
'stop'wirdaberdasProgrammnichtabgebrochen.
Stattdessenschl„gtderAufruf'tag(loop)'fehl.

NormalerweisebefindetsichderComputerim„Anfragemodus€.Man
erkenntdasdaran,daderPrompt

?-

ausgegebenwird.EswirddanachaufdieEingabeeinesTerms
gewartet,derauffolgendeWeiseinterpretiertwird:

-VariablenundfehlerhafteTermewerdenignoriert,Zahlen
erzeugeneineFehlermeldung.

-RegelnundgrammatischeRegelnwerdenindieDatenbank
aufgenommen.

-Kommandoswerdendirektausgefhrt.

-ListenwerdenalsArgumentfreinenAufrufvon
consultall/1benutzt(EinlesenvonDateien).

-AlleanderenTermewerdenalsAnfragenbetrachtet.Es
wirdversucht,dasangegebeneZielzuerfllen.Gelingt
das,sowerdendieWertederVariablenausgegeben,und
dasSystemwartetaufdieEingabeeinesZeichens.
HandeltessichumdasZeichen';',sowirdversucht,
dieAnfrageneuzuerfllen.
Enth„ltdieAnfragekeineVariablen,sowird'yes'
ausgegeben;schl„gtsiefehl,sowird'no'ausgegeben.

DieEingabevon'stop'bewirktdenAbbruchdesProgrammsund
dieRckkehrzumGEM-Desktop.

ImAnfragemoduswerdenzwarRegelnerkanntundindie
Datenbankgeschrieben,aberkeineFakten.UmeinProgramm
einzulesen,mumandahereinesderPr„dikateconsult/1,
reconsult/1oderconsultall/1benutzen.UmFakten(und
Regeln)vonderTastaturauseinzugeben,gibtman'user'als
Dateinamenan.

Nachconsult(user)etc.befindetsichderComputerim
„Lesemodus€.IndiesemModuserscheintkein€Prompt.Fakten,
RegelnundgrammatischeRegelnwerdengespeichert,Kommandos
werdenausgefhrt.Anfragenk”nnennichterkanntwerden.Der
Lesemoduswirdnachdem'Einlesen'desDateiendesverlassen.
BeiEingabevonderTastaturaus(Datenstr”me'user'bzw.
'keybd')kanndasDateiendedurchEingabedesZeichensEOF
(ASCII'SUB',Control+Z)simuliertwerden.DadasDateiende
vondenEingabefunktionennichtalsSteuerzeichenerkannt
wird,muzwischendemletztenPunkteinerDatei(bzw.
Eingabezeile)unddemDateiende(bzw.EOF)mindestensein
Leerraum€stehen!

DieblicheVorgehensweisebeiderProgrammentwicklungist
folgende:

-SchreibendesProgrammsmiteinemTexteditor

-StartendesInterpreters

-EinlesendesProgramms/Aufrufdergewnschten
Pr„dikate.ZurFehlersuchekannmanden„Testmodus€und
den„Einzelschrittmodus€benutzen.

-InteraktivesVerbessernvonFehlernundVer„nderndes
ProgrammsmitdemBildschirmeditorund/oderdem
HilfsprogrammEDITOR.
MitdemPr„dikatsave/2k”nnenge„ndertePr„dikateals
Dateienabgespeichertwerden.

-VerlassendesSystems,KorrekturderQuelldatei.

-WeiterbeimzweitenSchritt.

3.4DerBildschirmeditor

DievorliegendeVersionvonTOY Prolog STenth„lteinen
bildschirmorientiertenEditor,derzuminteraktivenVer„ndern
vonTermenundKlauselnbenutztwerdenkann.DerEditor
erhebtnichtdenAnspruch,besonderskomfortabeloderschnell
zusein;erreichtaberfrdenvorgesehenenVerwendungszweck
aus.

MitdemEditorlassensichZeilenineinem„Textpuffer
€bearbeiten.DieZeilenl„ngeistauf80Zeichenbeschr„nkt,
derEditorkannaberZeilenmitšberl„ngeerkennenund
bearbeiten.Eswirdempfohlen,solchešberl„ngenzu
vermeiden,dadasEinfgenundL”schenvonZeichensonst
erheblichmehrZeitinAnspruchnimmt.

ˆAufrufdesEditors€

DerEditorkannmitdenPr„dikaten'$edit'/1,edit/2und
edit/3,sowieberdasHilfsprogramm'EDITOR'aufgerufen
werden.

ˆSteuerungdesEditors€

DerEditorwirdmitfolgendenFunktionstastengesteuert:

ˆTaste€ˆFunktion€

Cursortasten€BewegungdesCursors
Clr/Home€CursorzumAnfang/EndederaktuellenZeile
Control+links€CursorzumEndedesvorherigen'Wortes'
"+rechts€CursorzumAnfangdesn„chsten'Wortes'
"+Clr/Home€CursorzumTextanfang

Insert€SchaltetdenEinfgemodusausbzw.ein
Control+A€SchaltetdasautomatischeEinrckenein/aus

Backspace€L”schtdasZeichenlinksvomCursor
Delete€L”schtdasZeichenunterdemCursor
Control+Delete€L”schtdas'Wort'unterdemCursor

ˆVerlassendesEditors€

MitdenTastenEscape€undUndo€kannderEditorverlassen
werden.DieTasteEscape€l”steineSyntaxanalyseaus.Wenn
derTextpuffereinensyntaktischkorrektenTermenth„lt,dann
wirddieserandasaufrufendePr„dikatweitergegebenundder
Editorerfolgreichverlassen;ansonstenerscheintinder
Statuszeile(s.u.)eineFehlermeldung,undderCursorwirdan
eineStelleinderN„he(!)desFehlersgesetzt.
MitUndo€wirdderEditorohneSyntaxanalyseabgebrochenund
dasaufrufendePr„dikatschl„gtfehl.

ˆEinfgenvonZeichen€

DerEditorkannimEinfge-oderimErsetzungsmodusarbeiten
(umschaltenmitInsert€).ImEinfgemoduswerdenneueZeichen
zwischendiealteneingefgt,imErsetzungsmoduswerdendie
altenZeichenberschrieben.

AuerdemexistiertdieM”glichkeit,neuerzeugteZeilen
automatischeinzurcken.DieserModuswirdmitControl+A€ein-
undausgeschaltet.

ˆStatuszeile€

DieobersteBildschirmzeiledientzumAnzeigenvonMeldungen
desEditors.ImNormalfallwirdangegeben,obderEinfge-
oderErsetzungsmoduseingeschaltetistundobautomatisch
eingercktwird.NachErkenneneinesSyntaxfehlers(bei
EingabevonEscape€)erscheintindieserZeileeine
Fehlermeldung.

     4.‰SystemfunktionenundvordefiniertePr„dikate€

4.1  AttributevonFunktoren

InTOYPrologSTkanneinFunktor(bestimmtdurchseinen
„Namen€undseine„Stelligkeit€)nichtimmerzurDefinitioneines
Pr„dikatsbenutztwerden.

EinFunktorkanneinervonmehrerenKlassenangeh”ren:

(a)FunktoreinesProlog-Pr„dikats
(b)FunktoreinerSystemfunktion
(c)HandhabefreinSpeicherobjektauerhalbvonProlog

(a)istderNormalfall;aucheinFunktor,frdenkein
Pr„dikatdefiniertist,geh”rtdieserKlassean.

(b)trifftnurfrdieFunktorenderSystemfunktionenzu.
Funktorenk”nnenwederausdieserKlasseentferntnochinsie
aufgenommenwerden.

(c)wirdimKapitelberGEM-Funktionenerkl„rt.EinFunktor
ausKlasse(a),frdenkeinPr„dikatdefiniertist,kannmit
bestimmtenSystemfunktioneninKlasse(c)aufgenommenwerden;
FunktorenausKlasse(c)k”nnenwiederentferntundinKlasse
(a)aufgenommenwerden.ˆFunktorenindieserKlassehaben
€ˆimmerdieStelligkeit0,sindalsoLiterale€.

FunktoreninKlasse(a)k”nnen„geschtzt€werden;esistdann
nichtmehrm”glich,dieihnenzugeordnetenKlauselnzu
ver„ndern.Selbstverst„ndlichkannderSchutzauchwieder
aufgehobenwerden.

FrFunktorenderKlassen(a)und(b)existiertein
„Testmodus€,derzurProgrammentwicklungundFehlersuche
ntzlichist.ErwirdineinemgesondertenAbschnitt
besprochen.

4.2  Begriffe

Eine„Systemfunktion€isteinTeildesProlog-Interpreters,der
vonPrologausaufgerufenwerdenkann.EinerSystemfunktion
isteinFunktorzugeordnet;siewirdmitHilfedieses
Funktorsaufgerufen.AuchGEM-Funktionengeh”renzuden
Systemfunktionen(siewerdenaberineinemeigenenKapitel
besprochen).
Ein„vordefiniertesPr„dikat€isteinnormalesProlog-Pr„dikat,
dessenDefinitioninderDatei'SYSFILE.TOY'stehtundbeim
StartdesInterpreterseingelesenwird.

Systemfunktionensindˆimmer€deterministisch,k”nnenalsonur
genaueinmalerflltwerden.VordefiniertePr„dikate
unterliegendieserEinschr„nkungnicht.Esexistierenzum
BeispieleineSystemfunktiondmember/2undeinvordefiniertes
Pr„dikatmember/2,diesichnurdadurchunterscheiden,da
dmember/2deterministischundschnelleralsmember/2ist.

Systemfunktionenwerdenmeistenswegenihrer„Seiteneffekte€
aufgerufen.DaseinfachsteBeispielsinddieFunktionen,die
eineAusgabebewirken.

Die„Parameter€einerSystemfunktionodereinesvordefinierten
Pr„dikatsdrfennormalerweisenichtbeliebigeTermesein.In
denBeschreibungenwerdendaherfolgendeBezeichnungenfr
bestimmteKlassenvonTermenbenutzt:

TERMEinbeliebigerTerm
ZAHLEineZahl
VAREine(freie)Variable
VARINTEineZahloderVariable
FTERMEineFunktor-Term(auchohneArgumente)
AUFRUFEinFTERM,aberimSinneineszuerfllenden
Ziels
LITERALEinLiteral(FTERMohneArgumente)
NAMEEinLiteral,aberdiebetrachteteFunktion
benutztdenNamendesLiterals(z.B.als
Dateinamen)
ZEICHENEinauseinemeinzelnenZeichenbestehender
NAME(ˆnicht€derASCII-WertdesZeichens)
DATEINAMEEinNAME,derentwedereinenStandardstromzur
Ein-/AusgabeodereineDiskettendatei
bezeichnet
LISTEEineListe,dienochbestimmten
Einschr„nkungenfrihreElementeunterliegen
kann

IndenBeschreibungenwerdendieParametereinerFunktionder
ReihenachmitPAR1,PAR2etc.bezeichnet.

4.3  Fehlermeldungen

4.3.1     Fehler,diezumProgrammabbruchfhren

VerschiedeneFehlerhabensoschwerwiegendeAuswirkungen,da
dasmomentaneZielabgebrochenwird.Manchedavonfhrenzum
AbbruchdesganzenInterpreters.Diefolgendenfatalen€Fehler
k”nnenauftreten:

-EinAusnahmezustand(„Exception€)des68000-Prozessors,
deraufeinenundefiniertenSprungvektorfhrt.
Beispiel:Busfehler.
FallseinsolcherFehlerauftritt,benachrichtigenSie
bitte
JensKilian
LiegnitzerWeg14
6140Bensheim1

€unterAngabederSituation,inderderFehler
aufgetretenist.€EinderartigerFehlerfhrtzumAbsturz
desInterpreters.

-EinšberlaufderNamenstabelle.DieserFehleristnicht
behebbarundfhrtzumAbsturz.

-EinšberlaufeinesderdreiDatenstacks.Einsolcher
FehlerfhrtnichtzumAbsturz.

-EinšberlaufdeszentralenSpeicherbereichs(Heap).
DieserFehlerfhrt(imMoment)zumAbsturz,obwohler
ineinigenF„llenbehebbarw„re.Insp„terenVersion
wirddieserFehlerdurcheinenGarbage-Collector
abgefangenwerden.

DieGr”edergenanntenSpeicherbereichekannmandurch
status/0anzeigenlassen.

-EinFehlerimParser(keinSyntaxfehler,sondernein
FehlerinTOYPrologselbst!)oderbeiderUnifikation.
Sieheoben.€EinsolcherFehlerfhrtzumAbsturz.

-DerVersuch,denDruckerstromzurEingabezubenutzen.
FhrtnichtzumAbsturz.

-EinLese-oderSchreibfehlerbeieinemDiskettenzugriff.
FhrtnichtzumAbsturz.

-šberlaufdesPuffersbeiAusgabeaufdenDatenstrom
'memory',oderderVersuch,berdasPufferendehinaus
zulesen.FhrtnichtzumAbsturz.

4.3.2    FehlerbeimAufrufvonSystemfunktionen

WirdeineSystemfunktionmitParametermaufgerufen,dienicht
zul„ssigsind,dannfhrtdaszueinem„Systemaufruffehler€.
DerInterpreterruftbeieinemsolchenFehlerselbst„ndigdas
Pr„dikaterror/1auf,wobeiderParametervonerror/1der
fehlerhafteAufrufist.error/1istinderDatei
'SYSFILE.TOY'definiertundgibteineMeldungderForm

+++Systemcallerror:...

aus.Danachschl„gterror/1(unddamitauchderfehlerhafte
Aufruf)fehl.

SinddieParametereinerSystemfunktioninOrdnung,aber
trittbeiderAusfhrungeinFehlerauf,dannschl„gtdie
FunktionindenmeistenF„llen€fehl.VieleFunktionengeben
auerdemnocheineMeldungaus.
BeispielezudieserArtvonFehlern:

-SyntaxfehlerbeimLeseneinesTerms.
-Versuch,eingeschtztesPr„dikatzu„ndern.

EinigePr„dikategebendieseArtvonMeldungenauchanstelle
einesSystemaufruffehlersaus,aberdanngehtausderMeldung
hervor,welcheArtvonParametererwartetwurde.

4.3.3    FehlermeldungeninProlog-Pr„dikaten

VielevordefiniertePr„dikate(z.B.assert)berprfenihre
ParameterundgebenentsprechendeFehlermeldungenab.Die
meistenbenutzendazudasPr„dikaterror/1,dasdanneine
MeldungderForm

+++Error:...

erzeugt(sieheauchunter'Systemaufruffehler').

Selbstverst„ndlichkannerror/1auchinPr„dikatendes
Benutzersverwendetwerden.Mannkannerror/1aucherweitern,
umspezielleFehlerf„llezuerkennen.EinBeispieldazu:

error(Var):-var(Var),!,
display('+++Variableineinem Aufrufnichtgebunden:'),
display(Var),nl,bell,fail.

erkenntdenFall,dabeieinemVariablenaufrufzumZeitpunkt
derAusfhrungdesAufrufsdieVariablenichtinstantiiert
war.

4.3.4KritischeDiskettenfehler

SolcheFehlertretenz.B.auf,wenneinefalscheDisketteim
Laufwerkliegt.EsfolgtdieMeldung

Therewasacriticalerror.(A)bort,(R)etryor(I)gnore?

DurchEingebenvonA€kannmandieOperationabbrechen;mitR€
kanneinneuerVersuchveranlatwerdenundmitI€wirdder
Fehlerignoriert(Vorsicht!).

4.4  BeschreibungdereinzelnenFunktionen€

DieFormulierung'DieFunktionXˆprft€eineBedingung'
bedeutet,dadieFunktionbeiBestehenderBedingungerfllt
wirdundansonstenfehlschl„gt.
'DieFunktionXversucht,zweiTermezuunifizieren'
bedeutet,dadieFunktiongenaudannerflltwird,wenndie
Unifikationerfolgreichist.

4.4.1     Programmablauf

4.4.1.1   SteuerungdesProgrammablaufs(imweitestenSinne)

„true€

Wirdimmererfllt,kannabernichtwiedererflltwerden.

„fail€

Schl„gtimmerfehl.

„call€(AUFRUF)

HatdenselbenEffektwieAUFRUF;wirdinbestimmtenF„llen
vomInterpreterben”tigt(unddannautomatischeingesetzt).

AUFRUF„,€AUFRUF

Wirdgenaudannerfllt,wennPAR1ˆund€PAR2(indieser
Reihenfolge)erflltwerdenk”nnen.

AUFRUF„;€AUFRUF

Wirdgenaudannerfllt,wennPAR1ˆoder€PAR2(indieser
Reihenfolge)erflltwerdenk”nnen.PAR2wirdnurbetrachtet,
wennPAR1fehlschl„gtoder';'/2wiedererflltwerdensoll.

„not€AUFRUF

Wirdgenaudannerfllt,wennAUFRUFfehlschl„gt.

„check€(AUFRUF)

Wirdgenaudannerfllt,wennAUFRUFerflltwird,aber
instantiiertkeineVariablen.

„side_effects€(AUFRUF)

quivalentzucheck/1;solltebenutztwerden,wennesumdie
SeiteneffektevonPAR1geht.

„once€(AUFRUF)

Wirdgenaudannerfllt,wennAUFRUFerflltwerdenkann,
aberkannnichtwiedererflltwerden.

„try€(AUFRUF)

Versucht,AUFRUFdeterministischzuerfllen(wieonce/1),
wirdaberunabh„ngigvomErfolgoderFehlschlagvonAUFRUF
immererfllt.

„repeat€

Wirderflltundkannbeliebigoftwiedererflltwerden.

„stop€

BewirktnormalerweisedenAbbruchvonTOYPrologST.Falls
dieBenutzerschnittstellemit'tag(loop)'voneinemProgramm
ausaufgerufenwurde,wirdnureinFehlschlagdiesesAufrufs
ausgel”st.

„halt€(TERM)

GibtTERMausundbewirktdenAbbruchdesInterpreters.

„interrupt€

BewirkteineProgrammunterbrechung.SiehedenAbschnittber
denTestmodus.

„error€(TERM)

GibteineFehlermeldungaus;schl„gtnormalerweisefehl,kann
aberver„ndertwerden.

„goal€(TERM)

FallsPAR1einAUFRUFist,dannwirddieserAufrufzumneuen
Standardziel€desInterpreters.Erwirdautomatisch
aufgerufen,wennderInterpreterdirekt(alsonichtberdie
Benutzerschnittstelle)vomEingabestrom'user'lesensoll.
ˆAusnahme€:FallsPAR1derTerm'true'ist,wirddasmomentane
Standardzielgel”scht.

FallsPAR1eineVARIABLEist,wirddiesemitdemmomentanen
Standardzielunifiziert.FallskeinStandardzieldefiniert
ist,wirddazuderTerm'true'benutzt.

ImNormalfallist'ear'dasStandardziel.

‰WARNUNG:€BevormaneinenAufrufzumStandardzielmacht,
solltemansichvergewissern,dadie
entsprechendenPr„dikatefehlerfreiundvollst„ndig
sind.Werwissenwill,wasansonstenpassiert,kann
jamal

:-goal(status),tagexit(loop).

ausprobieren.

4.4.1.2Ver„nderungdesProgrammablaufs

WennderAufrufeinesPr„dikatseineKlauselinderDatenbank
aktiviert,dienichtdieletzteKlauseldeszugeh”rigen
Pr„dikatsist,dannwirddermomentaneZustanddes
Interpretersineinem'failpoint'oder'backtrackpoint'
gespeichert,denmansichalsZeiger€indieDatenbank
vorstellenkann.DieserZeigerwirdverwendet,umdien„chste
KlauseldesPr„dikatszufinden,wenneswiedererflltwerden
soll.
DiedirektenNachkommen€einesAufrufsAsinddieAufrufein
derdurchihnaktiviertenKlausel;Aistderendirekter
Vorfahr€.Nachkommen€vonAsinddiedirektenNachkommenund
derenNachkommen;Vorfahren€vonAsindderdirekteVorfahr
undseineVorfahren.

„!€   (gesprochen'cut',veraltetauch'slash')

Wirderfllt,nachdemdern„chsteVorfahrgefundenwurde,der
nichtcall/1,tag/1,,/2oder;/2ist.AlleDatenbankzeiger,
diezudiesemVorfahrenundseinenNachkommengeh”ren,werden
gel”scht.AlsResultatschl„gtdergefundeneVorfahrfehl,
wenn'!'/0wiedererflltwerdensoll.

„tag€(AUFRUF)

Bewirktdasselbewiecall(AUFRUF),allerdingsmiteinem
wichtigenUnterschied:wennderAufruftag(A)explizitin
einerKlauselsteht(alsoˆnicht€z.B.call(tag(A))!),dann
kannvonAunddessenNachkommenausaufdenAufrufvontag/1
zugegriffenwerden.AistdanneinmarkierterVorfahr€(tag,
engl.:Marke,Etikett)seinerNachkommen.

„ancestor€(TERM)

suchtnachdemn„chstenmarkiertenVorfahren,dermitPAR1
unifiziertwerdenkann(Fehlschlag,fallskeinergefunden
wird).NachderUnifikationwirdancestor/1erfllt.

„tagcut€(TERM)

Kombinationvonancestor/1und!/0:wenneinmarkierter
VorfahrvonPAR1gefundenwurde,werdendiezuihmundseinen
Nachkommengeh”rendenDatenbankzeigergel”scht.

„tagfail€(TERM)

Suchtnachdemn„chstenmarkiertenVorfahren,dermitPAR1
unifiziertwerdenkann;schl„gtfehl,fallskeinergefunden
wird.BeiErfolgschl„gtderˆVorfahr€sofortfehl.

„tagexit€(TERM)

Wietagfail/1,aberderVorfahrwirderfllt.

tag/1,ancestor/1,tagcut/1,tagfail/1undtagexit/1dienen
dazu,dennormalenProgrammablaufzudurchbrechen.Siewirken
„hnlichwie'goto'inimperativenProgrammiersprachenund
erschwerendadurchdasVerst„ndniseinesProgramms.
FrbestimmteAufgaben(AbbruchvonSchleifen,
Fehlerbehandlungetc.)sindsiesehrntzlich,abersie
solltenmitVorsicht€verwendetwerden.IndenmeistenProlog-
Dialektengibtes„hnlicheM”glichkeiten,inProlog-IIz.B.
„bloc€und„fin-bloc€(bzw.„block€und„block_end€).

4.4.2     Arithmetik,EinzelzeichenundVergleiche

4.4.2.1   Arithmetik

DiefrhervorhandenenFunktionensum/3undprod/4fallen
weg,dais/2jetzteineSystemfunktionist.

TERM„is€TERM

PAR2mueinarithmetischerAusdruck€sein,d.h.einTerm,der
nurausZahlen,denarithmetischenOperatoren'+'/1,'+'/2,
'-'/1,'-'/2,'*'/2,'/'/2,'mod'/2unddenlogischen
Operatoren'and'/2,'or'/2,'xor'/2und'not'/1besteht.Der
Wert€diesesAusdruckswirdberechnet(wobeidielogischen
Operationenbitweisedurchgefhrtwerden).Dannwird
versucht,PAR1mitdemerrechnetenWertzuunifizieren.

UmKompatibilit„tmitProlog-10zuerreichen,wirdalsPAR2
aucheinTermderForm[N]zugelassen,wobeiNeineZahlist.
DerWertdiesesAusdrucksistN.

BeiBenutzungdesOperators'not'ineinemarithmetischen
AusdruckistVorsichtgeboten,dadieserOperatoreine
'falsche'Priorit„that(erwirdauchalsPr„dikatbenutzt).

4.4.2.2   EinzelzeicheninTOYProlog

InProlog-10werdenEinzelzeichenalsASCII-Werte(alsoals
Zahlen)dargestelltundbehandelt.TOYPrologbenutzt
stattdesseneineandereDarstellung:

EinEinzelzeichen€isteinLiteral,dessenNamegenauein
Zeichenlangist.Erlaubtsind(inderST-Version)alle
ZeichendeserweitertenZeichensatzesvonGEM.

ZurUmwandlungzwischenEinzelzeichenundihrenASCII-Werten
dientdieFunktionordchr/2:

„ordchr€(ZAHL,ZEICHEN)

Wirdgenaudannerfllt,wennPAR1dieOrdinalzahl(der
ASCII-Wert)vonPAR2ist.

„ordchr€(VAR,ZEICHEN)

Wirderfllt,nachdemPAR1mitderOrdinalzahlvonPAR2
unifiziertwurde.

„ordchr€(ZAHL,VAR)

Wirderfllt,nachdemPAR2mitdemZEICHENunifiziertwurde,
dessenOrdinalzahl(PAR1mod255)ist.

ZurKlassifikationvonZeichengibtesverschiedene
Funktionen:

„iseoln€(TERM)

Versucht,PAR1mitdemZeilenendezeichen(CR)zuunifizieren.

„smalletter€(TERM)

šberprft,obPAR1einKleinbuchstabeist.Auch„,,‹,‘,...
sindKleinbuchstaben(sieheSyntaxbeschreibung).

„bigletter€(TERM)

šberprft,obPAR1einGrobuchstabeist.Auch,š,,¥,...
sindGrobuchstaben(sieheSyntaxbeschreibung).

„letter€(TERM)

šberprft,obPAR1einKlein-oderGrobuchstabeist.

„digit€(TERM)

šberprft,obPAR1einZiffernzeichenist.

„alphanum€(TERM)

šberprft,obPAR1einBuchstabe,einZiffernzeichenoderein
Tiefstrich('_')ist.

„bracket€(TERM)

šberprft,obPAR1einesderZeichen()[]{}ist.

„solochar€(TERM)

šbrprft,obPAR1einesderZeichen,;!ist.

„symch€(TERM)

šberprft,obPAR1einSymbolzeichenist(siehe
Syntaxbeschreibung).

4.4.2.3   FunktionenzumVergleichenvonZahlenundAusdrcken

„less€(ZAHL,ZAHL)

šberprft,obPAR1kleineralsPAR2ist.

TERM„=:=€TERM

PAR1undPAR2mssenarithmetischeAusdrckesein;eswird
berprft,obsiedengleichenWerthaben.

TERM„=\=€TERM   (=\=)

     Wie=:=,aberšberprfungauf'ungleich'.

TERM„<€TERM

Wie=:=,abereswirdberprft,obWert(PAR1)<Wert(PAR2).

TERM„=<€TERM

Wie<,aberšberprfungauf'kleinerodergleich'.Man
beachtedievonanderenProgrammiersprachenabweichende
Schreibweise;derOperator'<='sollfrdenProgrammierer
zurVerfgungstehen(weilersch”neraussieht...).

TERM„>€TERM

Wie<,aberšberprfungauf'gr”er'.

TERM„>=€TERM

Wie<,aberšberprfungauf'gr”erodergleich'.

4.4.2.4FunktionenzumVergleichenvonLiteralen

NAME„@<€NAME

šberprft,obPAR1inder(durchdenerweitertenZeichensatz
definierten)lexikographischenReihenfolgevorPAR2steht.

NAME„@=<€NAME

Wie@<,aberberprftauf'kleinerodergleich'.

NAME„@>€NAME

Wie@<,aberberprftauf'gr”er'.

NAME„@>=€NAME

Wie@<,aberberprftauf'gr”erodergleich'.

4.4.2.5   FunktionenzumVergleichvonTermen

„eqvar€(VAR,VAR)

šberprft,obPAR1undPAR2zweiInstanzenderselben,nicht
anonymenVariablensind.

TERM„==€TERM

šberprft,obPAR1undPAR2zweiInstanzendesselbenTerms
sind.

TERM„\==€TERM       (\==)

Wie==,aberberprftaufUngleichheit.

ˆUnifikationsoperator€:

TERM„=€TERM

Versucht,PAR1undPAR2zuunifizieren.

     ZurUnifikationinTOYPrologistnochfolgendesanzumerken:
DerverwendeteAlgorithmusenth„lt(wieallgemeinblich)aus
Effizienzgrndenkeinen"occurrencecheck",d.h.eswird
nichtberprft,obeinTermsichselbstenth„lt(voroder
nachdemUnifizieren).Daherk”nnenbeiderUnifikation
zyklische€Datenstrukturenentstehen.SolcheDatenstrukturen
mssenmitgroerVorsichtbehandeltwerden,daderVersuch,
siemitanderenTermen(odersichselbst)zuunifizieren,den
InterpreterineineEndlosschleife€fhrt.

InfrherenVersionendesInterpretersfhrtensolcheTerme
auchbeiderAusgabezuEndlosschleifen;dieVersion4hat
diesenNachteilnichtmehr(sieheunten).

4.4.3     Ein-undAusgabe(allgemein)

DieEin-undAusgabeinTOYPrologSTgeschiehtber
Datenstr”me€.VomBenutzerausgesehenisteinDatenstromein
Literal,n„mlichentwederderNameeinesvordefinierten€oder
Standard-Datenstroms€,oderderNameeinerDiskettendateides
TOS.Gro-undKleinschreibungwerdendabeiignoriert,d.h.
'USER'und'user'bezeichnenzwarverschiedeneLiterale,aber
denselbenDatenstrom.

4.4.3.1   VordefinierteDatenstr”me

EinvordefinierterDatenstromkanngleichzeitigzumLesenund
Schreibenbenutztwerden;Ausnahmensind'printer'(Lesen
nichterlaubt)und'memory'(Lesen/Schreibennicht
gleichzeitigm”glich).

     Esgibt6vordefinierteDatenstr”me:

ˆName€ˆLesezugriff€ˆSchreibzugriff€

userStandardeingabeStandardausgabe
(Tastaturgepuffert)(Bildschirm)
keybdTastatureingabe          AusgabeandenProzessor
(ungepuffert)inderTastatur
printer-nichterlaubt-Centronics-Schnittstelle
modemRS232EingabeRS232Ausgabe
midiMIDIEingabeMIDIAusgabe
memoryEinreservierterTextpuffer,dervomeingebauten
Bildschirmeditorbenutztwird.ErspeichertZeilen
vonje80ZeichenL„nge(šberl„ngenwerdenerkannt
undvomEditoruntersttzt).DerPufferkann
beliebigvieleZeilenaufnehmen(solangeder
Speichernichtberl„uft).

4.4.3.2   Dateistr”me

DerNameeinesDateistromskanneinbeliebigerDateinamedes
TOSsein,mitLaufwerksbezeichnung,PfadnamenundDateinamen.
'Wildcards'sindnichterlaubt.AufeineDateikannlesend
und-fallssienichtschreibgeschtztist-schreibend
zugegriffenwerden,abernichtgleichzeitig€.DerVersuch,
einenDateistromzumLesenund€Schreibenzu”ffnen,fhrtzum
Fehlschlag.Mehrmaliges™ffneninderselbenRichtungwird
ignoriert.

Esk”nnenbeliebigvieleDateistr”megleichzeitigoffensein.

4.4.3.3™ffnen,SchlieenundUmschaltenvonDatenstr”men

„see€(DATEINAME)

SchaltetdieEingabeaufdenangegebenenDatenstromum.Falls
essichumeinenochnichtge”ffneteDateihandelt,wird
diesezumLesenge”ffnet.

„seeing€(TERM)

Versucht,PAR1mitdemNamendesaktuellenEingabestromszu
unifizieren.

„seen€

SchlietdenaktuellenEingabestromundschaltetdieEingabe
auf'user'um.

„tell€(DATEINAME)

SchaltetdieAusgabeaufdenangegebenenDatenstromum.Falls
essichumeinenochnichtge”ffneteDateihandelt,wirdsie
gel”scht€undzumNeuschreibenge”ffnet.AuchderTextpuffer
'memory'wirdbeimAufrufvontell/1gel”scht.

„retell€(DATEINAME)

Wietell/1,abereineschonexistierendeDateiwirdnicht
gel”scht,sondernzumFortschreibenge”ffnet,d.h.neueDaten
werdenansEndeangeh„ngt.DerTextpuffer'memory'wirddurch
retell/1ebenfallsnichtgel”scht.

„telling€(TERM)

Versucht,PAR1mitdemNamendesaktuellenAusgabestromszu
unifizieren.

„told€

SchlietdenaktuellenAusgabestromundschaltetdieAusgabe
auf'user'um.

„ioreset€(DATEINAME)

BeiBenutzungvonDateinstr”men(bzw.desTextpuffers)kann
eszueinerVerklemmungkommen,wennderDatenstromdurch
einenProgrammabbruch(z.B.nacheinemFehler)ge”ffnet
bleibt.Durchioreset/1wirdeinesolcheVerklemmung
beseitigt,ohnedenInhaltdesDatenstromszul”schen.
DiesesPr„dikatsollteinsbesonderevorjedem€™ffnendes
Textpuffersaufgerufenwerden.

4.4.3.4   SpezielleFunktionenfrEingabestr”me

„echo€

ErlaubtdieKontrollederEingabevoneinerDateiodereinem
Peripherieger„t.Nach'echo'werdenalleeingelesenenZeichen
zurKontrolleaufdemBildschirmausgegeben.

„noecho€

SchaltetdieKontrollausgabewiederab.

„set_fstring€(ZAHL,NAME)

ErlaubtdieBelegungderFunktionstastenmitZeichenketten,
diebeimBet„tigenderTasteneingelesenwerden.Die
erlaubtenWertefrPAR1,zusammenmitdenentsprechenden
Tasten,sind:

ˆWerte€ˆTasten€
0-9F1bisF10
10-19F1bisF10mitShift
20-29F1bisF10mitAlternate
30-39F1bisF10mitAlternateundShift
40Help

FrPAR2,alsodasLiteral,dessenNamealsZeichenkette
benutztwird,giltnochfolgendes:
StehtimNamenein'backslash'(\),dannwirddasfolgende
Zeichensointerpretiert,alsobdieentsprechendeTaste
zusammenmit'Control'gedrcktwordenw„re.Beispiele:

\H-'Backspace',\M-'Return',\Z-'EOF'

Umeineinzelnes'\'indieZeichenketteaufzunehmen,
schreibtman'\\'(wieblich...).

„'$edit'€(TERM)

Diese'primitive'Systemfunktionbildetdieeinzige
SchnittstellezumBildschirmeditor.SieruftdenEditorauf;
nachdemVerlassendesEditorsmit'Escape'wirdversucht,
PAR1mitdemTermimTextpufferzuunifizieren.'$edit'/1
schl„gtfehl,wennderEditormit'Undo'verlassenwird.
DieVerwendungdieserFunktionwirdnichtempfohlen;zum
EditierenvonTermensollteedit/2,zumVer„ndernvon
Klauselnedit/3verwendetwerden.DieseFunktionbenutzen
'$edit'/1.

4.4.3.5   FunktionenzurEin-undAusgabevonTermen

BeiderAusgabevonTermenmitdisplay/1,write/1und
writeq/1werdenzyklischeDatenstrukturen(unendlicheTerme€)
erkannt.BeiderAusgabesolcherTermewirdeinTeilterm,der
innerhalbseinerselbstvorkommt,infolgenderForm
ausgegeben:

          <Funktor>:<Zahl>

Dabeiist<Funktor>derNamedes„uerstenFunktorsdes
Teilterms,<Zahl>gibtdieSchachtelungstiefean.

     Beispiel:      X=f(X)fhrtzurAntwort
X=f(f:1)

„display€(TERM)

GibtPAR1inkanonischerFormaufdenaktuellenAusgabestrom
aus.

„write€(TERM)

GibtPAR1aufdenaktuellenAusgabestromaus.Diemomentanen
Operatorvereinbarungenwerdenbeachtet,aberNamenwerden
nichtinApostrophengesetzt.

„writeq€(TERM)

Wiewrite/1,aberLiterale,diekeineNamenoderSymbole
sind,oderdieinKonfliktzueinerOperatorvereinbarung
stehen,werdeninApostrophengesetzt.Terme,diemit
'writeq'ausgegebenwurden,k”nnenmit'read'wieder
eingelesenwerden.

„prettyprint€(TERM)

DerTermwirdalsKlauselausgegeben:JederAufrufkommtauf
eineeigeneZeileundwirdeingerckt.AnsEndewirdein
Punktangeh„ngt.Ansonstenwiewriteq/1.

„writetext€(STRING)

EinSTRINGisteineLISTEausEinzelzeichen.DieZeichen
werdenohneZwischenraumaufdenaktuellenAusgabestrom
ausgegeben.

ˆBemerkung:€DurchEingabevon'Control+C'w„hrendeiner
AusgabekanndasaktuelleZielabgebrochen
werden.DerInterpreterruftdanachwiederdas
Standardzielauf.Alleo.a.Funktionenk”nnen
dadurchunterbrochenwerden.
Eingabevon'Control+S'h„ltdieAusgabean,
ohnesieabzubrechen.Mit'Control+Q'kanndie
Ausgabedanachwiederfreigegebenwerden.

„read€(TERM)

LiesteinenTermvomaktuellenEingabestrom(unter
BercksichtigungdermomentanenOperatorvereinbarungen).Der
TermmudurcheinenPunktabgeschlossenwerden.Eswird
versucht,PAR1mitdemTermzuunifizieren.

FallseinSyntaxfehlerentdecktwird,wirdeineentsprechende
MeldungausgegebenunddereingegebeneTextbiszumn„chsten
Punktbersprungen(auerhalbvonKommentarenoderNamen;
fallskeinPunktgefundenwird,muderBenutzereinen
eingeben.ImZweifelsfallzuerst'Return'drcken.Auchder
Abbruchmit'Control+Z'istm”glich).Danachwirdversucht,
PAR1mitdemLiteral'err'zuunifizieren.

Wirdversucht,berdasEndeeinerDateihinauszulesen,
sowirddieEingabeautomatischauf'user'umgeschaltetund
read/1schl„gtfehl.

„read€(TERM,TERM)

Wieread/1,aberPAR2wirdmiteinerSymboltabelle€unifiziert
(frdieBenutzerschnittstelle,ansonstenunwichtig).

4.4.3.6   OperatorvereinbarungundvordefinierteOperatoren

„op€(ZAHL,LITERAL,LITERAL)

VereinbartPAR3alsOperatormitTypPAR2undPriorit„tPAR1.
Esmugelten1óPAR1ó1200;OperatorenmitkleinererZahl
habenVorrang.DiePriorit„twirdimNormalfallkleinerals
1000gew„hltwerden,umKonfliktemitdenOperatoren',',
';',':-'und'-->'zuvermeiden.
PAR2muausderMenge{xf,yf,fx,fy,xfx,xfy,yfx}
gew„hltwerden.PAR3muohneApostrophendruckbarsein.
FallsbereitseineOperatorvereinbarungfrPAR3besteht,
wirdsiemodifiziert;einOperatorkanngleichzeitigeinen
bin„renundeinenun„renTypbesitzen,aberbeidemitder
gleichenPriorit„t.

„delop€(LITERAL)

L”schtdieOperatorvereinbarungfrPAR1.

DiefolgendenStandardoperatoren€sindvordefiniert(teilsim
Interpreterselbst,teilsinSYSFILE.TOY):

ˆName€ˆTyp(en)€   ˆPriorit„t€

:-xfx,fx1200
-->xfx1200
;xfy1100
,xfy1000
notfy900
=xfx700
isxfx700
=:=xfx700
=\=xfx700
<xfx700
=<xfx700
>xfx700
>=xfx700
@<xfx700
@=<xfx700
@>xfx700
@>=xfx700
==xfx700
\==xfx700
=..xfx700
oryfx650
andyfx600
xoryfx600
+yfx,fx500
-yfx,fx500
*yfx400
/yfx400
modxfx300

4.4.4Ein-undAusgabevonEinzelzeichen

DieEin-undAusgabevonEinzelzeicheninTOYPrologweicht
vonderinProlog-10angetroffenenMethodeab.InProlog-10
gibtesOperationenwie'get','put','skip',diemitASCII-
Wertenarbeiten.
DerHauptunterschiedliegt-nebenderRepr„sentationder
Zeichen-inderArtundWeise,wieTOYPrologundProlog-10
dieEingabehandhaben.'get'inProlog-10holtimmerdas
n„chsteZeichen;diesesZeichengehtverloren,wenn'get'
wiedererflltwerdensoll.InTOYPrologwirdeinZeichenin
einenPuffer€gelesenundbleibtsolangeerhalten,bisdas
n„chsteZeichenindenPufferwandert.AuchdasBacktracking
„ndertdenPuffernicht.

DieFunktionenvonProlog-10k”nnenauffolgendeWeise
nachgebildetwerden,sindaberwegendeserw„hntenVerhaltens
nichtvollst„ndigkompatibel:

get0(Ord):-rch,lastch(Ch),ordchr(Ord,Ch).

get(Ord):-rch,skipbl,lastch(Ch),ordchr(Ord,Ch).

skip(X):-repeat,get0(X),!.

put(Ord):-ordchr(Ord,Ch),wch(Ch).

4.4.4.1   FunktionenzurEin-/AusgabevonEinzelzeichen

„rch€

LiesteinZeichenvomaktuellenEingabestrominden
Zeichenpuffer.

„skipbl€

LiestsolangeZeichenvomEingabestrom,bisderZeichenpuffer
eindruckbaresZeichenenth„lt.FallsschonvordemAufruf
vonskipbl/0eindruckbaresZeichenimZeichenpuffersteht,
passiertnichts.

„lastch€(TERM)

Versucht,PAR1mitdemInhaltdesZeichenpufferszu
unifizieren.

„rdch€(TERM)

LiesteinZeichenindenZeichenpufferundversucht,PAR1mit
einerKopiedesZeichenszuunifizieren.Nichtdruckbare
ZeichenwerdeninBlanks(ASCII32)umgewandelt

„rdchsk€(TERM)

Wierdch/1,abervorherwirdskipbl/0aufgerufen.

Alle€dieseEingabefunktionenschlagenfehl,wenndas
Dateiende(bzw.EOF)erreichtwurde.

„wch€(ZEICHEN)

SchreibtPAR1aufdenaktuellenAusgabestrom.CRwirdals
Zeilentrennerangesehen(undinCR-LFumgewandelt).

„nl€

GibtdasZeichenCRaus(Zeilenvorschub,newline€).

„bell€

GibtdasZeichenBEL(ASCII7)aus-Glockenzeichenbei
Bildschirmausgabe,PiepserbeivielenDruckern.

4.4.4.2   Escape-Sequenzen

DasZeichenESC(ASCII27)hatbeiAusgabeaufdenBildschirm
eineSteuerfunktion:dieihmfolgenden1-3Zeichenwerden
nichtgedruckt,sondernalsKommandosinterpretiert
(entsprechendesgiltfrpraktischalleDrucker-siehederen
Handbcher).
DadieseinewichtigeundbequemeFunktionist,existiertdie
Funktion

„escape€

GibtdasZeichenESCaufdenaktuellenAusgabestromaus.

EinBeispielzurAnwendungist

„cls€

GibtESCund'E'aus-L”schendesBildschirms.

WeitereEscape-SequenzenfrdenATARIST:

ESCACursorhoch
ESCBCursorrunter
ESCCCursorrechts
ESCDCursorlinks
ESCHCursorobenlinks
ESCICursorhochundrunterscrollen
ESCJL”schenvonCursorpositionbisBildschirmende
ESCKL”schenvonCursorpositionbisZeilenende
ESCLZeileeinfgen
ESCMZeilel”schen
ESCYr€c€CursornachZeile(r€-32),Spalte(c€-32)
ESCbc€Vordergrundfarbe:=c€
ESCcc€Hintergrundfarbe:=c€
ESCdL”schenBildschirmanfangbisCursorposition
ESCeCursoreinschalten
ESCfCursorausschalten
ESCjCursorpositionspeichern
ESCkCursorandiegespeichertePosition
ESClZeilel”schen,CursorzumlinkenRand
ESCoL”schenZeilenanfangbisCursorposition
ESCpReverseVideo(InvertierteSchrift)an
ESCqReverseVideoaus
ESCvZeilensprungan
ESCwZeilensprungaus
4.4.5     TermtypenundTermstruktur

4.4.5.1   FunktionenzurKlassifizierungvonTermen

„var€(TERM)

Wirdgenaudannerfllt,wennPAR1eine(freie)Variableist.

„atom€(TERM)

Wirdgenaudannerfllt,wennPAR1einLiteralist.

„integer€(TERM)

Wirdgenaudannerfllt,wennPAR1eineZahlist.

„nonvarint€(TERM)

Wirdgenaudannerfllt,wennPAR1einFTERM(auchohne
Argumente)ist.

„isclosedlist€(TERM)(sieheAbschnitt4.4.8)

šberprft,obPAR1eine"geschlossene"Listeist.

4.4.5.2   FunktionenzumZugriffaufdieTermstruktur

„functor€(VAR,ZAHL,0)

PAR3mudieZahl0sein;PAR1undPAR2werdenunifiziert.

„functor€(VAR,LITERAL,ZAHL)

PAR1wirdmiteinemFTERMunifiziert,dessenFunktorden
NamenunddieStelligkeithat,diedurchPAR2undPAR3
festgelegtwerden,unddessenArgumenteverschiedenefreie
Variablensind.PAR3darfnichtnegativsein.

„functor€(ZAHL,TERM,TERM)

Versucht,PAR2mitPAR1undPAR3mitderZahl0zu
unifizieren.

„functor€(FTERM,TERM,TERM)

Versucht,PAR2mitdemNamenundPAR3mitderStelligkeitdes
„uerstenFunktorsvonPAR1zuunifizieren.

„arg€(ZAHL,FTERM,TERM)

Schl„gtfehl,fallsPAR1kleinerals1odergr”eralsdie
Stelligkeitdes„uerstenFunktorsvonPAR2ist;ansonsten
wirdversucht,PAR3mitdemPAR1-tenArgumentvonPAR2zu
unifizieren.

VAR„=..€[ZAHL]      (gesprochen"univ")

Wirderfllt,nachdemPAR1mitderZahlinPAR2unifiziert
wurde.

VAR„=..€[LITERAL|TERM]

TERMinPAR2mueine("geschlossene")Listesein.Eswird
einFTERMerzeugt,dessenFunktorLITERALunddessen
ArgumentlisteTERMist;dieserFunktor-TermwirdmitPAR1
unifiziert.

ZAHL„=..€TERM

Versucht,PAR2mit[PAR1]zuunifizieren.

FTERM„=..€TERM

ErzeugteineListe,derenKopfder„uersteFunktorvonPAR1
undderenRumpfdieListederArgumentevonPAR1ist.
Versucht,dieseListemitPAR2zuunifizieren.

„pname€(LITERAL,TERM)

ErzeugteineListederEinzelzeichen,ausdenenderNamevon
PAR1besteht,undversucht,dieseListemitPAR2zu
unifizieren.

„pname€(VAR,STRING)

PAR2mueineListevonEinzelzeichensein;PAR1wirdmit
einemLITERALunifiziert,dessenNameausdenEinzelzeichen
besteht.

„pnamei€(ZAHL,TERM)

ErzeugteineListederZiffernzeichen,diediedezimale
DarstellungvonPAR1bilden,undversucht,dieseListemit
PAR2zuunifizieren.PAR1darfnichtnegativsein€.

„pnamei€(VAR,STRING)

PAR2mueineListevonZiffernzeichenseinunddarf
insbesonderekeinVorzeichen€enthalten.PAR1wirdmitder
Zahlunifiziert,derenDezimaldarstellungdieZifferninPAR2
sind.AuchbeisyntaktischkorrektenParameternkannein
numerischeršberlauf€auftreten,fallsderdarstellbare
Zahlenbereich(momentanbis32767=215€-1)berschritten
wird.

'pname'und'pnamei'entsprechenderFunktion'name'von
Prolog-10,dienichtmitEinzelzeichen,sondernmitASCII-
Wertenarbeitet.

4.4.6     ZugriffaufdieDatenbank;dynamischeProgrammierung

4.4.6.1   SchutzvorVer„nderung

„protect€(LITERAL,ZAHL)

DieKlauselndesPr„dikats,dessenFunktordurchPAR1(Name)
undPAR2(Stelligkeit)bestimmtwird,werdenvor
Ver„nderungengeschtzt.

„protect€(LITERAL,VAR)

Wieoben,jedochwerdenallePr„dikatemitdemangegebenen
Namen€(unabh„ngigvonihrenStelligkeiten)geschtzt.Die
Variablewirdnichtinstantiiert.

„protect€(VAR,ZAHL)

Wieoben,jedochwerdenallePr„dikatemitderangegebenen
Stelligkeit€(unabh„ngigvonihrenNamen)geschtzt.Die
Variablewirdnichtinstantiiert.

„protect€(VAR,VAR)

Wieoben,jedochwerdenalle€Pr„dikateinderDatenbank
geschtzt.DieVariablenwerdennichtinstantiiert.

FralleAufrufmustergiltdieEinschr„nkung,daPr„dikate,
frdiekeineKlauselninderDatenbankvorhandensind,ˆnicht€
geschtztwerden.

„unprotect€(TERM,TERM)

AlleAufrufmustervonprotect/2sindgltig.Frdie
ausgew„hltenPr„dikatewirdderSchutzaufgehoben.

4.4.6.2   AbfragenvonInformationen/LesenvonKlauseln

„predefined€(LITERAL,ZAHL)

Wirdgenaudannerfllt,wenndurchPAR1undPAR2derFunktor
einerSystemfunktionbezeichnetwird.PAR2darfnichtnegativ
sein.

„proc€(TERM)

Versucht,PAR1miteinemFTERM,derdenNamenunddie
StelligkeitdeserstenPr„dikatsinderDatenbankbesitzt,zu
unifizieren.Sollproc/1wiedererflltwerden,wirdjeweils
dasn„chstePr„dikatbenutzt;amEndederDatenbankschl„gt
proc/1fehl.DieReihenfolgeistˆnicht€alphabetisch(siewird
durchdas'hashing'beimSpeichernvonFunktorenbestimmt).

proc/1benutztdie'primitiven'Systemfunktionen'$procinit',
'$proc'und'$proclimit'.DadieseFunktionenalleinkeinen
besonderenNutzenbieten,wirdaufihreFunktionnichtweiter
eingegangen.

„clause€(LITERAL,ZAHL,ZAHL,TERM,TERM)

PAR2darfnichtnegativsein.DurchPAR1undPAR2wirdein
Pr„dikatfestgelegt;fallseskeineKlauselmitNummerPAR3
besitzt,schl„gtclause/5fehl.Andernfallswirdversucht,
PAR4mitdemKopfundPAR5mitdemRumpfderKlauselzu
unifizieren.FaktenerhaltendabeidenRumpf'true'.

„clause€(FTERM,TERM)

FindetdieersteKlausel,derenKopfmitPAR1undderenRumpf
mitPAR2unifiziertwerdenkann,undwird(nachUnifikation)
erfllt.Sollclause/2wiedererflltwerden,sowirdnachder
n„chstenKlauselgesucht,usw.FaktenerhaltendenRumpf
'true'.

„listing€(LITERAL)

AlleKlauselnallerPr„dikatemitNamenPAR1werdenaufden
aktuellenAusgabestromausgegeben.

„listing€(LITERAL/ZAHL)

AlleKlauselndesdurchPAR1bestimmtenPr„dikatswerden
ausgegeben.

„listing€(LISTE)

DieElementevonPAR1mssenentwederLITERALeoderTermeder
FormLITERAL/ZAHLsein(oderverschachtelteListendieser
Form).FrjedesElementvonPAR1wirdlisting/1aufgerufen.

„listing€

AlleKlauselninderDatenbankwerdenaufdenaktuellen
Ausgabestromausgegeben.ZurReihenfolgesieheproc/1.

4.4.6.3EntfernenvonKlauselnausderDatenbank

„retract€(LITERAL,ZAHL,ZAHL)

PAR2darfnichtnegativsein.PAR1undPAR2bestimmenein
Pr„dikat;fallsdieseskeineKlauselmitNummerPAR3besitzt,
schl„gtretract/3fehl.Ansonstenwirdretract/3nach
EntfernenderentsprechendenKlauselausderDatenbank
erfllt.
‰Achtung:€FallszumZeitpunktderL”schungnochInstanzender
gel”schtenKlauselaktivsind,werdenindenallermeisten
F„llenkatastrophale€Fehler(mitnachfolgendemSystemabsturz)
auftreten!DasL”schenderKlausel,inderdergeradeaktive
Aufrufvonretract/3steht,geh”rtzudieserSortevon
Fehlern.

„retract€(FTERM)

BehandeltPAR1alseineKlausel;fallsderen„uerster
Funktor':-'/2ist,mudasersteseinerArgumenteeinFTERM
sein.DieerstemitPAR1unifizierbareKlauselwirdausder
Datenbankentfernt.Wennretract/1wiedererflltwerdensoll,
wirddien„chstemitPAR1unifizierbareKlauselgel”scht,
usw.ZuFehlersituationensieheretract/3.

„abolish€(LITERAL,ZAHL)

PAR2darfnichtnegativsein;dasdurchPAR1undPAR2
bestimmtePr„dikatwirdvollst„ndiggel”scht.Zu
Fehlersituationensieheretract/3.

4.4.6.4   AufnehmenneuerKlauselnindieDatenbank

„assert€(FTERM,TERM,ZAHL)

PAR2mueinkorrekterKlauselrumpfsein.DurchPAR1undPAR2
wirdeineRegeloder-wennPAR2'true'ist-einFakt
beschrieben.DieseKlauselwirddirektnachdern-tenKlausel
desdurchPAR1bestimmtenPr„dikatsindieDatenbank
eingefgt(n=PAR3,fallsdieKlauselmitdieserNummer
existiert;n=NummerderletztenKlausel,fallsPAR3>
AnzahlderKlauseln;fallsPAR3<1,wirddieneueKlausel
alsersteeingefgt).

„asserta€(FTERM)

PAR1mueinesyntaktischkorrekteKlauselsein.Siewirdals
erste€KlauseldesentsprechendenPr„dikatsindieDatenbank
eingefgt('a'isterster€BuchstabedesAlphabets...).

„assertz€(FTERM)

Wieasserta/1,aberPAR1wirdalsletzte€Klauseldes
entsprechendenPr„dikatsindieDatenbankeingefgt('z'ist
letzter€BuchstabedesAlphabets...).

„assert€(FTERM)

EinSynonymfrasserta/1-bewirktgenaudasselbe.

4.4.6.5   EinlesenundAbspeichernvonPr„dikaten

„consult€(DATEINAME)

SchaltetdieEingabeaufPAR1umundliestKlauseln,die
danachmitassertz/1gespeichertwerden.Esgibtdabeieine
Ausnahme:TermemitdemFunktor':-'/1sindKommandosund
werdensofortausgefhrt.DasDateiendebzw.dasvonder
TastaturauseingegebeneZeichenEOF(Control+Z)beendetden
Einlesevorgang.

„reconsult€(DATEINAME)

Wieconsult/1,aberdiealtenKlauselndereingelesenen
Pr„dikatewerdenberschrieben€.Eswerdennur
zusammenh„ngendeFolgenvonKlauselnerkannt;Beispiel:

ˆ?-€reconsult(user).
pr„dikat1(eins).
pr„dikat2.
pr„dikat1(zwei).
end.
ˆyes€
ˆ?-€listing(pr„dikat1)
ˆpr„dikat1(zwei).€
ˆyes€

„consultall€(LISTE)

DieElementevonPAR1msseneinfacheDATEINAMEnoderTerme
derForm-DATEINAMEsein(auchgemischt).Frjeden
einfachenDATEINAMEnwirdconsult/1,frjedenanderen
reconsult/1aufgerufen.DiesesPr„dikatwirdvonder
Benutzerschnittstelleaufgerufen,wenneineListeals
Kommandoeingegebenwurde.

„save€(TERM,DATEINAME)

MitdiesemPr„dikatk”nneneinzelnePr„dikateoderGruppen
vonPr„dikatenalsDateienabgespeichertwerden.PAR1darf
alleWerteannehmen,diealsArgumentevonlisting/1erlaubt
sind(siehedort).PAR2gibtdieerzeugteDateian.

4.4.6.6Pr„dikatezumAufrufdesBildschirmeditors

„edit€(TERM,TERM)

DiesesPr„dikatdientdazu,einenTerminteraktivzu
ver„ndern.PAR1wirdindenTextpuffergeschriebenundder
Editoraufgerufen.NachdemVerlassendesEditorsmitEscape€
wirdversucht,PAR2mitdemeditiertenTermzuunifizieren.
WirdderEditormitUndo€abgebrochen,soschl„gtedit/2fehl.

„edit€(LITERAL,ZAHL,ZAHL)

DiesesPr„dikatdientdazu,KlauselninderDatenbankgezielt
zuver„ndern.DieParameterentsprechendenParameternvon
retract/3:PAR1muNameeinesPr„dikatssein,PAR2dessen
Stelligkeit;wenneineKlauselmitNummerPAR3existiert,
wirdsieindenTextpuffergeschriebenundkanninteraktiv
ver„ndertwerden.NachVerlassendesEditorsmitEscape€wird
diealteVersionderKlauseldurchdieneueˆersetzt€.Eswird
nichtberprft,obdiealteunddieneueKlauseldemselben
Pr„dikatangeh”ren;deshalbkannmanmitedit/3auchKlauseln
voneinemPr„dikatineinanderesversetzen.
MitUndo€kannwieblichderEditorabgebrochenwerden,ohne
dasbearbeitetePr„dikatzuver„ndern.

4.4.7     HilfsmittelzumTestenvonProgrammen

4.4.7.1AnzeigevonundefiniertenPr„dikaten

„nonexistent€

Sorgtdafr,daAufrufevonundefiniertenPr„dikatenam
Bildschirmgemeldetwerden.

„nononexistent€

SchaltetdiešberwachungundefinierterPr„dikateaus.

4.4.7.2   DerTestmodus

ImTestmodusk”nneneinzelnePr„dikateberwachtwerden.Fr
einberwachtesPr„dikatwerdenMeldungenderfolgenden
Formenausgegeben:

CALL:AufrufwenndasPr„dikatzumerstenMal
aufgerufenwird.
REDO:Name/Stell.wenndasPr„dikatwiedererflltwerden
soll.
EXIT:AufrufwenndasPr„dikaterfolgreichverlassen
wird.
FAIL:Name/Stell.wenndasPr„dikatfehlschl„gt.

VorderMeldungwerdendieSchachtelungstiefenderAufrufeim
Kontrollstackausgegeben.

„spy€(TERM,TERM)

SchaltetdenTestmodusein.ZurBestimmungderbetroffenen
Pr„dikatesindalleAufrufmustervonprotect/2erlaubt.

„debug€

SchaltetdenTestmodusfralle€Pr„dikateinderDatenbank
einundsorgtdafr,daauchneueingegebene€Pr„dikatein
denTestmodusversetztwerden.

„nospy€(TERM,TERM)

SchaltetdenTestmodusaus.EssindalleAufrufmustervon
protect/2erlaubt.

„nodebug€

SchaltetdenTestmodusfralle€Pr„dikateausundsorgt
dafr,daneueingegebenePr„dikatenichtmehrautomatisch
indenTestmodusversetztwerden.

„spied€(LITERAL,ZAHL)

PAR2darfnichtnegativsein.Eswirdberprft,obdasdurch
PAR1undPAR2bestimmtePr„dikatsichimTestmodusbefindet.

4.4.7.3   ProgrammunterbrechungundEinzelschrittmodus

DerProgrammablaufkannzuTestzweckenunterbrochenwerden.
DaskannaufdreiverschiedeneArtengeschehen:

---ExterneUnterbrechung€durchdenBenutzer:werdenauf
derTastaturdieTasten'Shift','Alternate'und'Help'
gleichzeitiggedrckt,soerfolgtbeimn„chstenAufruf€
eineUnterbrechung.DieHardcopy-Funktion(mit
'Alternate'und'Help'allein)istnochverfgbar.
---ProgrammierteUnterbrechung€:EinAufrufderFunktion
interrupt/0bewirktebenfallseineUnterbrechung.
---DerAufrufeinesimEinzelschrittmodus€befindlichen
Pr„dikatesbewirktebenfallseineUnterbrechung.

WirddaslaufendeProgrammaufeinedieserArten
unterbrochen,sowirdeineMeldungderForm

INTR:Aufruf

ausgegeben,ˆsofernsichdasunterbrochenePr„dikatnicht
€ˆschonim  ‰Testmodusˆbefindet€.Anschlieendwirdinder
unterstenBildschirmzeileeinMenausgegeben,ausdem
folgendeOptionengew„hltwerdenk”nnen:

A€bortDasunterbrocheneZielwirdabgebrochen
(einschlielichderBenutzerschnittstelle).
B€acktraceDieVorfahrendesunterbrochenenZielswerden
angezeigt.
C€ontinueDasunterbrocheneZielwirdbearbeitet.
D€ebugON/OFFJenachAnzeigewirddebug/0(ON)oder
nodebug/0(OFF)aufgerufen.
F€ailDasunterbrocheneZielschl„gtohneweitere
Betrachtungfehl(erzwungenerFehlschlag€).
S€tepON/OFFJenachAnzeigewirdstep/0(ON)odernostep/0
(OFF)aufgerufen.
ST€atusstatus/0wirdaufgerufen(sieheAbschnitt
4.4.10).

AlleanderenEingabenwerdenignoriert.

„interrupt€

UnterbrichtdaslaufendeProgramm.ErfolgoderFehlschlag
h„ngenvonderEingabedesBenutzersab.interrupt/0kann
z.B.w„hrendderTestphaseeinesProgrammsmitdemEditorals
'breakpoint'inzuuntersuchendePr„dikateeingesetztwerden.

„step€(TERM,TERM)

SchaltetdenEinzelschrittmodusein.ZurBestimmungder
betroffenenPr„dikatesindalleAufrufmustervonprotect/2
erlaubt.

„step€

SchaltetdenEinzelschrittmodusfralle€Pr„dikateinder
Datenbankeinundsorgtdafr,daauchneueingegebene€
Pr„dikateindenEinzelschrittmodusversetztwerden.

„nostep€(TERM,TERM)

SchaltetdenEinzelschrittmodusaus.Essindalle
Aufrufmustervonprotect/2erlaubt.

„nostep€

SchaltetdenEinzelschrittmodusfralle€Pr„dikateausund
sorgtdafr,daneueingegebenePr„dikatenichtmehr
automatischindenEinzelschrittmodusversetztwerden.

„stepped€(LITERAL,ZAHL)

PAR2darfnichtnegativsein.Eswirdberprft,obdasdurch
PAR1undPAR2bestimmtePr„dikatsichimEinzelschrittmodus
befindet.

4.4.8     ListenundListenfunktionen

DieListe€istauchinPrologeinewichtigeDatenstruktur.Die
normaleSchreibweisefrListenverschleiertjedochden
AufbaueinerListe.Listensindfolgendermaendefiniert:

(1)[]isteineListe.
(2)EineStrukturderForm'.'(Kopf,Rumpf)istdanneine
Liste,wennRumpfeineListeist.

Ist'.'/2alsrechtsassoziativerInfix-Operatorvereinbart,
dannkannmanListenz.B.soschreiben:

[a,b,c]=a.b.c.[]

DieseSortevonListenwirdauchgeschlosseneListe€genannt.
BeieineroffenenListe€istdasschlieende[](gesprochen
'nil')durcheineVariableersetzt.OffeneListenhaben
zumindestebensovieleAnwendungenwiegeschlosseneListen
(z.B.alsSymboltabelleninParsern).

VieleFunktionen(z.B.pname/2)liefernoderverarbeiten
Listen.EsgibtabereinigeFunktionen,diespeziellzur
Listenverarbeitunggedachtsind.

„isclosedlist€(TERM)

šberprft,obPAR1einegeschlosseneListeist.

„length€(LISTE,TERM)

PAR1mueinegeschlosseneListesein.Eswirdversucht,ihre
L„nge(AnzahlderElemente)mitPAR2zuunifizieren.[]hat
dieL„nge0.

„member€(TERM,LISTE)

Wirddannerfllt,wennPAR1alsElementinPAR2enthalten
ist.IstPAR2eineˆoffene€ListeundistPAR1ˆnicht€inPAR2
enthalten,dannwirdPAR2umeinElement(n„mlichumPAR1)
ˆverl„ngert€(bleibtabereineoffeneListe).member/2ist
nichtdeterministisch,kannalsomehrmals(aufverschiedene
Weise)erflltwerden.EswirdoftalsGenerator€verwendet,
z.B.:

member(X,Liste),tu_was(X),fail.

wendetdasPr„dikattu_was/1sukzessiveaufdieElementevon
'Liste'an.

„dmember€(TERM,LISTE)

IsteineSystemfunktion,diefast„quivalentzumember/2ist.
EsgibtzweigroeUnterschiede:
     -dmember/2istdeterministischundkannnichtals
Generatorverwendetwerden.
-dmember/2arbeiteterheblichschnelleralsmember/2.
AusdemletztgenanntenGrundsolltedmember/2alsErsatzfr
member/2verwendetwerden,auerwennbestimmteEigenschaften
vonmember/2gezielteingesetztwerdenmssen.

„append€(TERM,TERM,TERM)

DiesesPr„dikatkannverwendetwerden,umListenzu
verketten,aberauch,umsieaufzuspalten.AlsGeneratorkann
esalleM”glichkeitenermitteln,umeineListeinzwei
Teillistenaufzuteilen.DadiesesPr„dikateinallgemein
verwendetesBeispielfrBacktracking,Rekursionetc.istund
indenmeistenBchernausfhrlichbehandeltwird,sollten
einpaarBeispielezurWirkunggengen:

append([1,2],[a,b],X)     ->   X=[1,2,a,b]
append(X,Y,[1,2,a,b])    ->   X=[],Y=[1,2,a,b];
X=[1],Y=[2,a,b];
X=[1,2],Y=[a,b];
X=[1,2,a],Y=[b];
X=[1,2,a,b],Y=[]
append("hello",X,"hello,world")
->X=[',','',w,o,r,l,d]

4.4.9FunktionendesBetriebssystems

4.4.9.1   DatumundUhrzeit

„date€(VARINT,VARINT,VARINT)

Versucht,PAR1mitdemJahr,PAR2mitdemMonatundPAR3mit
demTagdesmomentanenDatumszuunifizieren.

„set_date€(ZAHL,ZAHL,ZAHL)

SetztdasmomentaneDatum.PAR1istdasJahr,PAR2derMonat
undPAR3derTag.Eswirdnurgeprft,obdieParameterin
bestimmtenBereichenliegen,aberungltigeDaten(z.B.
30. Februar)werdennichterkannt.

„time€(VARINT,VARINT,VARINT)

Versucht,dieParametermitderaktuellenZeit(PAR1Stunde,
PAR2Minute,PAR3Sekunde)zuunifizieren.DieUhrdes
BetriebssystemsarbeitetinSchrittenvonjeˆzwei€Sekunden.

„set_time€(ZAHL,ZAHL,ZAHL)

SetztdieaktuelleZeit.ZuordnungderParameterwiebei
time/3.

4.4.9.2   ZugriffaufDateienundDateiverzeichnisse

„disk_dir€(VAR)

PAR1wirdmitdemPfadnamendesaktuellenDateiverzeichnisses
unifiziert.

„disk_dir€(LITERAL)

PAR1mueingltigerPfadnamesein;esmssenentwederdie
LaufwerksbezeichnungoderdereigentlichePfadnameoderbeide
vorhandensein.FehlteinedieserBezeichnungen,wirdder
aktuelleWerteingesetzt.DersoerhaltenePfadnamewirdzum
aktuellenDateiverzeichnis.

„subdirs€(TERM)

ErzeugteineListederUnterverzeichnissedesaktuellen
Dateiverzeichnissesundversucht,siemitPAR1zu
unifizieren.

„find€(DATEINAME,TERM)

SuchtdieDateimitNamenPAR1imaktuellenDateiverzeichnis
undinallenUnterverzeichnissendavon(beliebigtief
verschachtelt).Schl„gtfehl,fallsdieDateinirgendwo
gefundenwird;ansonstenwirdversucht,PAR2mitdemgesamten
NamendesDateiverzeichnisseszuunifizieren,indemdie
Dateigefundenwurde.

„open€(DATEINAME)

SuchtdieDatei(mitfind/2)imaktuellenDateiverzeichnis
undinseinenUnterverzeichnissen.BeiErfolgwirddas
gefundeneDateiverzeichniszumaktuellenunddieDateiwird
mitsee/1ge”ffnet.

„disk_search€(LITERAL,ZAHL,TERM,TERM)

PAR1undPAR2werdenalsParameterfrdenGEMDOS-Aufruf
F_SFIRSTverwendet.DiesersuchtnachdererstenDateiim
aktuellenDateiverzeichnis(oderineinemVerzeichnis,das
durcheinenPfadnameninPAR1bestimmtwird),diedem
ˆSuchmuster€inPAR1unddemˆSuchattribut€PAR2entspricht.Das
SuchmusterwirdwieeinDateinameangegeben;allerdingssind
beidieserFunktiondie'wildcards'*€und?€erlaubt(nurim
Dateinamen,nichtimPfadnamen).
DieeinzelnenBitsdesSuchattributesPAR2bedeuten:

ˆBit€ˆWert€ˆBedeutung€
01Dateiistschreibgeschtzt
12Dateiist'versteckt'
24DateiistSystemdatei(auchversteckt)
38keineDatei,sondernderDiskettenname
416keineDatei,sondernDateiverzeichnis
532Dateibeschriebenundgeschlossen(‚???€)

WirdkeineDateigefunden,schl„gtdisk_search/4fehl;
ansonstenwirdversucht,PAR3mitdemNamenundPAR4mitden
AttributendergefundenenDateizuunifizieren.

„disk_search€(TERM,TERM)

RuftdieGEMDOS-FunktionF_SNEXTauf:Dien„chste€Dateiwird
gesucht,derenNameundAttributezudenMusternimletzten€
Aufrufvondisk_search/4passen.Eswirdversucht,PAR3mit
demNamenundPAR4mitdenAttributendergefundenenDateizu
unifizieren.FallskeineDateigefundenwird,schl„gt
disk_search/2fehl.

4.4.9.3   AuflistendesInhaltsverzeichnisses

„directory€

GibtdasInhaltsverzeichnisdesaktuellenDateiverzeichnisses
aufdenmomentanenAusgabestromaus.DieNamenundAttribute
allergefundenenDateienwerdenausgegeben.

„directory€(DATEINAME)

GibtdasInhaltsverzeichnisdesDateiverzeichnissesPAR1aus.

4.4.10    VerschiedeneFunktionen

„status€

GibtverschiedeneInformationenberdiemomentane
Speicherbelegungaus.DerSpeicheristinmehrereSegmente
aufgeteilt,wobeiinjedemSegmentzweiStacksliegen;der
Streuspeicher(Heap)undderMaschinenstackliegenimgr”ten
Segment.EinigeKontrollstackswerdenindervorliegenden
VersionebenfallsimStreuspeicherangelegt.

„bagof€(TERM,TERM,TERM)

Versucht,PAR2aufallem”glichenWeisenzuerfllen.Die
dabeientstehendenInstanzenvonPAR1werdenineinerListe
gesammelt.Eswirdversucht,dieseListemitPAR3zu
unifizieren.

Beispiel:EsgebeeinPr„dikatkunde/2mitKlauseln

kunde(mller,1).kunde(meier,2).kunde(huber,3).
          (usw.usw.)

DerAufruf

bagof(Kunde,kunde(Kunde,_),NamensListe).

unifiziertdannNamensListemitdenKundennamen,also:

NamensListe=[mller,meier,huber,...]

„phrase€(AUFRUF,LISTE)

BetrachtetPAR1alsnicht-terminalesSymboleiner
grammatischenRegelundveranlatdieVerarbeitungvonPAR2,
wobeiPAR1alsStartsymbolverwendetwird.

