                          A   D   A   T   H  


     (½ Juni 1992 by Thomas Heldman, Giethgasse 37, 5010 Bergheim)




   A) Verwendungsbereich und allgemeine Merkmale


   Das Dateiprogramm "ADATH" ist gedacht fr Namenslisten, zur Kata-
   logisierung einer Bibliothek, von Schallplatten usw.; durch einige
   Sonderfunktionen eignet es sich besonders fr den Lehrer.
   Angestrebt wurden maximale Schnelligkeit, Bedienungssicherheit und
   Komfort. Optische Effekte, die vor allem Zeit und Speicherplatz ko-
   sten, sowie unn”tige GEM-Funktionen wurden nicht eingesetzt.

   Das Programm erkl„rt sich im Prinzip selbst und l„t sich weitge-
   hend ber die Tastatur steuern. Auf Mauseingaben wird durch <M1>
   bzw. <M2> hingewiesen. Funktionen, die ggf. nicht ansprechbar sind,
   werden zur Kennzeichnung in eine Box gesetzt.
   Bei Eingaben im INPUT-Modus wird der entsprechenden Basic-Befehl
   nur simuliert; dadurch wird u.a. die M”glichkeit gewonnen, die Ein-
   gabe jederzeit mit UNDO abzubrechen.
   Eingaben werden, wenn n”tig, auf kleinst- und gr”tm”gliche Werte
   begrenzt oder auf korrektes Format gebracht. Bei RETURN (=ENTER)
   ohne Eingabe wird, wenn vorhanden, ein vorgegebener und in Klam-
   mern genannter Text bzw. Wert bernommen; bei SHIFT+RETURN der
   Wert der vorhergehenden Eingabe. (Statt SHIFT ist zur Programm-
   steuerung ~ auer dem Abbruch ~ berall auch CONTROL m”glich).
   Texte k”nnen entweder vollst„ndig neu eingegeben werden, oder es
   wird im Insertmodus der vorhandene Eintrag nur ver„ndert. Mit
   SHIFT+PFEIL HOCH/TIEF kann man an den Anfang oder Schlu des
   Textes springen (z.B. im Kommentarteil), mit SHIFT+PFEIL LINKS/
   RECHTS an den Anfang oder das Ende der aktuellen Zeile.
   Leerzeichen am Ende eines Textes fallen weg. Eine Eingabe aus lau-
   ter Leerzeichen wird demnach gel”scht; ist dies unerwnscht (beim
   Zeugnisdruck), so kann man mittels ALTERNATE+"1" das Zeichen "ø",
   d.h. CHR$(248), eingeben, es wird beim Druck bergangen.
   Von fast allen Programmstellen auer den INPUT-Eingaben aus wird
   der Bildschirm nach fnf Minuten automatisch dunkelgeschaltet; die-
   ser Vorgang kann auch durch eine Taste bewirkt werden, n„mlich
   HELP. Ein beliebiger Tastendruck schaltet wieder ein.
   Das Programm kann allein vom Men aus abgebrochen werden, und
   zwar mit CONTROL+SHIFT+ALTERNATE.



   B) Funktionen


   1) DATEI dimensionieren / DATEI umdimensionieren

   Es werden die notwendigen Werte verlangt. Der Dateiname wird nur
   angenommen, wenn er keine unzul„ssigen Zeichen enth„lt, dann aber
   automatisch auf das FILE-Titel-Format gebracht; die Zahl der m”g-

   lichen Datens„tze und Felder wird entsprechend dem gegebenen
   Speicherplatz wie den Bedingungen des GfA-Basic berechnet und bei
   šberschreitung eine Warnung ausgegeben. (Die relativ niedrige Zahl
   erkl„rt sich aus dem hohen Platzbedarf des Kommentarfelds. Wer we-
   nig Kommentar und viele Datens„tze braucht, kann die Begrenzung
   mit CLR auf eigenes Risiko ausschalten.) Die maximale Felderzahl
   betr„gt 34. Eine bestehende Datei l„t sich beliebig umdimensionie-
   ren. Soll dabei die Zahl der Felder erh”ht werden, so mu man dafr
   jedoch innerhalb der Ausgabemaske ggf. erst Platz schaffen.


   2) DATEI Maske erstellen

   Datens„tze sind prinzipiell nur eine Bildschirmzeile lang. (Weitere
   Informationen lassen sich aber in einem zus„tzlichen Kommentar un-
   terbringen.) Die gew„hlten Felder werden benannt ~ wobei der Name
   vollst„ndig in die Zeile passen mu (sonst wird er nicht angenom-
   men) ~ und ihre L„nge innerhalb der Zeile festgelegt. Umfat eine
   Datei maximal 36 Datens„tze und berschreitet das letzte Feld nicht
   die Bildschirmmitte, so wird eine zweispaltige Liste erstellt, sonst
   eine einspaltige (vgl. Punkt 4). Das letzte Spalte (die 80.) ist prin-
   zipiell unzug„nglich, um ein unerwnschtes und leider sonst unver-
   meidliches Linefeed beim Scrollen zu vermeiden.


   3) DATEI pflegen, S„tze

   Es wird zun„chst der erste Satz ausgegeben. Andere S„tze sind zu-
   g„nglich durch Bl„ttern vor und zurck sowie durch Suchen entspre-
   chend ihrer Nummer oder ihrem Inhalt in den anzugebenden Feldern.
   (Ist die Suchfunktion aktiviert, so wird mit F10 der jeweils n„chste
   Satz gefunden, der den Suchbegriff enth„lt.) Eintragungen sind m”g-
   lich in einzelne Felder oder fortlaufend in mehrere (mit der M”g-
   lichkeit zu bequemem šberspringen oder Weiterbl„ttern).
   Zusatzinformationen werden in den Kommentarteil geschrieben; die
   Eigenschaften des Insert- bzw. Overwritemodus sind hierbei etwas
   modifiziert. Bei Ausgabe des Kommentars wird der Mauspfeil zun„chst
   an das Textende gesetzt; dort erscheint zum Schreiben auch der
   Cursor, falls die Maus nicht bewegt wurde. Mit SHIFT+INSERT bzw.
   SHIFT+CLR kann man sofort an den Textanfang zu springen; TAB
   bewirkt den Einschub, SHIFT+DELETE das L”schen einer Zeile; AL-
   TERNATE+DELETE l”scht alles nach dem Cursor. Ist ein Kommentar-
   text vorhanden, so wird die Satznummer unterstrichen.


   4) DATEI pflegen, Liste

   Die Datei wird gelistet, entweder ganz ~ ggf. als endloses Band, das
   sich scrollen l„t ~ oder (mit SHIFT+1 ~ im Zahlenblock! ~ bzw.
   M1) in einer gegebenen Auswahl, wenn zuvor die Suchfunktion ein-
   gesetzt war. šberlappen sich die Inhalte einzelner Felder, so er-
   scheinen auf dem Monitor jeweils beide (oder mehr) Zeichen gleich-
   zeitig; andernfalls wrde man den berschriebenen Text vergessen.
   Mit der Maus oder (SHIFT+)PFEIL lassen sich Felder aussuchen. Das
   Anklicken der Satznummer fhrt zum Kommentartext. Auf dessen
   Ebene kann dann auch gebl„ttert werden. Dies geschieht zun„chst
   im Rahmen der gegebenen Liste, die gegenber der Gesamtdatei re-

   duziert sein kann (Suchfunktion); um diese Einschr„nkung aufzuhe-
   ben, mu man zus„tzlich einmal die SHIFT-Taste bet„tigen. Es gibt
   eine Sortier- und eine Suchroutine sowie die M”glichkeit, Eintragun-
   gen zu vertauschen oder zu kopieren. (Gesucht werden kann unter
   Voranstellung des Zeichens "~" auch exklusiv, z.B. findet "~/" alle
   Eintragungen auer denen, an deren Anfang "/" steht.) Weiter sind
   diverse Berechnungsfunktionen einzusetzen; diese werden allerdings
   nur dann aktiv, wenn die eingetragenen Werte im Rahmen der Funk-
   tion sinnvoll sind. Wo n”tig wird das Freibleiben eines Eintragsfel-
   des bzw. ~satzes erzwungen. Speziell fr Lehrer gedacht sind dabei
   die Umrechnung von Noten in Punkte sowie zwei Varianten der
   Durchschnittsberechnung. Eine davon (der Schlerdurchschnitt) er-
   laubt es, Gewichtungsfaktoren zu w„hlen. Diese k”nnen fr jedes
   Feld bis auf zwei Dezimalstellen genau eingegeben werden, und zwar
   zwischen den Werten 1 und 0, wie etwa "1", "0.5", "0.33", "0" (in
   der Form: "4*0.5"); ein "*" anstelle der Feldnummer erm”glicht die
   gleichzeitige Ver„nderung aller Faktoren im gew„hlten Bereich (z.B.
   "**1"). Der (zun„chst automatisch gesetzte) Normalwert 1 wird nicht
   angezeigt, ansonsten jeweils der Nachkommateil oder die Null. Bei
   der Berechnung werden hier ausschlielich Eintr„ge wie "2", "2+",
   "2-" bercksichtigt; beim Klassendurchschnitt z„hlen auch solche der
   Form "2/3", "2-/3+", wobei nur die erste Zahl ohne die eventuelle
   Tendenz beachtet wird.


   5) DATEI ausdrucken

   Der Liste kann ganz oder teilweise, numeriert oder unnumeriert und
   in unterschiedlicher grafischer Gestaltung gedruckt werden. Der Vor-
   spann wird dabei ausgespart, wenn der Dateiname und/oder der erste
   Feldname mit "ø" beginnen. Wird nur ein Satz gewnscht, so kann
   man zus„tzlich den Kommentartext ausdrucken lassen.

   Formulardruck einzelner S„tze ist ebenfalls m”glich. Dazu lassen
   sich (abh„ngig von der dimensionierten Felderzahl) bis zu 16 Kon-
   stanten festlegen, die auf jedem Blatt erscheinen, und fr l„ngere
   individuelle Bemerkungen bis zu 12 Kommentarzeilen einbeziehen. Die
   Positionierung der Eintr„ge (bzw. ihrer jeweiligen Umsetzung) erfolgt
   millimetergenau ber den Bildschirm. Eine gleichzeitige Verschiebung
   aller Positionen ist m”glich, und ber eine Druckeroffset-Funktion
   l„t sich ein zus„tzlicher Ausgleich fr eventuelle Unterschiede in
   der Einzugstiefe von Druckern bewirken. Mit einem Kreuzchen (d.h.
   CHR$(187) bzw. ALTERNATE+F1) am Anfang eines Feldnamens wird
   eine Zentrierung des betreffenden Eintrags bewirkt.

   Zus„tzliche M”glichkeiten bietet die Option "Zeugnisdruck", die auch
   fr die Zwecke des einfachen Formulardrucks benutzt werden kann.
   Hier ist es m”glich, anstelle einer fehlenden individuellen Angabe
   eine feste Zeichenkette drucken zu lassen (etwa zum Durchstrei-
   chen). Das Muster hierzu wird fr die Bemerkungen in die entspre-
   chende Zeile des vorletzten Kommentarfelds geschrieben, ansonsten
   ber den Menpunkt "Umsetzungen" eingetragen. Dort stehen folgen-
   de Optionen zur Verfgung:  1) Der Inhalt des ersten Felds kann
   vergr”ert gedruckt, 2) das Umsetzen (von Noten in Begriffe usw.)
   auf bestimmte Felder beschr„nkt, 3) die Art und L„nge einer Zei-
   chenkette zum Durchstreichen bei nicht erteiltem Unterricht festge-
   legt und 4) die Positionierung der Notenbegriffe nach rechts ver-

   schoben werden (was im Zusammenhang mit Funktion 3 n”tig ist,
   wenn auer dem Notenfeld auch die jeweiligen Fachbezeichnungen
   durchgestrichen werden). Mit den Funktionen 4) und 5) lassen sich
   Zeichenketten festlegen, um vorgedruckte Versetzungsvermerke
   durchzustreichen oder eigene zu formulieren. Dazu ist im Umwand-
   lungsbereich ein Feld, am besten das letzte, mit "V" zu benennen
   und dort fr den Schler jeweils "j" oder "n" fr Versetzung bzw.
   Nichtversetzung einzutragen.
   Als Krzel in den Notenfeldern stehen fr die Umsetzung zur Verf-
   gung: "t"='teilgenommen', "nt"='nicht teilgen.' und "ne"='nicht er-
   teilt'. Wird in die definierbaren Zeichenketten (Konstanten, Bemer-
   kungen, Versetzungsvermerke) der Platzhalter "#" eingefgt, so setzt
   das Programm dort den Vornamen ein. Dieser mu im ersten Feld
   stehen, wobei folgende Formen des Eintrags m”glich sind: "Anna",
   "Anna Mller" oder "Mller, Anna".
   Fr Kurse der differenzierten Mittelstufe sind Felder mit dem Namen
   "W1" (oder "W2", "W3" usw.) zu benennen. Der Eintrag mu sich zu-
   sammensetzen aus dem Krzel fr das Fach und der Note (z.B. "F4"
   fr Franz”sisch: ausreichend). Findet das Programm nur eine von
   zwei m”glichen Eintragungen pro Schler, so wird der Kurs als vier-
   stndig (Einfhrung), sonst als zweistndig (Aufbau) ausgedruckt.
   (Diese Funktion ist auf NRW und ein bestimmtes Zeugnis abgestimmt,
   aber bei Bedarf durch Umprogrammieren relativ leicht zu „ndern.
   Vgl. hierzu und zum Zeugnisdruck allgemein die PROCEDURE drd.)

   Es stehen die zweckm„igen Schriftm”glichkeiten zur Wahl (beim
   Formulardruck in Kursiv). Auch ein Download-Zeichensatz kann ver-
   wendet werden; ist er nicht vorhanden, so tritt an seine Stelle au-
   tomatisch NLQ (normal).

   Das Programm ist auf den NEC P6 eingestellt; ein Umschreiben fr
   andere Drucker mit ausreichendem Befehlsumfang drfte aber keine
   Schwierigkeiten bieten (Ver„nderung der Steuersequenzen und der
   Umrechnungsfaktoren in den Routinen "ddr:" und "wdr:").


   6) DATEI speichern

   Das Programm stellt sich selbst„ndig auf die Zahl und Benennung
   der laut DESKTOP.INF angeschlossenen Laufwerke ein und erlaubt
   bequemes Umschalten.
   Die Speicherung erfolgt mit automatischer Backup-Routine.


   7) DATEI l”schen

   Es kann vollst„ndig oder selektiv gel”scht werden.


   8) DATEI laden

   Man w„hlt ein Laufwerk und l„t sich mit "Files" den Inhalt der
   Diskette oder des aktuellen Ordners zeigen. Mit der Maus oder
   (SHIFT+)PFEIL HOCH/TIEF wird ein Eintrag ausgesucht. Das Anklik-
   ken von Ordnern fhrt zum jeweiligen Unterverzeichnis; ESC erneuert
   das Directory im aktuellen Pfad, sofern der Mauspfeil innerhalb der
   Liste steht. Ist er auerhalb, so fhrt der Klick zum n„chsth”heren

   Pfad, ESC zum Hauptverzeichnis. Ebenso verwendbar ist die bliche
   "Selectbox"; hier wird ein angew„hlter Ordner bernommen, falls
   noch keine Datei im Rechner ist.
   Nach der Auswahl einer Datei werden die jeweiligen Befehle nur
   ausgefhrt, wenn die Wahl korrekt war: geladen werden also nur
   Dateien des Programms ~ fr ein Einlesen fremder Dateien mten
   diverse Kontrollabfragen aufgehoben werden ~, umbenannt oder ge-
   l”scht wird nur, was wirklich auf der Diskette steht (Diskettenwech-
   sel!). Durch diese Einschr„nkungen soll ein Programmabbruch durch
   eventuelle Fehler verhindert werden. / Vor dem Mergen wird von den
   zur Wahl stehenden Masken diejenige unterstrichen gezeigt, die zur
   Datei mit der gr”eren Felderzahl geh”rt.


   9) FEHLERKURVE

   Sie ist besonders fr Lehrer gedacht (Korrekturen von Tests usw.).
   Die Eingabe erfolgt mittels Anklicken der entsprechenden Kreise
   (Maustaste links = addieren, Maustaste rechts = subtrahieren) oder
   ber die Tastatur (".5" oder nur "." nach der Ganzzahl = n„chster
   Zwischenwert). Die Kurve bleibt bis zum L”schen stets erhalten.




   Achtung:

   Ist nur eine Diskettenstation vorhanden, wie beim 1040 ST ohne
   RAMDISK, so fhrt ein Umschalten auf das nicht vorhandene zweite
   Laufwerk (Meldung des Betriebssystems z.B.: Floppy B in Laufwerk
   A) evt. zu Problemen: die Filebox erscheint unvollst„ndig, und zu-
   letzt h„ngt der Rechner sich auf. (Der Fehler liegt im Blitter-TOS.)
   Man sollte also nur ein tats„chlich angeschlossenes Laufwerk an-
   w„hlen. Zur Sicherheit kann man Laufwerk B abmelden, allerdings ist
   dann vom Desktop aus nur noch ein Datei-Kopieren ber die RAM-
   DISK m”glich. (Mit einem Programm wie FCOPY_3 kann man allerdings
   auch von Laufwerk A nach Laufwerk A kopieren.) Eine RAMDISK ~
   unter eben dieser Bezeichnung, Buchstabe beliebig ~ sollte man b-
   rigens immer anlegen; das Programm vermindert mit ihrer Hilfe das
   Risiko eines unerkannten Diskettenwechsels.
   Verwendet man die Maus bei der Wahl des Insert-Modus in der Li-
   stenbearbeitung, so kann sich eine unerwnschte Dauer-Wiederho-
   lung des Klicks einstellen. Der Fehler liegt im Betriebssystem und
   ist irreparabel. Man kann die Wiederholung aber unterbrechen, wenn
   man die Maus bewegt oder ein Zeichen ber die Tastatur eintippt

   Das Programm ist in GfA-Basic 3.5 geschrieben und kompiliert.




   Fr Rckfragen und Vorschl„ge zu evt. Programmverbesserungen ste-
   he ich gern zur Verfgung: Telefon 02238/43678.



         Abkrzungen fr F„cher der differenzierten Mittelstufe



            B   Biologie              L  Lateinisch
            D   Deutsch               M  Mathematik
            C   Chemie                MU Musik
            E   Englisch              P  Physik
            EK  Erdkunde              R  Russisch
            F   Franz”sisch           SW Sozialwissenschaft
            G   Geschichte            S  Spanisch
            GR  Griechisch            ST Sport
            K   Kunst









        (Erg„nzungen und Ver„nderungen in der PROCEDURE zeu.)
