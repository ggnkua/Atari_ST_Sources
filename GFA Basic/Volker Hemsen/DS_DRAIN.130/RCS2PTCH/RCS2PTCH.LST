'
' In der Ausgabe 11/91 der ST-Computer wird im Artikel 'Groûe
' Bilder im RCS' ein Programmpatch beschrieben, der den internen
' Zwischenspeicher im RCS 1.4 vergrîûert. So kînnen auch Bitblîcke
' mit mehr als 2500 Bytes verarbeiten werden. In der Version 2.1,
' die mit GFA-Basic ausgeliefert wird, ist der entsprechende
' Zwischenspeicher sogar nur 2000 Bytes lang. Er trÑgt den Symbol-
' namen '_WR_OBND'. FÅr das RCS2 Version 2.1 gelten folgende Patch-
' adressen:
'
' alte Adresse:       $198AA
' neue Adresse:       $1C380
'
' Patches:            $1860
'                     $187A
'                     $21BE
'                     $2410
'                     $3A08
'                     $3A3E
'                     $3AAE
'
'
' Das folgende Programm verÑndert euer RCS2 !
' Idee fÅr RCS 1.4 von Jan Willamowius
'
zusatz%=16000                !16kB
old_adr%=&H198AA
DIM patch%(6)
patch%(0)=&H1860
patch%(1)=&H187A
patch%(2)=&H21BE
patch%(3)=&H2410
patch%(4)=&H3A08
patch%(5)=&H3A3E
patch%(6)=&H3AAE
'
OPEN "u",#1,"RCS2.PRG"    !sollte sich um eine Sicherheitkopie handeln
SEEK #1,2
txt%=INP%(#1)
dat%=INP%(#1)
bss%=INP%(#1)
RELSEEK #1,-4
OUT% #1,bss%+zusatz%
new_adr%=txt%+dat%+bss%
'
FOR i&=0 TO 6
  SEEK #1,patch%(i&)+&H1C
  IF INP%(#1)=old_adr%
    RELSEEK #1,-4
    OUT% #1,new_adr%
  ELSE
    PRINT "Patch"'HEX$(patch%(i&))'" stimmt nicht!"
  ENDIF
NEXT i&
CLOSE #1
