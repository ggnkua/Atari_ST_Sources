****************************************************************************
      Utility-Listing: MENUE.LST fr GFABasic 3.5E
     fr ATARI-TT 030 mit Grobildschirm TTM194 (o.„.)
****************************************************************************
Zweck:
------
   Leider kann das aktuelle GFABasic 3.5E Menleisten auf dem ATARI-TT mit
seinen 160 Byte Bildschirmbreite nicht richtig aufbauen. Die Eintr„ge werden
nur mit sehr kleiner Schrift, eben der H„lfe der Normalschrift, aufgebaut.
Ein Ausweg sind nur die externen RSC-Files. Abgesehen davon, da man dann
doch wieder eine 2.Datei braucht, ist die Benutzung solcher RSC-Files doch
ein ziemlicher Umstand - v.a., wenn man die schnelle, einfache Benutzung der
GFABasic-eigenen MENU-Befehle gewohnt ist!
   Aus diesem Grund wurde MENUE.LST geschrieben, das eine Mensteuerung 'von
Hand' erm”glicht.

Leistungen:
-----------
   MENUE.LST baut alle Meneintr„ge in der normalen Schriftgr”e auf - bis
auf den DESK-Eintrag. Die Meneintr„ge k”nnen dann in gewohnter Manier durch
berfahren mit der Maus ge”ffnet und angew„hlt werden. Dabei werden die
aktivierten Eintr„ge invers dargestellt.
   Als Besonderheit kommt dazu, da die Eintr„ge auch ber einen Buchstaben
gew„hlt werden k”nnen. Dieser Wahlbuchstabe wird mit einem feinen
Unterstrich bezeichnet.
   Die Mensteuerung kann verh„ltnism„ig leicht mit MERGE zum Hauptprogramm
hinzugefgt werden. Nur die Mentitel mssen angepasst werden.

Einschr„nkung:
--------------
   Der DESK-Eintrag kann NUR mit der Maus aktiviert werden. Er mu auch mit
einem ordentlichen Mausklick wieder zugeklappt werden. Da der DESK-Eintrag
vom normalen GFABasic ON MENU verwaltet wird, erscheinen in diesem alle
Eintr„ge wieder in der stark verkleinerten Form und die Behandlung dieses
Eintrags ist v”llig getrennt von den anderen Hauptmeneintr„gen. Freilich
kann dies dazu fhren, da GLEICHZEITIG das DESK-Untermen UND ein anderes
Men aufgeklappt werden - aber nur, wenn das DESK-Men nicht ordentlich mit
Mausklick beendet wurde.

Einbau in eigene Programme:
---------------------------
   In der PROCEDURE m_init findet sich die Angabe 'Merge-Punkt'. Gegenber
den blichen DATA-Zeilen fr ein Men hat sich das Bild doch etwas gewandelt:
Nach jedem Eintrag folgt eine Zahl, die den CASE-Selector bezeichnet. Eine
'0' bedeutet, da die Anwahl dieses Eintrags keinerlei Aktion zur Folge hat.
Wenn Sie einem Titel ' Laden' z.B. die Nummer 112 geben, dann k”nnen Sie
sp„ter im Listing schreiben:
  CASE 112
   laden
Diese Funktionsnummern sind frei w„hlbar. Sie mssen nicht lckenlos sein
oder k”nnten gar negativ sein! Alles, was mit CASE machbar ist, geht mit
diesen Funktionsnummern. Insbesondere bei Men-Erweiterungen ist das
ntzlich. Sie behalten die alten Mennummern bei und vergeben fr die neuen,
dazwischen 'geklemmten' Men-Eintr„ge einfach neue Nummern. In den DATA-
Zeilen kann dann ein heilloses Wirrwar von Nummern entstehen. Das macht
nichts! Sie k”nnten aber sich selber ein wenig Ordnung g”nnen, wenn Sie dem
1.Hauptmeneintrag die Nummern 1-9, dem 2.Eintrag die Nummern 10-99, dem 3.
die Zahlen 100-999 reservieren - wie Sie wollen.
   Ansonsten „hneln diese DATA-Zeilen sehr den blichen DATA-Zeilen fr MENU.
Beginnt ein Eintrag mit '-', wird er auch in der blichen 'erleichterten'
Schrift dargestellt und er ist nicht w„hlbar.
   Hat ein Eintrag einen Grobuchstaben, wird dieser dann auch mit einer
dnnen Linie unterstrichen dargestellt und er dient zur Tastatursteuerung.
Freilich hat diese Sache einen Haken: Kommt ein Buchstabe 2x vor, ist immer
nur der 1.Eintrag mit diesem Buchstaben erreichbar! Aber Sie k”nnen sicher
das Listing „ndern und ein neues Feld fr die Commando-Buchstaben einfhren.
Die DATA-Zeilen w„ren dann nach jeder Ziffer mit einem Buchstaben zu
versehen, z.B. 'DATA Datei,0,D, Laden,112,L,..' Das w„re ein Vorschlag von
mir.
   Wichtig ist der Leerraum vor einem Titel. Sie k”nnten noch ein weiteres
Feld einfhren, da bestimmt, ob ein Eintrag 'abgehakt' werden mu oder
nicht. Das berlasse ich Ihnen. Wenn Sie Lust haben, k”nnen Sie ja auch noch
Untermens in den aufgeklappten Mentitel einbauen oder geteilte Mens wie
im Programm SIGNUM2!...
   Auf keinen Fall drfen die Leerstrings mit "" am Ende jeder Zeile UND
ganz am ENDE der DATA-Zeilen vergessen werden!
   MENUE.LST 'scannt' in einem ersten Durchgang Ihre DATA-Zeilen, nimmt dann
die Dimensionierung vor und tr„gt in einem 2.Durchgang Ihre Strings und
Befehlsnummern ein.
   Alle von MENUE.LST GLOBAL verwendeten Variablen beginnen mit einem 'm.',
damit Sie in keine Namenskonflikte kommen.
   Haben Sie die DATA-Zeilen glcklich angepasst, werden Sie die 'PROCEDURE
ausfuehren' anpassen mssen. Die 'PROCEDURE main' sollten Sie lieber nicht
anfassen! 'ausfuehren' ist eigentlich nur eine CASE-Liste.
   Die 'PROCEDURE direkt_befehl' soll auf Tasten reagieren, die NICHT in der
Menleiste stehen und direkte Aktionen ber die Tastatur OHNE Aufklappen
eines Mens ausl”sen sollen.
   MENUE.LST ist ein Auszug aus meinem PD-Programm FNT_ED.GFA. Sie k”nnen
lustig „ndern und neue Features einfhren.

                            Pfr.S.Just, Kirchweg 5, 6936 Haag, Tel.06262/6369

