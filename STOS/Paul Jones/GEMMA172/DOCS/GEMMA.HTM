<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN"><HTML><HEAD><TITLE>The GEMMA project</TITLE></HEAD><BODY BACKGROUND=gemmapro.gif><HR><IMG SRC=gemma.gif ALIGN=LEFT alt="PJCO GEMMA"><H1>The GEMMA project details by Paul Jones</H1><HR><P><A HREF=lenna.jpg><IMG SRC=gemma.jpg ALT="The GEMMA logo" ALIGN=left BORDER=0></A><H1><UL><TABLE><TD><FONT SIZE=+55 COLOR=RED><I><U>G</U></I></FONT><TD>raphic<TR><TD><FONT SIZE=+55 COLOR=RED><I><U>E</U></I></FONT><TD>nvironment<TR><TD><FONT SIZE=+55 COLOR=RED><I><U>M</U></I></FONT><TD>anager<TR><TD><FONT SIZE=+55 COLOR=RED><I><U>M</U></I></FONT><TD>ultiple<TR><TD><FONT SIZE=+55 COLOR=RED><I><U>A</U></I></FONT><TD>dvantages system<TR></TABLE></UL><P><CENTER>&quot;The Power Of GEM In The Power Of STOS&quot;</H1><P><SMALL>&copy; Copyright to PJCO &amp; the GEMMA programming team 1997. All rights reserved. The offical GEMMA FAQ. This FAQ can go on any diskmagazines/magazines/CD ROM or any form of software distribution <U>only</U> with the concent ofPaul Jones. Address details below at end of the file. This FAQ may change without prior notice. Updated reguarly.</SMALL></CENTER><P><CENTER><FONT COLOR=RED>You are GEMMA vistor #<IMG SRC="/cgi-bin/nph-count?width=4&link=/pjones/gemma.htm" ALT="????"> here!<P></FONT></CENTER><HR><H1><CENTER>Welcome to the GEMMA FAQ by Paul Jones!!</CENTER></H1><HR><UL><LI><A HREF="#whatsgemma">What's GEMMA and how can I install it?</A><LI><A HREF="#whatsthisgemmagroup">What's this GEMMA group?</A><LI><A HREF="#whatcanyoudowithgemma">What can you do with GEMMA?</A><LI><A HREF="#whatcommandsareavailable">What commands are available?</A><LI><A HREF="#surelygeminstosisimpossible">Surely GEM in STOS is impossible!?</A><LI><A HREF="#tellmemoreaboutthestartofgemma">Tell me more about the start of GEMMA!</A><LI><A HREF="#hlle">High Level Language Extensions (HLLE)</A><LI><A HREF="#gemvdidiy">G.E.M - V.D.I - D.I.Y?</A><LI><A HREF="#howreleased">How is GEMMA going to be released?</A><LI><A HREF="#isthatall">Is that all?</A><LI><A HREF="#aboutpic">What's the GEMMA logo?</A><LI><A HREF="#gemmapack">What's this GEMMA pack?<A><LI><A HREF="#examples">Examples</A></UL><A NAME="whatsgemma"><HR><H1><CENTER>What's GEMMA and how can I install it?</CENTER></H1><HR></A><P>The GEMMA project is about getting GEM in STOS, but really it's more then just that, in some ways it's going to create a totally new programming language, combatible with STOS, but will use GEM, with a real sourcecode editor with built in compiler/interpreter commands.<P>At the moment, GEMMA is an extension for STOS BASIC which allows you to use GEM in STOS (hence the name). GEMMA is like any other extension; all you have to do copy the extension to the STOS folder. Once this is done GEM is available for you to use. However, since STOS was programmed for non-GEM use, a special version of STOS (known as GEMMA STOS) is being programmed. Check out <A HREF="#surelygeminstosisimpossible">Surely GEM in STOS isimpossible!?</A> for more details.<P>However, the first version of GEMMA STOS has been produced. There are many ideasfor this &quot;new&quot; language. See <A HREF="gemmanow.htm">GEMMA past, present &amp; future</A> formore details on the ideas.<P><A NAME="whatsthisgemmagroup"><HR><H1><CENTER>What's this GEMMA group?</CENTER></H1><HR></A><P>The GEMMA group is responsible for the programming of the extension in 68000 assembly machine code. The team includes... <P><CENTER><TABLE BORDER><TH>Member Number<TH>Name<TH>Job<TR><TD align=center>1<TD>Paul &quot;Mr GEMMA&quot; Jones<TD>Programmer/document writer<TR><TD align=center>2<TD>Michael &quot;I've got something to show you&quot; Wensley<TD>Design&amp;Research/beta tester<TR><TD align=center>3<TD>Simon &quot;Sounds interesting...&quot; Walton<TD>Beta tester<TR><TD align=center>4<TD>Anthony &quot;disassemble everything!&quot; Jacques<TD>Programmer/<font color=red>S</font><font color=yellow>T</font><font color=green>O</font><font color=blue>S</font>fixer/beta tester/high level extension writer (You don't do too much!)<TR><TD align=center>5<TD>Phantom &quot;Spooky&quot;<TD><font color=red>S</font><font color=yellow>T</font><font color=green>O</font><font color=blue>S</font>fixer<TR><TD align=center>6<TD>Oliver Heun<TD>German distributer<TR><TD align=center>7<TD>Scott Stringer<TD>GEMMA Programmer<TR></TABLE><P>Want to contact them? Click <A HREF=contact.htm>here!</A></CENTER><P><P><A NAME="whatcanyoudowithgemma"><HR><H1><CENTER>What can you do with GEMMA?</CENTER></H1><HR></A><P><IMG SRC=alert.gif ALT="" ALIGN=LEFT>Every GEM command available is coded. This means that it is fully possible for you to program window dialogs, with menus and colour icons. All the other extension that use STOS can also be used in conjunction with GEMMA. Resource files, windows etc. can all be used. Everything that you see in GEM programs can be used. An alertbox is shown left, one of the first commands programmed in GEMMA.<P>By using the GEM commands, you can <I>use and write the commandline</I>. This means that you could <I>use archievers, such as STZIP</I>. This means QWK viewers, shells etc. could be written. With the command line alone you could write such things as <I>HTML <IMG SRC=alert2.gif ALT="" ALIGN=RIGHT>creators.</I> The window commands along with disk commands and <I>fileselector</I> could let you <I>create desktops shells (!)</I>. That's only three commands I've just mentioned, put this together with the HLLE's and, window dialogs etc. are all yours! GEMMA can now handle Falcon resolutions! The alert box above was created in STOS with GEMMA v1.35... in 256 colours!<FONT COLOR=RED><U><I>That's what GEMMA can do for you!</I></U></FONT><P>The latest versions of GEMMA STOS can even be used with MultiTOS! Unfortunatly because STOSassumes to use the hardware directly, input does not work correctly yet. Thehope is that this can be fixed for future versions.<BR CLEAR=ALL><P><A NAME="whatcommandsareavailable"><HR><H1><CENTER>What commands are available?</CENTER></H1><HR></A><P><CENTER><TABLE BORDER><TD colspan=5 align=center>The AES commands<TR><TD>appl_init<TD>appl_read<TD>appl_write<TD>appl_find<TD>appl_tplay<TR><TD>appl_trecord<TD>appl_search<TD>appl_exit<TD>evnt_keybd<TD>evnt_button<TR><TD>evnt_mouse<TD>evnt_mesag<TD>evnt_timer<TD>evnt_multi<TD>evnt_dclick<TR><TD>menu_bar<TD>menu_icheck<TD>menu_ienable<TD>menu_tnormal<TD>menu_text<TR><TD>menu_register<TD>menu_popup<TD>menu_attach<TD>menu_istart<TD>menu_settings<TR><TD>objc_add<TD>objc_delete<TD>objc_draw<TD>objc_find<TD>objc_offset<TR><TD>objc_order<TD>objc_edit<TD>objc_change<TD>objc_sysvar<TD>form_do<TR><TD>form_dial<TD>form_alert<TD>form_error<TD>form_center<TD>form_keybd<TR><TD>form_button<TD>graf_rubberbox<TD>graf_dragbox<TD>graf_movebox<TD>graf_growbox<TR><TD>graf_shrinkbox<TD>graf_watchbox<TD>graf_slidebox<TD>graf_handle<TD>graf_mouse<TR><TD>graf_mkstate<TD>scrp_read<TD>scrp_write<TD>fsel_input<TD>fsel_exinput<TR><TD>wind_create<TD>wind_open<TD>wind_close<TD>wind_delete<TD>wind_get<TR><TD>wind_set<TD>wind_find<TD>wind_update<TD>wind_calc<TD>wind_new<TR><TD>rsrc_load<TD>rsrc_free<TD>rsrc_gaddr<TD>rsrc_saddr<TD>rsrc_obfix<TR><TD>rsrc_rcfix<TD>shel_read<TD>shel_write<TD>shel_get<TD>shel_put<TR><TD>shel_find<TD>shel_envrn<TD>appl_getinfo<TR></TABLE><P><P><TABLE BORDER><P><TD colspan=5 align=center>The VDI commands<TR><TD>vst_load_fonts<TD>vst_unload_fons<TD>vs_clip<TD>v_pline<TD>v_pmarker<TR><TD>v_gtext<TD>v_fillarea<TD>v_contourfill<TD>vr_recfl<TD>v_bar<TR><TD>v_arc<TD>v_pieslice<TD>v_circle<TD>v_ellarc<TD>v_ellpie<TR><TD>v_ellipse<TD>v_rbox<TD>v_rfbox<TD>v_justified<TD>vswr_mode<TR><TD>vs_color<TD>vsl_type<TD>vsl_udsty<TD>vsl_width<TD>vsl_color<TR><TD>vsl_ends<TD>vsm_type<TD>vsm_height<TD>vsm_color<TD>vst_height<TR><TD>vst_point<TD>vst_rotation<TD>vst_font<TD>vst_color<TD>vst_effects<TR><TD>vst_alignment<TD>vst_interior<TD>vsf_style<TD>vsf_color<TD>vsf_perimeter<TR><TD>vsf_updat<TD>vro_cpyfm<TD>vst_cpyfrm<TD>v_get_pixel<TD>v_show_c<TR><TD>v_hide_c<TD>vsc_form<TD>vq_mouse<TD>vq_key_s<TD>vq_extnd<TR><TD>vq_color<TD>vql_attributes<TD>vqm_attributes<TD>vqf_attributes<TD>vqt_attributes<TR><TD>vqt_extent<TD>vqt_width<TD>vqt_name<TD>vqt_fontinfo<TR></TABLE><P></CENTER><P><A NAME="surelygeminstosisimpossible"><HR><H1><CENTER>Surely GEM in STOS is impossible!?</CENTER></H1><HR></A><P><DL><DT>The orginal problem:<DD>Many people thought like this for awhile, even some started laughing at me when I said it was possible! Many of the commands in the table above can be used with STOS v2.06. However, commands like 'rsrc_load' use GEMDOS to get memory. Since STOS has nicked this memory a special version of STOS is being created. This problem might not happen with compiled versions of programs, I state might since we don't know what STOS gets up to!<P>This is where GEMMA STOS comes in, programmed by our expert &quot;STOS fixers&quot;. They rewrite the sourcecode to STOS, so that GEMMA and STOS work perfectly together. If you download a copy of<A HREF=gemma037.zip>GEMMA037.ZIP</A> and try it you'll see that the STOS arrow destroys everything in it's path. GEMMA STOS will have this problem fixed, as well as other things such as STOS hogging up all memory, which in GEM programming is &quot;dirty&quot;. Of course, your favourite extensions will still work with this version of STOS, and other extensions you hate too!<P>Like everything, it's not perfect. The major problems at the moment are that the mouse isn't drawn correctly, programs cannot be resolution indepent, and the memory problem. All the errors in STOS should hopefully be fixed in the forthcoming versions of GEMMA STOS. Until then, however, you are very much limited to the number of commands you can use.<P><QUOTE>&quot;Although the idea of GEM inside STOS may be appealing to some, there areseveral outstanding major issues which have not yet been address. I amstill dubious as to whether these can be overcome... <P>Also, adding the ability to use GEM will not improve compatibility due tothe existing problems caused by STOS.&quot;</QUOTE>- Anthony Jacques, April 1997</DL><P><DL>The next incarnation:<P><DT><IMG SRC=window.gif ALT="" ALIGN=LEFT>Since the last FAQ many things have happened: all the GEM commands have been programmed and nearly all the problemshave been removed. I created the &quot;GEMMA accessory&quot;, which is a way to avoid the problems for the time being. This accessory reserves some memory on start up and copies the system variables into it's own memory. When STOS runs, it overwrites these system ones, so in STOS we overwrite it's own ones with the orginal system ones. Still with me? Using this method we have given GEM as much memory as the user wants, fixed the mouse problem, and the resolution. You can now go into 256 colours on a Falcon, run STOS, and the autostarting GEMMA program will put STOS into 256 colours so you can view GEM objects in 256 colours perfectly. The image you see to your top left is a window, created in GEMMA with STOS, in 256 colours - the first of its kind!<P>Using GEM in STOS is pretty freaky, and when I first saw a 256 colour window on the screen... I thourght I was in HBASIC with the desktop, it's that realistic.</DL><P>GEMMA STOS:<P>Although the extension hasn't changed that much since the last section, theway you can access GEM has changed. I have now found how to get the system informationbefore STOS started in the actuall BASIC???.??? program. This means it is moreprofessional - because it is - the GEMMA acc is no longer needed, neither is initialisationcode, because there is a new command, &quot;initgemma&quot; which restores the screen to what it wasbefore STOS got it's hand on it!<P>The latest latest version (fresh from the assembler!) can already restore the mouse pointerback! Also, GEMMA STOS doesn't assume it has all of memory, which makes futuremultitasking compatibilty closer to reality.<P><A NAME="tellmemoreaboutthestartofgemma"><HR><H1><CENTER>Tell me more about the start of GEMMA!</CENTER></H1><HR></A><P>How did the project start? Well...<P>It was a dark, wet, winter afternoon near Christmas 1996. Michael Wensley took his coat and shoes off having just arrived at Paul's house.<P>&quot;Paul? I've got something to show you,&quot; said the 2nd GEMMA member, before GEMMA had been invented, &quot;it's something to do with STOS.&quot;<P>Michael loaded up this program into STOS...<P><A HREF=alertsou.asc>The alertbox source</A><P>...and ran it.<P>&quot;Michael, is what I'm seeing <I><U>possible?</U></I>&quot;<BR>&quot;You can see it can't you?&quot;<P>That was start of the project. Once Michael had convinced Paul it was possible, he set about the start of the GEMMA extension, which at the time didn't have a name. GEMMA got its name from GEM, obviously. However, it did take some time to think of what the MA in GEMMA would stand for, and later GEMMA became a acronym for &quot;GraphicEnvironment Manager Multiple Advantages&quot; system. Nothing happened for awhile, since the source to a STOS extension was not available to both of them. The only thing that happened was a discussion about the fact that it was possible for GEM in STOS was possible on the NeST (Network ST).<P>This is where Simon Walton came in. He was the only one who took interest on the project on NeST. We soon decided he would write the documentation. About a month later the wheels started rolling for GEMMA. Paul got Internet access and accidently stubbled onto Anthony Jacques' homepage. What did they contain? The sourcecode to a STOS extension. Anthony was very interested in the project. Paul then joined the STOS mailing list, ran by Anthony himself (then).<P>At first, everyone doubted it. After awhile though, since of a few comments about ridding of the STOS fileselector, people soon realised what GEMMA meant, and what it could do for them...!<P><A NAME="hlle"><HR><H1><CENTER>High Level Language Extensions (HLLE)</CENTER></H1><HR></A><P>Using the basic commands on their own are fine to say the least, but many wouldn't like to even start making a GEM program, having to check for system messages etc. This is where the <font color=red>High Level Language Extensions (HLLEs)</font> come in. The GEMMA ones are specially created by Anthony and Paul for you to use. Instead of having to create your own functions to redraw formwindows, open them, bring up the file selector, call SAM with SAA files, draw a textwindow (a text file in a window), handle dialog boxes etc. these can be used.<P>All of these are can be accessed by the GOSUB command, and no royalitees need to be payed.<P><A NAME="gemvdidiy"><HR><H1><CENTER>G.E.M - V.D.I - D.I.Y?</CENTER></H1><HR></A><P><CENTER><IMG SRC=colshow.gif ALT="256 Colour Table!"></CENTER><P>The GEM system has two main features: the AES, the <FONT COLOR=RED>A</FONT>pplication<FONT COLOR=RED>E</FONT>nvironment <FONT COLOR=RED>S</FONT>ervices,deals with the windows, icons, resource files, dialogs, menus and pointers. The <FONT COLOR=RED>V</FONT>irtual <FONT COLOR=RED>D</FONT>evice<FONT COLOR=RED>I</FONT>nterface deals with the 'primative' parts of the graphic system, ie drawing circles, lines, plotting, area filling and drawing text. If you wanted to bring up a dialog box, for example,the AES part would be used, and if you wanted to draw a circle, the VDI part would be used. Both parts of the GEM system are programmed in GEMMA.<P>You have seen examples of the AES system all on this page, above is an example of the VDI. The program listing is:<P><PRE>10 dummy=vsf_interior(1,1)20 for A=0 to 25630 vsf_colr 1,A40 v_bar 1,X1,Y1,X1+10,Y1+1050 X1=X1+10 : if X1>320 then X1=0 : Y1=Y1+1060 next </PRE><P>This as you can see displays all 256 colours in a 256 colour Falcon rez - in STOS!<P><A NAME="howreleased"><HR><H1><CENTER>How is GEMMA going to be released?</CENTER></H1><HR></A><P>Of course, this being the GEMMA FAQ, you can download the version latest RELEASED versions of GEMMA, from <A HREF=gemmadow.htm>here</A>.<P>By vote of the GEMMA team (we are so democratic on the GEMMA team!), that GEMMA is now going to be released totally as<FONT COLOR=RED><U>donationware</U></FONT>, which means it will be totally free. If you want to send contributions to the GEMMA team, then please do so. Comments, of course, are always welcome (depending if they are good or bad!). The compiler version will also be<FONT COLOR=RED><U>donationware</U></FONT>, to let the extension spread as much as possible and encourage other people to use it.<P>(Erm Paul, you're a facist dictator - pretending to be a democracy! What next?! - Michael)<A NAME="isthatall"><HR><H1><CENTER>Is that all?</CENTER></H1><HR></A><P>By all means no! Every version of GEMMA contains documents on each of the programmed commands. GEMMA also has a expertly programmed built in help system on every function with examples included in the help function! Examples are included as ASC files too for convience. <P>The help system is now going to be a ACB, which means the text will be shown in a dialog/formwindow and examples can be shown to the user as he/she clicks around. The user can then also look at the source to see how the HLLEs/GEM programs are programmed with.<P><A NAME="aboutpic"><HR><H1><CENTER>What's the GEMMA logo?</CENTER></H1><HR></A><P>The GEMMA logo is pictured at the top of this HTML file. The picture of themodel (Lenna) was taken from the &quot;STe Power CD Volume 1&quot; from aJPG viewer program, which was PD, and so this picture is also PD. UsingTrueImage, GEMview and ImageCopy 4CD, this was converted to the specificsize and pasted onto the orginal GEMMA logo.<P>All pictures of GEMMA examples were all made with GEMMA in STOS with my Falcon030.<P><A NAME="gemmapack"><HR><H1><CENTER>What's this GEMMA pack?</CENTER></H1><HR></A><P>GEMMA, as discussed earlier is being released as donationware. In the GEMMA achieve (known as the GEMMA pack when finished)will be:<P><UL><LI>The latest version of GEMMA<LI>Technical documents containing command syntaxs<LI>The latest copy of the GEMMA FAQ in HTML format<LI>Examples of, if not all, most commands<LI>A detailed background of GEMMA<LI>The latest version of GEMMA STOS<LI>The latest constants file (all the numbers in the command documentaion)<LI>HASC - a program to convert .H file produced by a resource editor into .ASC which you may merge with in STOS!</UL><P>When GEMMA and the forthcoming GEMMA STOS are finished, you will be able to find copiesof the GEMMA pack(s) from the <A HREF=gemmadow.htm>GEMMA download</A> site.<P><A NAME="examples"><HR><H1><CENTER>Examples</CENTER></H1><HR></A><P>These examples are displayed as small icons. To view the full sized image,click on the icon.<P><A HREF=gemmaex1.gif><IMG SRC=gemmaes1.gif ALIGN=LEFT BORDER=0></A>This is the firstever GEM window brought up in STOS. It is in ST-medium resolution and was createdwith the first revision of GEMMA 0.65.<P><BR CLEAR=ALL><A HREF=gemmaex2.gif><IMG SRC=gemmaes2.gif ALIGN=RIGHT BORDER=0></A>An example of the GEMMA formwindow routines. Created with GEMMA 0.65.<P><BR CLEAR=ALL><A HREF=gemmaex3.gif><IMG SRC=gemmaes3.gif ALIGN=LEFT BORDER=0></A>An example of a dialog box, created with GEMMA 0.65.<P><BR CLEAR=ALL><A HREF=gemmaex4.gif><IMG SRC=gemmaes4.gif ALIGN=RIGHT BORDER=0></A>An ST-low res GEM window in action, created with GEMMA 0.98 (prior to theGEMMA acc).<P><BR CLEAR=ALL><A HREF=gemmaex5.gif><IMG SRC=gemmaes5.gif ALIGN=LEFT BORDER=0></A>The fileselector. At last with GEMMA 0.98 (with GEMMA acc) you can use the selector (or replacement), because memory can now be deallocated from STOS.<P><BR CLEAR=ALL><A HREF=gemmaex6.gif><IMG SRC=gemmaes6.gif ALIGN=RIGHT BORDER=0></A>This isa really great example of GEMMA in action. The following is taken from my Falcon030running Multiblow, ImageCopy, ST-Guide, STiK, the Control Panel and AES 4.1.There is a GEMMA formwindow there along with other windows. Created with GEMMA 1.65(and GEMMA STOS)<P><BR CLEAR=ALL><A HREF=gemmaex7.gif><IMG SRC=gemmaes7.gif ALIGN=LEFT BORDER=0></A>The latestin GEMMA programming. This is MultiTOS... with GEMMA in STOS!!!! Yes, it is possible,<FONT COLOR=RED><I>THE FIRST GEM MULTITASKING APPLICATION IN STOS!</I></FONT>. If youknow of any skeptics... show them this one!<P>As you can see, there are several applications running - Imagecopy, LINES.PRGand the viewer program (with the GEMMA command list being shown). Also twoiconified windows... noticed the GEMMA example's name registered in theDesk menu?<P><BR CLEAR=ALL><P><HR><SMALL><A HREF=home.htm>Back to the homepage</A></SMALL><HR><P>Last updated: 05/09/1997<P>Comments to:<ADDRESS><a href="mailto:paulat.jones@zetnet.co.uk">paulat.jones@zetnet.co.uk</a><P>7 Coppice Close<BR>Droitwich<BR>Worcester<BR>WR9 9JD<BR>England<BR>United Kingdom<P></ADDRESS></BODY>&copy; GEMMA is a copyright to PJCO and the GEMMA team 1997. All rights reserved.</HTML>